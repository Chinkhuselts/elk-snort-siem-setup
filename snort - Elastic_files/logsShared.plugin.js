/*! Copyright Elasticsearch B.V. and/or licensed to Elasticsearch B.V. under one or more contributor license agreements.
 * Licensed under the Elastic License 2.0; you may not use this file except in compliance with the Elastic License 2.0. */(()=>{var e,t={6524:(e,t,n)=>{"use strict";n.d(t,{GB:()=>l,v3:()=>c,xH:()=>u});var r=n(9094),i=n(1419),o=n(3919),s=n(3782);const a=([e,...t])=>{if(void 0===e)return[];if(e.type instanceof s.IntersectionType){const[,...e]=t;return a(e)}if(e.type instanceof s.UnionType){const[,...n]=t;return[e.key,...a(n)]}return[e.key,...a(t)]},c=e=>`Failed to validate: \n${e.map((e=>`  ${(e=>{var t;return null!==(t=e.message)&&void 0!==t?t:`in ${a(e.context).join("/")}: ${JSON.stringify(e.value)} does not match expected type ${(({context:e})=>{var t,n,r;return null!==(t=null===(n=e[e.length-1])||void 0===n||null===(r=n.type)||void 0===r?void 0:r.name)&&void 0!==t?t:"unknown"})(e)}`})(e)}`)).join("\n")}`,u=e=>new Error(e),l=(e,t=u)=>n=>(0,o.Fs)(e.decode(n),(0,r.fold)((e=>t=>{throw e(c(t))})(t),i.identity))},1600:(e,t,n)=>{"use strict";n.d(t,{O:()=>s});var r=n(4286),i=n.n(r),o=n(6791);function s(e,t={}){const n=i().lazy(e);return i().forwardRef(((e,s)=>{var a;return(0,o.jsx)(r.Suspense,{fallback:null!==(a=t.fallback)&&void 0!==a?a:null},i().createElement(n,{...e,ref:s}))}))}},733:(e,t,n)=>{"use strict";n.d(t,{us:()=>s,p5:()=>y,b$:()=>h,xZ:()=>S,$P:()=>d,ZH:()=>f,h5:()=>m,z3:()=>b,IH:()=>p,qc:()=>v,sy:()=>E});var r=n(3782),i=n(1082),o=n(9946);const s="/api/log_entries/highlights",a=r.intersection([r.type({logView:o.Pc,startTimestamp:r.number,endTimestamp:r.number,highlightTerms:r.array(r.string)}),r.partial({query:r.union([r.string,r.null]),size:r.number,columns:r.array(o._R)})]),c=r.intersection([a,r.type({before:r.union([i.X4,r.literal("last")])})]),u=r.intersection([a,r.type({after:r.union([i.X4,r.literal("first")])})]),l=r.intersection([a,r.type({center:i.X4})]),d=r.union([a,c,u,l]),f=r.type({data:r.array(r.union([r.type({topCursor:r.null,bottomCursor:r.null,entries:r.array(i.R)}),r.type({topCursor:i.X4,bottomCursor:i.X4,entries:r.array(i.R)})]))}),h="/api/log_entries/summary",p=r.type({logView:o.Pc,startTimestamp:r.number,endTimestamp:r.number,bucketSize:r.number,query:r.union([r.string,r.undefined,r.null])}),g=r.type({start:r.number,end:r.number,entriesCount:r.number}),v=r.type({data:r.type({start:r.number,end:r.number,buckets:r.array(g)})}),y="/api/log_entries/summary_highlights",m=r.intersection([p,r.type({highlightTerms:r.array(r.string)})]),w=r.intersection([g,r.type({representativeKey:i.X4})]),b=r.type({data:r.array(r.type({start:r.number,end:r.number,buckets:r.array(w)}))}),S=(r.type({logViewId:r.string}),r.type({data:o.oW})),E=(r.type({logViewId:r.string}),r.type({attributes:r.partial(o.$k.type.props)}));r.type({data:o.oW})},6875:(e,t,n)=>{"use strict";n.r(t),n.d(t,{LOG_VIEW_URL:()=>i,LOG_VIEW_URL_PREFIX:()=>r,getLogViewUrl:()=>o});const r="/api/infra/log_views",i=`${r}/{logViewId}`,o=e=>`${r}/${e}`},5850:(e,t,n)=>{"use strict";n.r(t),n.d(t,{DEFAULT_LOG_VIEW:()=>r.pC,DEFAULT_REFRESH_INTERVAL:()=>r.c_,FetchLogViewError:()=>i.So,FetchLogViewStatusError:()=>i.mf,LOGS_LOCATOR_ID:()=>c.$Z,LOG_ENTRIES_HIGHLIGHTS_PATH:()=>a.us,LOG_ENTRIES_SUMMARY_PATH:()=>a.b$,NODE_LOGS_LOCATOR_ID:()=>c.mq,ResolveLogViewError:()=>i.IT,TRACE_LOGS_LOCATOR_ID:()=>c.bC,convertISODateToNanoPrecision:()=>s.Q,createNodeLogsQuery:()=>u.yr,defaultFilterStateKey:()=>r.mq,defaultLogViewAttributes:()=>r.GE,defaultPositionStateKey:()=>r.Xt,getLogEntryCursorFromHit:()=>o.Oq,getLogsLocatorsFromUrlService:()=>c.DC,isNoSuchRemoteClusterError:()=>i.$u,logColumnRT:()=>o.to,logDataViewReferenceRT:()=>r.Vb,logEntriesHighlightsRequestRT:()=>a.$P,logEntriesHighlightsResponseRT:()=>a.ZH,logEntriesSummaryRequestRT:()=>a.IH,logEntriesSummaryResponseRT:()=>a.qc,logEntryAfterCursorRT:()=>o.DA,logEntryAroundCursorRT:()=>o.Q,logEntryBeforeCursorRT:()=>o.Mr,logEntryContextRT:()=>o._M,logEntryCursorRT:()=>o.X4,logEntryFieldRT:()=>o.JB,logEntryRT:()=>o.R,logFieldColumnRT:()=>o.PY,logIndexNameReferenceRT:()=>r.rc,logMessageColumnRT:()=>o.Yl,logMessageConstantPartRT:()=>o.RJ,logMessageFieldPartRT:()=>o.gk,logMessagePartRT:()=>o.no,logSourcesKibanaAdvancedSettingRT:()=>r.zm,logTimestampColumnRT:()=>o.T_,logViewColumnConfigurationRT:()=>r._R,logViewReferenceRT:()=>r.Pc,persistedLogViewReferenceRT:()=>r.Wm});var r=n(9946),i=n(5743),o=n(1082),s=n(5993),a=n(733),c=n(8422),u=n(721)},721:(e,t,n)=>{"use strict";n.d(t,{NE:()=>d,_I:()=>l,a4:()=>c,pm:()=>a,y4:()=>o,yr:()=>s});var r=n(1783),i=n.n(r);const o=e=>{const{filter:t}=e;return t?{language:"kuery",query:t}:void 0},s=e=>{const{nodeField:t,nodeId:n,filter:r}=e,i=`${t}: ${n}`;return r?`(${i}) and (${r})`:i},a=e=>({language:"kuery",query:s(e)}),c=e=>{const{traceId:t,filter:n}=e,r=`trace.id:"${t}" OR (not trace.id:* AND "${t}")`;return{language:"kuery",query:n?`(${r}) and (${n})`:r}},u={hours:1},l=e=>i()(e).subtract(u).toISOString(),d=e=>i()(e).add(u).toISOString()},8422:(e,t,n)=>{"use strict";n.d(t,{$Z:()=>s,J2:()=>LogsLocatorDefinition,mq:()=>c,Jk:()=>NodeLogsLocatorDefinition,bC:()=>a,oN:()=>TraceLogsLocatorDefinition,DC:()=>u});var r=n(8915);const i="ALL_DATASETS_LOCATOR";var o=n(721);const s="LOGS_LOCATOR";class LogsLocatorDefinition{constructor(e){(0,r.default)(this,"id",s),(0,r.default)(this,"getLocation",(async e=>{const t=this.locators.get(i),{time:n}=e;return t.getLocation({query:(0,o.y4)(e),...n?{timeRange:{from:(0,o._I)(n),to:(0,o.NE)(n)}}:{}})})),this.locators=e}}const a="TRACE_LOGS_LOCATOR";class TraceLogsLocatorDefinition{constructor(e){(0,r.default)(this,"id",a),(0,r.default)(this,"getLocation",(async e=>{const{time:t}=e;return this.locators.get(i).getLocation({query:(0,o.a4)(e),...t?{timeRange:{from:(0,o._I)(t),to:(0,o.NE)(t)}}:{}})})),this.locators=e}}const c="NODE_LOGS_LOCATOR";class NodeLogsLocatorDefinition{constructor(e){(0,r.default)(this,"id",c),(0,r.default)(this,"getLocation",(async e=>{const t=this.locators.get(i),{time:n}=e;return t.getLocation({query:(0,o.pm)(e),...n?{timeRange:{from:(0,o._I)(n),to:(0,o.NE)(n)}}:{}})})),this.locators=e}}const u=e=>{const t=e.locators.get(s),n=e.locators.get(c);return{logsLocator:t,traceLogsLocator:e.locators.get(a),nodeLogsLocator:n}}},1082:(e,t,n)=>{"use strict";n.d(t,{Oq:()=>l,to:()=>y,DA:()=>c,Q:()=>u,Mr:()=>a,_M:()=>m,X4:()=>s,JB:()=>w,R:()=>b,PY:()=>g,Yl:()=>v,RJ:()=>d,gk:()=>f,no:()=>h,T_:()=>p});var r=n(3782),i=n(6527),o=n(6524);const s=r.type({time:r.string,tiebreaker:r.number}),a=r.type({before:r.union([s,r.literal("last")])}),c=r.type({after:r.union([s,r.literal("first")])}),u=r.type({center:s}),l=e=>(0,o.GB)(s)({time:e.sort[0],tiebreaker:e.sort[1]}),d=r.type({constant:r.string}),f=r.type({field:r.string,value:i.Q,highlights:r.array(r.string)}),h=r.union([d,f]),p=r.type({columnId:r.string,time:r.string}),g=r.type({columnId:r.string,field:r.string,value:i.Q,highlights:r.array(r.string)}),v=r.type({columnId:r.string,message:r.array(h)}),y=r.union([p,g,v]),m=r.union([r.type({}),r.type({"container.id":r.string}),r.type({"host.name":r.string,"log.file.path":r.string})]),w=r.type({field:r.string,value:i.Q}),b=r.type({id:r.string,index:r.string,cursor:s,columns:r.array(y),context:m})},5743:(e,t,n)=>{"use strict";n.d(t,{$u:()=>r,$z:()=>PutLogViewError,IT:()=>ResolveLogViewError,So:()=>FetchLogViewError,mf:()=>FetchLogViewStatusError});class ResolveLogViewError extends Error{constructor(e,t){super(e),this.cause=t,Object.setPrototypeOf(this,new.target.prototype),this.name="ResolveLogViewError"}}class FetchLogViewError extends Error{constructor(e,t){super(e),this.cause=t,Object.setPrototypeOf(this,new.target.prototype),this.name="FetchLogViewError"}}class FetchLogViewStatusError extends Error{constructor(e,t){super(e),this.cause=t,Object.setPrototypeOf(this,new.target.prototype),this.name="FetchLogViewStatusError"}}class PutLogViewError extends Error{constructor(e,t){super(e),this.cause=t,Object.setPrototypeOf(this,new.target.prototype),this.name="PutLogViewError"}}const r=e=>{var t;return null==e||null===(t=e.message)||void 0===t?void 0:t.includes("no_such_remote_cluster_exception")}},9946:(e,t,n)=>{"use strict";n.d(t,{pC:()=>c,c_:()=>o,So:()=>u.So,mf:()=>u.mf,$z:()=>u.$z,mq:()=>r,GE:()=>s,I:()=>a,Xt:()=>i,$u:()=>u.$u,Vb:()=>w,rc:()=>b,zm:()=>S,$k:()=>V,_R:()=>C,oW:()=>T,Pc:()=>P,Wm:()=>O,Oh:()=>f});const r="logFilter",i="logPosition",o={pause:!0,value:5e3},s={name:"Log View",description:"A default log view",logIndices:{type:"index_name",indexName:"logs-*,filebeat-*"},logColumns:[{timestampColumn:{id:"5e7f964a-be8a-40d8-88d2-fbcfbdca0e2f"}},{fieldColumn:{id:"eb9777a8-fcd3-420e-ba7d-172fff6da7a2",field:"event.dataset"}},{messageColumn:{id:"b645d6da-824b-4723-9a2a-e8cece1645c0"}}]},a={messageFields:["message","@message"]},c={type:"log-view-reference",logViewId:"default"};var u=n(5743);const l="@timestamp",d="_doc",f=(e,t,n,r,i)=>"index_name"===t.logIndices.type?h(e,t,n,i):"data_view"===t.logIndices.type?p(t,n):g(e,t,n,r),h=async(e,t,n,r)=>{var i;if("index_name"!==t.logIndices.type)throw new Error("This function can only resolve legacy references");const o=t.logIndices.indexName,s=`log-view-${e}`;n.clearInstanceCache(s);const c=await n.create({id:s,name:t.name,title:o,timeFieldName:l,allowNoIndex:!0},!1,!1).catch((e=>{throw new u.IT(`Failed to create Data View reference: ${e}`,e)}));return{indices:o,timestampField:l,tiebreakerField:d,messageField:null!==(i=r.messageFields)&&void 0!==i?i:a.messageFields,fields:c.fields,runtimeMappings:{},columns:t.logColumns,name:t.name,description:t.description,dataViewReference:c}},p=async(e,t)=>{var n;if("data_view"!==e.logIndices.type)throw new Error("This function can only resolve Kibana data view references");const{dataViewId:r}=e.logIndices,i=await t.get(r).catch((e=>{throw new u.IT(`Failed to fetch data view "${r}": ${e}`,e)}));return{indices:i.getIndexPattern(),timestampField:null!==(n=i.timeFieldName)&&void 0!==n?n:l,tiebreakerField:d,messageField:["message"],fields:i.fields,runtimeMappings:v(i),columns:e.logColumns,name:e.name,description:e.description,dataViewReference:i}},g=async(e,t,n,r)=>{if("kibana_advanced_setting"!==t.logIndices.type)throw new Error("This function can only resolve references to the Log Sources Kibana advanced setting");const i=(await r.getLogSources()).map((e=>e.indexPattern)).join(","),o=`log-view-${e}`;n.clearInstanceCache(o);const s=await n.create({id:o,name:t.name,title:i,timeFieldName:l,allowNoIndex:!0},!1,!1).catch((e=>{throw new u.IT(`Failed to create Data View reference: ${e}`,e)}));return{indices:i,timestampField:l,tiebreakerField:d,messageField:["message"],fields:s.fields,runtimeMappings:{},columns:t.logColumns,name:t.name,description:t.description,dataViewReference:s}},v=e=>e.getRuntimeMappings();var y=n(3782);const m=y.keyof({stored:null,internal:null,inline:null,"infra-source-stored":null,"infra-source-internal":null,"infra-source-fallback":null}),w=y.type({type:y.literal("data_view"),dataViewId:y.string}),b=y.type({type:y.literal("index_name"),indexName:y.string}),S=y.type({type:y.literal("kibana_advanced_setting")}),E=y.union([w,b,S]),_=y.strict({id:y.string}),x=y.strict({timestampColumn:_}),L=y.strict({messageColumn:_}),R=y.strict({fieldColumn:y.intersection([_,y.strict({field:y.string})])}),C=y.union([x,L,R]),V=y.strict({name:y.string,description:y.string,logIndices:E,logColumns:y.array(C)}),T=y.exact(y.intersection([y.type({id:y.string,origin:m,attributes:V}),y.partial({updatedAt:y.number,version:y.string})])),O=(y.union([y.strict({index:y.literal("available")}),y.strict({index:y.literal("empty")}),y.strict({index:y.literal("missing"),reason:y.keyof({noIndicesFound:null,noShardsFound:null,remoteClusterNotFound:null})}),y.strict({index:y.literal("unknown")})]),y.type({logViewId:y.string,type:y.literal("log-view-reference")})),I=y.type({type:y.literal("log-view-inline"),id:y.string,attributes:V}),P=y.union([O,I])},9720:(e,t,n)=>{"use strict";n.d(t,{A:()=>a});var r=n(3782);const i=r.type({type:r.literal("aborted")}),o=r.type({type:r.literal("generic"),message:r.string}),s=r.type({type:r.literal("shardFailure"),shardInfo:r.type({shard:r.union([r.number,r.null]),index:r.union([r.string,r.null]),node:r.union([r.string,r.null])}),message:r.union([r.string,r.null])}),a=r.union([i,o,s])},5167:(e,t,n)=>{"use strict";n.d(t,{p7:()=>i,ek:()=>o});var r=n(6350);const i=(e,t)=>(n,i)=>function(e,t,n=r.ascending){const i=n(e.time,t.time);if(0===i){const r=n(e.tiebreaker,t.tiebreaker);return 0===r&&void 0!==e.gid&&void 0!==t.gid?n(e.gid,t.gid):r}return i}(e(n),i,t),o=(e,t)=>{const n=i(e,t),o=(0,r.bisector)(n);return(e,t)=>{const r=o.left(e,t);return r>=e.length||0!==n(e[r],t)?null:r}}},6527:(e,t,n)=>{"use strict";n.d(t,{J0:()=>i,Q:()=>s,ub:()=>a});var r=n(3782);const i=r.union([r.null,r.boolean,r.number,r.string]),o=r.recursion("JsonValue",(()=>r.union([i,s,a]))),s=r.recursion("JsonArray",(()=>r.array(o))),a=r.recursion("JsonObject",(()=>r.record(r.string,o)))},5993:(e,t,n)=>{"use strict";n.d(t,{Q:()=>o,J:()=>s});var r=n(6494),i=n.n(r);function o(e){const t=e.split("."),n=2===t.length?t[1].replace("Z",""):"",r=9!==n.length?n.padEnd(9,"0"):n;return`${t[0]}.${r}Z`}function s(e,t){var n;const r=o(e).split("."),s=r[1].substring(3,r[1].length),a=null===(n=i().parse(e))||void 0===n?void 0:n.subtract(t,"ms").toISOString();return`${null==a?void 0:a.replace("Z",s)}`}},2338:(e,t,n)=>{"use strict";n.d(t,{z:()=>c});var r=n(1783),i=n.n(r),o=n(4286),s=n(409);function a(e,t){const[n,r]=(0,s.useUiSetting$)(e);return[(0,o.useMemo)((()=>n||t),[n,t]),r]}const c=(e,{format:t="dateTime",fallbackFormat:n}={})=>{const r=a("dateFormat:scaled")[0]||[["",void 0]],s={dateTime:a("dateFormat")[0],time:r.find((([e])=>""===e))[1]}[t];return(0,o.useMemo)((()=>((e,t,n="Y-MM-DD HH:mm:ss.SSS")=>t?i()(e).format(t):i()(e).format(n))(e,s,n)),[e,s,n])}},4297:(e,t,n)=>{"use strict";n.r(t),n.d(t,{LogEntryColumn:()=>l,LogEntryColumnContent:()=>d,default:()=>g,getColumnWidths:()=>h,iconColumnId:()=>f,useColumnWidths:()=>p});var r=n(4286),i=n(2137),o=n(1783),s=n.n(o),a=n(6621),c=n(2338),u=n(5323);const l=i.euiStyled.div.attrs((e=>{var t;return{role:null!==(t=e.role)&&void 0!==t?t:"cell"}}))`
  align-items: stretch;
  display: flex;
  flex-basis: ${e=>e.baseWidth||"0%"};
  flex-direction: row;
  flex-grow: ${e=>e.growWeight||0};
  flex-shrink: ${e=>e.shrinkWeight||0};
  overflow: hidden;
`,d=i.euiStyled.div.attrs({"data-test-subj":"LogEntryColumnContent"})`
  flex: 1 0 0%;
  padding: 2px ${8}px;
`,f=Symbol("iconColumnId"),h=(e,t,n)=>e.reduce(((e,r)=>{if((0,a.hi)(r)){const i=r.timestampColumn.width?(0,a.HA)(r.timestampColumn.width):void 0;return{...e,[r.timestampColumn.id]:{growWeight:0,shrinkWeight:0,baseWidth:null!=i?i:`${Math.ceil(t*n*1.1)+16}px`}}}if((0,a.O4)(r)){const t=r.messageColumn.width?(0,a.HA)(r.messageColumn.width):void 0;return{...e,[r.messageColumn.id]:{growWeight:5,shrinkWeight:0,baseWidth:null!=t?t:"0%"}}}{const n=r.fieldColumn.width?(0,a.HA)(r.fieldColumn.width):void 0;return{...e,[r.fieldColumn.id]:{growWeight:n?0:1,shrinkWeight:0,baseWidth:null!=n?n:`${Math.ceil(10*t)+16}px`}}}}),{[f]:{growWeight:0,shrinkWeight:0,baseWidth:"48px"}}),p=({columnConfigurations:e,scale:t,timeFormat:n="time"})=>{const{CharacterDimensionsProbe:i,dimensions:o}=(0,u.oE)(t),a=(0,r.useMemo)((()=>s()().toISOString()),[]),l=(0,c.z)(a,{format:n}),d=(0,r.useMemo)((()=>h(e,o.width,l.length)),[e,o.width,l]);return(0,r.useMemo)((()=>({columnWidths:d,CharacterDimensionsProbe:i})),[d,i])},g=l},5323:(e,t,n)=>{"use strict";n.d(t,{AJ:()=>s,F4:()=>l,Ss:()=>c,Yg:()=>a,oE:()=>f,w6:()=>u,xQ:()=>d});var r=n(4286),i=n(2137),o=n(6791);const s=e=>i.css`
  font-family: ${e=>e.theme.eui.euiCodeFontFamily};
  font-size: ${t=>{switch(e){case"large":return t.theme.eui.euiFontSizeM;case"medium":return t.theme.eui.euiFontSizeS;case"small":return t.theme.eui.euiFontSizeXS;default:return t.theme.eui.euiFontSize}}};
  line-height: ${e=>e.theme.eui.euiLineHeight};
`,a=i.css`
  background-color: ${e=>e.theme.eui.euiFocusBackgroundColor};
`,c=i.css`
  background-color: ${e=>e.theme.eui.euiColorHighlight};
`,u=i.css`
  overflow: visible;
  white-space: pre-wrap;
  word-break: break-all;
`,l=i.css`
  overflow: hidden;
  white-space: pre;
`,d=i.css`
  overflow: hidden;
  white-space: nowrap;
`,f=e=>{const[t,n]=(0,r.useState)({height:0,width:0}),i=(0,r.useCallback)((e=>{if(!e)return;const t=e.getBoundingClientRect();n({height:t.height,width:t.width})}),[]);return{CharacterDimensionsProbe:(0,r.useMemo)((()=>()=>(0,o.jsx)(h,{scale:e,ref:i},"X")),[i,e]),dimensions:t}},h=i.euiStyled.div.attrs((()=>({"aria-hidden":!0})))`
  visibility: hidden;
  position: absolute;
  height: auto;
  width: auto;
  padding: 0;
  margin: 0;

  ${e=>s(e.scale)};
`},4208:(e,t,n)=>{"use strict";n.d(t,{SR:()=>o,$B:()=>s});var r=n(3160),i=n(4286);const[o,s]=(0,r.A)((({logStreamPageState:e,logStreamPageCallbacks:t})=>{var n;const r=(0,i.useMemo)((()=>a(e)),[e]),{refreshInterval:o,targetPosition:s,visiblePositions:c,latestPosition:u}=e.context,l=(0,i.useMemo)((()=>{const{updateTimeRange:e,jumpToTargetPosition:n,jumpToTargetPositionTime:r,reportVisiblePositions:i,startLiveStreaming:o,stopLiveStreaming:s}=t;return{jumpToTargetPosition:n,jumpToTargetPositionTime:r,reportVisiblePositions:i,startLiveStreaming:o,stopLiveStreaming:s,updateDateRange:t=>{e({from:t.startDateExpression,to:t.endDateExpression})}}}),[t]),d=(0,i.useMemo)((()=>c.startKey&&c.endKey?{start:c.startKey.time,end:c.endKey.time}:null),[c.startKey,c.endKey]);return{targetPosition:s,isStreaming:!o.pause,...r,firstVisiblePosition:c.startKey,pagesBeforeStart:c.pagesBeforeStart,pagesAfterEnd:c.pagesAfterEnd,visibleMidpoint:u,visibleMidpointTime:null!==(n=null==u?void 0:u.time)&&void 0!==n?n:null,visibleTimeInterval:d,...l}})),a=e=>({startDateExpression:e.context.timeRange.from,endDateExpression:e.context.timeRange.to,startTimestamp:e.context.timestamps.startTimestamp,endTimestamp:e.context.timestamps.endTimestamp,lastCompleteDateRangeExpressionUpdate:e.context.timeRange.lastChangedCompletely,timestampsLastUpdate:e.context.timestamps.lastChangedTimestamp})},6401:(e,t,n)=>{"use strict";n.d(t,{o7:()=>D,qJ:()=>F,XB:()=>M});var r=n(3160),i=n(770),o=n(4286),s=n(3812),a=n(12),c=n(8295),u=n(190),l=n(6524),d=n(3782),f=n(1082),h=n(9946),p=n(6527),g=n(9720);const v="infra-log-entries",y=d.intersection([d.type({logView:h.Pc,startTimestamp:d.number,endTimestamp:d.number,size:d.number}),d.partial({query:p.ub,columns:d.array(h._R),highlightPhrase:d.string})]),m=d.intersection([y,f.Mr]),w=d.intersection([y,f.DA]),b=d.union([y,m,w]),S=d.intersection([d.type({data:d.intersection([d.type({entries:d.array(f.R),topCursor:d.union([f.X4,d.null]),bottomCursor:d.union([f.X4,d.null])}),d.partial({hasMoreBefore:d.boolean,hasMoreAfter:d.boolean})])}),d.partial({errors:d.array(g.A)})]);var E=n(3173);const _=({columnOverrides:e,endTimestamp:t,highlightPhrase:n,query:r,logViewReference:i,startTimestamp:s})=>{const{search:a,requests$:c}=(0,E.qW)({getRequest:(0,o.useCallback)(((o,a)=>{var c;return i?{request:{params:b.encode({after:o,columns:e,endTimestamp:null!==(c=null==a?void 0:a.extendTo)&&void 0!==c?c:t,highlightPhrase:n,query:r,size:a.size,logView:i,startTimestamp:s})},options:{strategy:v}}:null}),[e,t,n,r,i,s]),parseResponses:L});return{fetchLogEntriesAfter:a,logEntriesAfterSearchRequests$:c}},x=({columnOverrides:e,endTimestamp:t,highlightPhrase:n,query:r,logViewReference:i,startTimestamp:o})=>{const{fetchLogEntriesAfter:s,logEntriesAfterSearchRequests$:a}=_({columnOverrides:e,endTimestamp:t,highlightPhrase:n,query:r,logViewReference:i,startTimestamp:o}),{cancelRequest:u,isRequestRunning:l,isResponsePartial:d,loaded:f,logEntriesAfterSearchResponse$:h,total:p}=(e=>{const t=(0,c.wP)(e,R),{cancelRequest:n,isRequestRunning:r,isResponsePartial:i,loaded:o,total:s}=(0,E.wp)(t);return{cancelRequest:n,isRequestRunning:r,isResponsePartial:i,loaded:o,logEntriesAfterSearchRequests$:e,logEntriesAfterSearchResponse$:t,total:s}})(a);return{cancelRequest:u,fetchLogEntriesAfter:s,isRequestRunning:l,isResponsePartial:d,loaded:f,logEntriesAfterSearchResponse$:h,total:p}},L=(0,E.sB)(null,(0,l.GB)(S)),R=(0,u.exhaustMap)(E.jq);var C=n(5993);const V=({columnOverrides:e,endTimestamp:t,highlightPhrase:n,query:r,logViewReference:i,startTimestamp:s})=>{const{search:a,requests$:c}=(0,E.qW)({getRequest:(0,o.useCallback)(((o,a)=>{var c;return i?{request:{params:b.encode({before:o,columns:e,endTimestamp:t,highlightPhrase:n,query:r,size:a.size,logView:i,startTimestamp:null!==(c=a.extendTo)&&void 0!==c?c:s})},options:{strategy:v}}:null}),[e,t,n,r,i,s]),parseResponses:O});return{fetchLogEntriesBefore:a,logEntriesBeforeSearchRequests$:c}},T=({columnOverrides:e,endTimestamp:t,highlightPhrase:n,query:r,logViewReference:i,startTimestamp:o})=>{const{fetchLogEntriesBefore:s,logEntriesBeforeSearchRequests$:a}=V({columnOverrides:e,endTimestamp:t,highlightPhrase:n,query:r,logViewReference:i,startTimestamp:o}),{cancelRequest:u,isRequestRunning:l,isResponsePartial:d,loaded:f,logEntriesBeforeSearchResponse$:h,total:p}=(e=>{const t=(0,c.wP)(e,I),{cancelRequest:n,isRequestRunning:r,isResponsePartial:i,loaded:o,total:s}=(0,E.wp)(t);return{cancelRequest:n,isRequestRunning:r,isResponsePartial:i,loaded:o,logEntriesBeforeSearchRequests$:e,logEntriesBeforeSearchResponse$:t,total:s}})(a);return{cancelRequest:u,fetchLogEntriesBefore:s,isRequestRunning:l,isResponsePartial:d,loaded:f,logEntriesBeforeSearchResponse$:h,total:p}},O=(0,E.sB)(null,(0,l.GB)(S)),I=(0,u.exhaustMap)(E.jq),P=({columnOverrides:e,endTimestamp:t,highlightPhrase:n,query:r,logViewReference:i,startTimestamp:s})=>{var a,l;const{fetchLogEntriesBefore:d}=V({columnOverrides:e,endTimestamp:t,highlightPhrase:n,query:r,logViewReference:i,startTimestamp:s}),{fetchLogEntriesAfter:f}=_({columnOverrides:e,endTimestamp:t,highlightPhrase:n,query:r,logViewReference:i,startTimestamp:s}),h=(0,c.J2)((()=>new u.ReplaySubject),[]),p=(0,o.useCallback)(((e,t)=>{const n=d(e,{size:Math.floor(t/2)});if(null==n)return;const r=(0,E.jq)(n).pipe((0,u.last)(),(0,u.map)((n=>{var r,i;const o=null!==(r=null===(i=n.response.data)||void 0===i?void 0:i.bottomCursor)&&void 0!==r?r:{time:(0,C.J)(e.time,1),tiebreaker:0},s=f(o,{size:Math.ceil(t/2)});if(null==s)throw new Error("Failed to create request: no request args given");return s})));h.next([n,r])}),[f,d,h]),g=(0,c.J2)((e=>e.pipe((0,u.switchMap)((([e])=>e.pipe((0,u.switchMap)((([e,t])=>{const n=(0,E.jq)(e),r=t.pipe((0,u.switchMap)(E.jq),(0,u.startWith)(void 0));return(0,u.combineLatest)([n,r])})),(0,u.map)((([e,t])=>{var n,r,i,o,s,a,c,u,l,d,f,h;const p=e.response.loaded,g=null==t?void 0:t.response.loaded,v=e.response.total,y=null==t?void 0:t.response.total;return{before:e,after:t,combined:{isRunning:null!==(n=e.response.isRunning||(null==t?void 0:t.response.isRunning))&&void 0!==n&&n,isPartial:null!==(r=e.response.isPartial||(null==t?void 0:t.response.isPartial))&&void 0!==r&&r,loaded:null!=p||null!=g?(null!=p?p:0)+(null!=g?g:0):void 0,total:null!=v||null!=y?(null!=v?v:0)+(null!=y?y:0):void 0,entries:[...null!==(i=null===(o=e.response.data)||void 0===o?void 0:o.entries)&&void 0!==i?i:[],...null!==(s=null==t||null===(a=t.response.data)||void 0===a?void 0:a.entries)&&void 0!==s?s:[]],errors:[...null!==(c=e.response.errors)&&void 0!==c?c:[],...null!==(u=null==t?void 0:t.response.errors)&&void 0!==u?u:[]],hasMoreBefore:null===(l=e.response.data)||void 0===l?void 0:l.hasMoreBefore,hasMoreAfter:null==t||null===(d=t.response.data)||void 0===d?void 0:d.hasMoreAfter,topCursor:null===(f=e.response.data)||void 0===f?void 0:f.topCursor,bottomCursor:null==t||null===(h=t.response.data)||void 0===h?void 0:h.bottomCursor}}}))))))),[h]),{latestValue:{before:v,after:y,combined:m}}=(0,c.Cn)(g,A);return{cancelRequest:(0,o.useCallback)((()=>{null==v||v.abortController.abort(),null==y||y.abortController.abort()}),[v,y]),fetchLogEntriesAround:p,isRequestRunning:null!==(a=null==m?void 0:m.isRunning)&&void 0!==a&&a,isResponsePartial:null!==(l=null==m?void 0:m.isPartial)&&void 0!==l&&l,loaded:null==m?void 0:m.loaded,logEntriesAroundSearchResponses$:g,total:null==m?void 0:m.total}},A={before:void 0,after:void 0,combined:void 0},k={entries:[],topCursor:null,bottomCursor:null,hasMoreBefore:!0,hasMoreAfter:!0},N=200;function F({logViewReference:e,startTimestamp:t,endTimestamp:n,query:r,center:u,columns:l}){const[d,f]=(0,a.A)(k),[h,p]=(0,o.useState)(!1),g=(0,s.A)(t),v=(0,s.A)(n),[y,m]=(0,o.useState)(r);(0,i.isEqual)(r,y)||m(r),(0,o.useEffect)((()=>{g&&g>t&&f({hasMoreBefore:!0})}),[g,t,f]),(0,o.useEffect)((()=>{v&&v<n&&f({hasMoreAfter:!0})}),[v,n,f]);const w=(0,o.useMemo)((()=>({logViewReference:e,startTimestamp:t,endTimestamp:n,query:y,columnOverrides:l})),[l,n,y,e,t]),{fetchLogEntriesAround:b,isRequestRunning:S,logEntriesAroundSearchResponses$:E}=P(w);(0,c.Rs)(E,{next:({before:e,after:t,combined:n})=>{null==e.response.data&&null==(null==t?void 0:t.response.data)||n.isPartial||(f((e=>{var t,r;const i=h?k:e;return{...h?k:i,entries:n.entries,hasMoreAfter:null!==(t=n.hasMoreAfter)&&void 0!==t?t:i.hasMoreAfter,hasMoreBefore:null!==(r=n.hasMoreBefore)&&void 0!==r?r:i.hasMoreBefore,bottomCursor:n.bottomCursor,topCursor:n.topCursor,lastLoadedTime:new Date}})),h&&p(!1))}});const{fetchLogEntriesBefore:_,isRequestRunning:L,logEntriesBeforeSearchResponse$:R}=T(w);(0,c.Rs)(R,{next:({response:{data:e,isPartial:t}})=>{null==e||t||(f((t=>{var n,r,i;const o=h?k:t;return{...h?k:o,entries:[...e.entries,...o.entries],hasMoreBefore:null!==(n=e.hasMoreBefore)&&void 0!==n?n:o.hasMoreBefore,topCursor:null!==(r=e.topCursor)&&void 0!==r?r:o.topCursor,bottomCursor:null!==(i=o.bottomCursor)&&void 0!==i?i:e.bottomCursor,lastLoadedTime:new Date}})),h&&p(!1))}});const C=(0,o.useCallback)((e=>{if(null===d.topCursor&&d.hasMoreBefore)throw new Error("useLogStream: Cannot fetch previous entries.\nIt seems there are more entries available, but no cursor is set.\nEnsure you have called `fetchEntries` at least once.");(d.hasMoreBefore||null!=e&&e.force)&&null!==d.topCursor&&_(d.topCursor,{size:N,extendTo:null==e?void 0:e.extendTo})}),[_,d.topCursor,d.hasMoreBefore]),{fetchLogEntriesAfter:V,isRequestRunning:O,logEntriesAfterSearchResponse$:I}=x(w);(0,c.Rs)(I,{next:({response:{data:e,isPartial:t}})=>{null==e||t||(f((t=>{var n,r,i;const o=h?k:t;return{...h?k:o,entries:[...o.entries,...e.entries],hasMoreAfter:null!==(n=e.hasMoreAfter)&&void 0!==n?n:o.hasMoreAfter,topCursor:null!==(r=o.topCursor)&&void 0!==r?r:e.topCursor,bottomCursor:null!==(i=e.bottomCursor)&&void 0!==i?i:o.bottomCursor,lastLoadedTime:new Date}})),h&&p(!1))}});const A=(0,o.useCallback)((e=>{if(null===d.bottomCursor&&d.hasMoreAfter)throw new Error("useLogStream: Cannot fetch next entries. No cursor is set.\nEnsure you have called `fetchEntries` at least once.");(d.hasMoreAfter||null!=e&&e.force)&&null!==d.bottomCursor&&V(d.bottomCursor,{size:N,extendTo:null==e?void 0:e.extendTo})}),[V,d.bottomCursor,d.hasMoreAfter]),F=(0,o.useCallback)((()=>{f(k),u?b(u,N):_("last",{size:N})}),[u,b,_,f]),D=(0,o.useCallback)((()=>{p(!0),_("last",{size:N})}),[_]),M=(0,o.useMemo)((()=>S||null==d.bottomCursor&&null==d.topCursor&&L),[S,L,d.bottomCursor,d.topCursor]),j=(0,o.useMemo)((()=>L||O),[O,L]);return{...d,fetchEntries:F,fetchNextEntries:A,fetchPreviousEntries:C,fetchNewestEntries:D,isLoadingMore:j,isReloading:M}}const[D,M]=(0,r.A)(F)},1931:(e,t,n)=>{"use strict";n.d(t,{$:()=>o});var r=n(4286);const i=100;function o(e,t){return(0,r.useMemo)((()=>e&&t?(t-e)/i:null),[e,t])}},2503:(e,t,n)=>{"use strict";n.d(t,{fJ:()=>i}),n(4286);var r=n(409);n(6791);const i=r.useKibana},1607:(e,t,n)=>{"use strict";n.d(t,{xE:()=>M,zs:()=>D,uH:()=>j});var r=n(4286),i=n(7787),o=n(4123),s=n(6792),a=n(1772),c=n(4178),u=n(1114),l=n(7044),d=n(932),f={deferEvents:!1},h=function(){function e(e){this.processingEvent=!1,this.queue=[],this.initialized=!1,this.options=(0,o.Cl)((0,o.Cl)({},f),e)}return e.prototype.initialize=function(e){if(this.initialized=!0,e){if(!this.options.deferEvents)return void this.schedule(e);this.process(e)}this.flushEvents()},e.prototype.schedule=function(e){if(this.initialized&&!this.processingEvent){if(0!==this.queue.length)throw new Error("Event queue should be empty when it is not processing events");this.process(e),this.flushEvents()}else this.queue.push(e)},e.prototype.clear=function(){this.queue=[]},e.prototype.flushEvents=function(){for(var e=this.queue.shift();e;)this.process(e),e=this.queue.shift()},e.prototype.process=function(e){this.processingEvent=!0;try{e()}catch(e){throw this.clear(),e}finally{this.processingEvent=!1}},e}(),p=n(7320),g=new Map,v=0,y=function(e){g.delete(e)},m=n(3721);function w(){return"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==n.g?n.g:void(l.p||m.warn("XState could not find a global object in this environment. Please let the maintainers know and raise an issue here: https://github.com/statelyai/xstate/issues"))}var b=n(8772);var S,E,_=n(3721),x={sync:!1,autoForward:!1};(E=S||(S={}))[E.NotStarted=0]="NotStarted",E[E.Running=1]="Running",E[E.Stopped=2]="Stopped";var L=function(){function e(t,n){void 0===n&&(n=e.defaultOptions);var r=this;this.machine=t,this.delayedEventsMap={},this.listeners=new Set,this.contextListeners=new Set,this.stopListeners=new Set,this.doneListeners=new Set,this.eventListeners=new Set,this.sendListeners=new Set,this.initialized=!1,this.status=S.NotStarted,this.children=new Map,this.forwardTo=new Set,this._outgoingQueue=[],this.init=this.start,this.send=function(e,t){if((0,d.cy)(e))return r.batch(e),r.state;var n=(0,d.ft)((0,d.jK)(e,t));if(r.status===S.Stopped)return l.p||(0,d.R8)(!1,'Event "'.concat(n.name,'" was sent to stopped service "').concat(r.machine.id,'". This service has already reached its final state, and will not transition.\nEvent: ').concat(JSON.stringify(n.data))),r.state;if(r.status!==S.Running&&!r.options.deferEvents)throw new Error('Event "'.concat(n.name,'" was sent to uninitialized service "').concat(r.machine.id,'". Make sure .start() is called for this service, or set { deferEvents: true } in the service options.\nEvent: ').concat(JSON.stringify(n.data)));return r.scheduler.schedule((function(){r.forward(n);var e=r._nextState(n);r.update(e,n)})),r._state},this.sendTo=function(e,t,n){var i=r.parent&&(t===s.i.Parent||r.parent.id===t),a=i?r.parent:(0,d.Kg)(t)?t===s.i.Internal?r:r.children.get(t)||function(e){return g.get(e)}(t):(0,d._3)(t)?t:void 0;if(a)if("machine"in a){if(r.status!==S.Stopped||r.parent!==a||r.state.done){var f=(0,o.Cl)((0,o.Cl)({},e),{name:e.name===c.z3?"".concat((0,u.z3)(r.id)):e.name,origin:r.sessionId});!n&&r.machine.config.predictableActionArguments?r._outgoingQueue.push([a,f]):a.send(f)}}else!n&&r.machine.config.predictableActionArguments?r._outgoingQueue.push([a,e.data]):a.send(e.data);else{if(!i)throw new Error("Unable to send event to child '".concat(t,"' from service '").concat(r.id,"'."));l.p||(0,d.R8)(!1,"Service '".concat(r.id,"' has no parent: unable to send event ").concat(e.type))}},this._exec=function(e,t,n,i){void 0===i&&(i=r.machine.options.actions);var o=e.exec||(0,u.H7)(e.type,i),a=(0,d.Tn)(o)?o:o?o.exec:e.exec;if(a)try{return a(t,n.data,r.machine.config.predictableActionArguments?{action:e,_event:n}:{action:e,state:r.state,_event:n})}catch(e){throw r.parent&&r.parent.send({type:"xstate.error",data:e}),e}switch(e.type){case c.xl:var f=e;r.defer(f);break;case c.tN:var h=e;if("number"==typeof h.delay)return void r.defer(h);h.to?r.sendTo(h._event,h.to,n===u.zp):r.send(h._event);break;case c.ZT:r.cancel(e.sendId);break;case c.ni:if(r.status!==S.Running)return;var p=e.activity;if(!r.machine.config.predictableActionArguments&&!r.state.activities[p.id||p.type])break;if(p.type===s.Q.Invoke){var g=(0,d.Xd)(p.src),v=r.machine.options.services?r.machine.options.services[g.type]:void 0,y=p.id,m=p.data;l.p||(0,d.R8)(!("forward"in p),"`forward` property is deprecated (found in invocation of '".concat(p.src,"' in in machine '").concat(r.machine.id,"'). ")+"Please use `autoForward` instead.");var w="autoForward"in p?p.autoForward:!!p.forward;if(!v)return void(l.p||(0,d.R8)(!1,"No service found for invocation '".concat(p.src,"' in machine '").concat(r.machine.id,"'.")));var b=m?(0,d.A9)(m,t,n):void 0;if("string"==typeof v)return;var E=(0,d.Tn)(v)?v(t,n.data,{data:b,src:g,meta:p.meta}):v;if(!E)return;var _=void 0;(0,d.Ai)(E)&&(E=b?E.withContext(b):E,_={autoForward:w}),r.spawn(E,y,_)}else r.spawnActivity(p);break;case c.ds:r.stopChild(e.activity.id);break;case c.Rm:var x=e,L=x.label,R=x.value;L?r.logger(L,R):r.logger(R);break;default:l.p||(0,d.R8)(!1,"No implementation found for action type '".concat(e.type,"'"))}};var i=(0,o.Cl)((0,o.Cl)({},e.defaultOptions),n),a=i.clock,f=i.logger,p=i.parent,y=i.id,m=void 0!==y?y:t.id;this.id=m,this.logger=f,this.clock=a,this.parent=p,this.options=i,this.scheduler=new h({deferEvents:this.options.deferEvents}),this.sessionId="x:".concat(v++)}return Object.defineProperty(e.prototype,"initialState",{get:function(){var e=this;return this._initialState?this._initialState:(0,b.G)(this,(function(){return e._initialState=e.machine.initialState,e._initialState}))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"state",{get:function(){return l.p||(0,d.R8)(this.status!==S.NotStarted,"Attempted to read state from uninitialized service '".concat(this.id,"'. Make sure the service is started first.")),this._state},enumerable:!1,configurable:!0}),e.prototype.execute=function(e,t){var n,r;try{for(var i=(0,o.Ju)(e.actions),s=i.next();!s.done;s=i.next()){var a=s.value;this.exec(a,e,t)}}catch(e){n={error:e}}finally{try{s&&!s.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}},e.prototype.update=function(e,t){var n,r,i,s,a,c,l,f,h=this;if(e._sessionid=this.sessionId,this._state=e,this.machine.config.predictableActionArguments&&t!==u.zp||!this.options.execute)for(var p=void 0;p=this._outgoingQueue.shift();)p[0].send(p[1]);else this.execute(this.state);if(this.children.forEach((function(e){h.state.children[e.id]=e})),this.devTools&&this.devTools.send(t.data,e),e.event)try{for(var g=(0,o.Ju)(this.eventListeners),v=g.next();!v.done;v=g.next())(0,v.value)(e.event)}catch(e){n={error:e}}finally{try{v&&!v.done&&(r=g.return)&&r.call(g)}finally{if(n)throw n.error}}try{for(var m=(0,o.Ju)(this.listeners),w=m.next();!w.done;w=m.next())(0,w.value)(e,e.event)}catch(e){i={error:e}}finally{try{w&&!w.done&&(s=m.return)&&s.call(m)}finally{if(i)throw i.error}}try{for(var b=(0,o.Ju)(this.contextListeners),S=b.next();!S.done;S=b.next())(0,S.value)(this.state.context,this.state.history?this.state.history.context:void 0)}catch(e){a={error:e}}finally{try{S&&!S.done&&(c=b.return)&&c.call(b)}finally{if(a)throw a.error}}if(this.state.done){var E=e.configuration.find((function(e){return"final"===e.type&&e.parent===h.machine})),_=E&&E.doneData?(0,d.A9)(E.doneData,e.context,t):void 0;this._doneEvent=(0,u.tS)(this.id,_);try{for(var x=(0,o.Ju)(this.doneListeners),L=x.next();!L.done;L=x.next())(0,L.value)(this._doneEvent)}catch(e){l={error:e}}finally{try{L&&!L.done&&(f=x.return)&&f.call(x)}finally{if(l)throw l.error}}this._stop(),this._stopChildren(),y(this.sessionId)}},e.prototype.onTransition=function(e){return this.listeners.add(e),this.status===S.Running&&e(this.state,this.state.event),this},e.prototype.subscribe=function(e,t,n){var r=this,i=(0,d.WV)(e,t,n);this.listeners.add(i.next),this.status!==S.NotStarted&&i.next(this.state);var o=function(){r.doneListeners.delete(o),r.stopListeners.delete(o),i.complete()};return this.status===S.Stopped?i.complete():(this.onDone(o),this.onStop(o)),{unsubscribe:function(){r.listeners.delete(i.next),r.doneListeners.delete(o),r.stopListeners.delete(o)}}},e.prototype.onEvent=function(e){return this.eventListeners.add(e),this},e.prototype.onSend=function(e){return this.sendListeners.add(e),this},e.prototype.onChange=function(e){return this.contextListeners.add(e),this},e.prototype.onStop=function(e){return this.stopListeners.add(e),this},e.prototype.onDone=function(e){return this.status===S.Stopped&&this._doneEvent?e(this._doneEvent):this.doneListeners.add(e),this},e.prototype.off=function(e){return this.listeners.delete(e),this.eventListeners.delete(e),this.sendListeners.delete(e),this.stopListeners.delete(e),this.doneListeners.delete(e),this.contextListeners.delete(e),this},e.prototype.start=function(e){var t,n,r=this;if(this.status===S.Running)return this;this.machine._init(),t=this.sessionId,n=this,g.set(t,n),this.initialized=!0,this.status=S.Running;var i=void 0===e?this.initialState:(0,b.G)(this,(function(){return(0,a.OS)(e)?r.machine.resolveState(e):r.machine.resolveState(a.Uw.from(e,r.machine.context))}));return this.options.devTools&&this.attachDev(),this.scheduler.initialize((function(){r.update(i,u.zp)})),this},e.prototype._stopChildren=function(){this.children.forEach((function(e){(0,d.Tn)(e.stop)&&e.stop()})),this.children.clear()},e.prototype._stop=function(){var e,t,n,r,i,s,a,c,u,l;try{for(var d=(0,o.Ju)(this.listeners),f=d.next();!f.done;f=d.next()){var p=f.value;this.listeners.delete(p)}}catch(t){e={error:t}}finally{try{f&&!f.done&&(t=d.return)&&t.call(d)}finally{if(e)throw e.error}}try{for(var g=(0,o.Ju)(this.stopListeners),v=g.next();!v.done;v=g.next())(p=v.value)(),this.stopListeners.delete(p)}catch(e){n={error:e}}finally{try{v&&!v.done&&(r=g.return)&&r.call(g)}finally{if(n)throw n.error}}try{for(var y=(0,o.Ju)(this.contextListeners),m=y.next();!m.done;m=y.next())p=m.value,this.contextListeners.delete(p)}catch(e){i={error:e}}finally{try{m&&!m.done&&(s=y.return)&&s.call(y)}finally{if(i)throw i.error}}try{for(var w=(0,o.Ju)(this.doneListeners),b=w.next();!b.done;b=w.next())p=b.value,this.doneListeners.delete(p)}catch(e){a={error:e}}finally{try{b&&!b.done&&(c=w.return)&&c.call(w)}finally{if(a)throw a.error}}if(!this.initialized)return this;this.initialized=!1,this.status=S.Stopped,this._initialState=void 0;try{for(var E=(0,o.Ju)(Object.keys(this.delayedEventsMap)),_=E.next();!_.done;_=E.next()){var x=_.value;this.clock.clearTimeout(this.delayedEventsMap[x])}}catch(e){u={error:e}}finally{try{_&&!_.done&&(l=E.return)&&l.call(E)}finally{if(u)throw u.error}}this.scheduler.clear(),this.scheduler=new h({deferEvents:this.options.deferEvents})},e.prototype.stop=function(){var e=this,t=this.scheduler;return this._stop(),t.schedule((function(){var t;if(!(null===(t=e._state)||void 0===t?void 0:t.done)){var n=(0,d.ft)({type:"xstate.stop"}),r=(0,b.G)(e,(function(){var t=(0,d.Bq)((0,o.fX)([],(0,o.zs)(e.state.configuration),!1).sort((function(e,t){return t.order-e.order})).map((function(t){return(0,u.Um)(t.onExit,e.machine.options.actions)}))),r=(0,o.zs)((0,u.AS)(e.machine,e.state,e.state.context,n,[{type:"exit",actions:t}],e.machine.config.predictableActionArguments?e._exec:void 0,e.machine.config.predictableActionArguments||e.machine.config.preserveActionOrder),2),i=r[0],s=r[1],c=new a.Uw({value:e.state.value,context:s,_event:n,_sessionid:e.sessionId,historyValue:void 0,history:e.state,actions:i.filter((function(e){return!(0,d.Gx)(e)})),activities:{},events:[],configuration:[],transitions:[],children:{},done:e.state.done,tags:e.state.tags,machine:e.machine});return c.changed=!0,c}));e.update(r,n),e._stopChildren(),y(e.sessionId)}})),this},e.prototype.batch=function(e){var t=this;if(this.status===S.NotStarted&&this.options.deferEvents)l.p||(0,d.R8)(!1,"".concat(e.length,' event(s) were sent to uninitialized service "').concat(this.machine.id,'" and are deferred. Make sure .start() is called for this service.\nEvent: ').concat(JSON.stringify(event)));else if(this.status!==S.Running)throw new Error("".concat(e.length,' event(s) were sent to uninitialized service "').concat(this.machine.id,'". Make sure .start() is called for this service, or set { deferEvents: true } in the service options.'));if(e.length){var n=!!this.machine.config.predictableActionArguments&&this._exec;this.scheduler.schedule((function(){var r,i,s=t.state,c=!1,u=[],l=function(e){var r=(0,d.ft)(e);t.forward(r),s=(0,b.G)(t,(function(){return t.machine.transition(s,r,void 0,n||void 0)})),u.push.apply(u,(0,o.fX)([],(0,o.zs)(t.machine.config.predictableActionArguments?s.actions:s.actions.map((function(e){return(0,a.Sv)(e,s)}))),!1)),c=c||!!s.changed};try{for(var f=(0,o.Ju)(e),h=f.next();!h.done;h=f.next())l(h.value)}catch(e){r={error:e}}finally{try{h&&!h.done&&(i=f.return)&&i.call(f)}finally{if(r)throw r.error}}s.changed=c,s.actions=u,t.update(s,(0,d.ft)(e[e.length-1]))}))}},e.prototype.sender=function(e){return this.send.bind(this,e)},e.prototype._nextState=function(e,t){var n=this;void 0===t&&(t=!!this.machine.config.predictableActionArguments&&this._exec);var r=(0,d.ft)(e);if(0===r.name.indexOf(c.O$)&&!this.state.nextEvents.some((function(e){return 0===e.indexOf(c.O$)})))throw r.data.data;return(0,b.G)(this,(function(){return n.machine.transition(n.state,r,void 0,t||void 0)}))},e.prototype.nextState=function(e){return this._nextState(e,!1)},e.prototype.forward=function(e){var t,n;try{for(var r=(0,o.Ju)(this.forwardTo),i=r.next();!i.done;i=r.next()){var s=i.value,a=this.children.get(s);if(!a)throw new Error("Unable to forward event '".concat(e,"' from interpreter '").concat(this.id,"' to nonexistant child '").concat(s,"'."));a.send(e)}}catch(e){t={error:e}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(t)throw t.error}}},e.prototype.defer=function(e){var t=this,n=this.clock.setTimeout((function(){"to"in e&&e.to?t.sendTo(e._event,e.to,!0):t.send(e._event)}),e.delay);e.id&&(this.delayedEventsMap[e.id]=n)},e.prototype.cancel=function(e){this.clock.clearTimeout(this.delayedEventsMap[e]),delete this.delayedEventsMap[e]},e.prototype.exec=function(e,t,n){void 0===n&&(n=this.machine.options.actions),this._exec(e,t.context,t._event,n)},e.prototype.removeChild=function(e){var t;this.children.delete(e),this.forwardTo.delete(e),null===(t=this.state)||void 0===t||delete t.children[e]},e.prototype.stopChild=function(e){var t=this.children.get(e);t&&(this.removeChild(e),(0,d.Tn)(t.stop)&&t.stop())},e.prototype.spawn=function(e,t,n){if(this.status!==S.Running)return(0,p.Py)(e,t);if((0,d.$X)(e))return this.spawnPromise(Promise.resolve(e),t);if((0,d.Tn)(e))return this.spawnCallback(e,t);if((0,p.gY)(e))return this.spawnActor(e,t);if((0,d.AT)(e))return this.spawnObservable(e,t);if((0,d.Ai)(e))return this.spawnMachine(e,(0,o.Cl)((0,o.Cl)({},n),{id:t}));if((0,d.lx)(e))return this.spawnBehavior(e,t);throw new Error('Unable to spawn entity "'.concat(t,'" of type "').concat(typeof e,'".'))},e.prototype.spawnMachine=function(t,n){var r=this;void 0===n&&(n={});var i=new e(t,(0,o.Cl)((0,o.Cl)({},this.options),{parent:this,id:n.id||t.id})),s=(0,o.Cl)((0,o.Cl)({},x),n);s.sync&&i.onTransition((function(e){r.send(c.yo,{state:e,id:i.id})}));var a=i;return this.children.set(i.id,a),s.autoForward&&this.forwardTo.add(i.id),i.onDone((function(e){r.removeChild(i.id),r.send((0,d.ft)(e,{origin:i.id}))})).start(),a},e.prototype.spawnBehavior=function(e,t){var n=function(e,t){void 0===t&&(t={});var n=e.initialState,r=new Set,i=[],o=!1,s=(0,p.sk)({id:t.id,send:function(t){i.push(t),function(){if(!o){for(o=!0;i.length>0;){var t=i.shift();n=e.transition(n,t,a),r.forEach((function(e){return e.next(n)}))}o=!1}}()},getSnapshot:function(){return n},subscribe:function(e,t,i){var o=(0,d.WV)(e,t,i);return r.add(o),o.next(n),{unsubscribe:function(){r.delete(o)}}}}),a={parent:t.parent,self:s,id:t.id||"anonymous",observers:r};return n=e.start?e.start(a):n,s}(e,{id:t,parent:this});return this.children.set(t,n),n},e.prototype.spawnPromise=function(e,t){var n,r,i=this,o=!1;e.then((function(e){o||(r=e,i.removeChild(t),i.send((0,d.ft)((0,u.tS)(t,e),{origin:t})))}),(function(e){if(!o){i.removeChild(t);var n=(0,u.z3)(t,e);try{i.send((0,d.ft)(n,{origin:t}))}catch(r){(0,d.En)(e,r,t),i.devTools&&i.devTools.send(n,i.state),i.machine.strict&&i.stop()}}}));var s=((n={id:t,send:function(){},subscribe:function(t,n,r){var i=(0,d.WV)(t,n,r),o=!1;return e.then((function(e){o||(i.next(e),o||i.complete())}),(function(e){o||i.error(e)})),{unsubscribe:function(){return o=!0}}},stop:function(){o=!0},toJSON:function(){return{id:t}},getSnapshot:function(){return r}})[d.s7]=function(){return this},n);return this.children.set(t,s),s},e.prototype.spawnCallback=function(e,t){var n,r,i,o=this,s=!1,a=new Set,c=new Set;try{i=e((function(e){r=e,c.forEach((function(t){return t(e)})),s||o.send((0,d.ft)(e,{origin:t}))}),(function(e){a.add(e)}))}catch(e){this.send((0,u.z3)(t,e))}if((0,d.$X)(i))return this.spawnPromise(i,t);var l=((n={id:t,send:function(e){return a.forEach((function(t){return t(e)}))},subscribe:function(e){var t=(0,d.WV)(e);return c.add(t.next),{unsubscribe:function(){c.delete(t.next)}}},stop:function(){s=!0,(0,d.Tn)(i)&&i()},toJSON:function(){return{id:t}},getSnapshot:function(){return r}})[d.s7]=function(){return this},n);return this.children.set(t,l),l},e.prototype.spawnObservable=function(e,t){var n,r,i=this,o=e.subscribe((function(e){r=e,i.send((0,d.ft)(e,{origin:t}))}),(function(e){i.removeChild(t),i.send((0,d.ft)((0,u.z3)(t,e),{origin:t}))}),(function(){i.removeChild(t),i.send((0,d.ft)((0,u.tS)(t),{origin:t}))})),s=((n={id:t,send:function(){},subscribe:function(t,n,r){return e.subscribe(t,n,r)},stop:function(){return o.unsubscribe()},getSnapshot:function(){return r},toJSON:function(){return{id:t}}})[d.s7]=function(){return this},n);return this.children.set(t,s),s},e.prototype.spawnActor=function(e,t){return this.children.set(t,e),e},e.prototype.spawnActivity=function(e){var t=this.machine.options&&this.machine.options.activities?this.machine.options.activities[e.type]:void 0;if(t){var n=t(this.state.context,e);this.spawnEffect(e.id,n)}else l.p||(0,d.R8)(!1,"No implementation found for activity '".concat(e.type,"'"))},e.prototype.spawnEffect=function(e,t){var n;this.children.set(e,((n={id:e,send:function(){},subscribe:function(){return{unsubscribe:function(){}}},stop:t||void 0,getSnapshot:function(){},toJSON:function(){return{id:e}}})[d.s7]=function(){return this},n))},e.prototype.attachDev=function(){var e=w();if(this.options.devTools&&e){if(e.__REDUX_DEVTOOLS_EXTENSION__){var t="object"==typeof this.options.devTools?this.options.devTools:void 0;this.devTools=e.__REDUX_DEVTOOLS_EXTENSION__.connect((0,o.Cl)((0,o.Cl)({name:this.id,autoPause:!0,stateSanitizer:function(e){return{value:e.value,context:e.context,actions:e.actions}}},t),{features:(0,o.Cl)({jump:!1,skip:!1},t?t.features:void 0)}),this.machine),this.devTools.init(this.state)}!function(e){if(w()){var t=function(){var e=w();if(e&&"__xstate__"in e)return e.__xstate__}();t&&t.register(e)}}(this)}},e.prototype.toJSON=function(){return{id:this.id}},e.prototype[d.s7]=function(){return this},e.prototype.getSnapshot=function(){return this.status===S.NotStarted?this.initialState:this._state},e.defaultOptions={execute:!0,deferEvents:!0,clock:{setTimeout:function(e,t){return setTimeout(e,t)},clearTimeout:function(e){return clearTimeout(e)}},logger:_.log.bind(_),devTools:!1},e.interpret=R,e}();function R(e,t){return new L(e,t)}function C(e){var t=r.useRef();return t.current||(t.current={v:e()}),t.current.v}var V=function(){return V=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},V.apply(this,arguments)};function T(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var o=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s}(t,2),s=o[0],c=void 0===s?{}:s,u=o[1],l=function(e,t){var n=C((function(){return"function"==typeof e?e():e})),r=t.context,o=t.guards,s=t.actions,a=t.activities,c=t.services,u=t.delays,l=(t.state,function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}(t,["context","guards","actions","activities","services","delays","state"])),d=C((function(){var e={context:r,guards:o,actions:s,activities:a,services:c,delays:u};return R(n.withConfig(e,(function(){return V(V({},n.context),r)})),l)}));return(0,i.A)((function(){Object.assign(d.machine.options.actions,s),Object.assign(d.machine.options.guards,o),Object.assign(d.machine.options.activities,a),Object.assign(d.machine.options.services,c),Object.assign(d.machine.options.delays,u)}),[s,o,a,c,u]),d}(e,c);return(0,r.useEffect)((function(){if(u){var e=l.subscribe((0,d.WV)(u));return function(){e.unsubscribe()}}}),[u]),(0,r.useEffect)((function(){var e=c.state;return l.start(e?a.Uw.create(e):void 0),function(){l.stop(),l.status=S.NotStarted}}),[]),l}var O=n(2082);var I=function(e,t){return e===t};function P(e,t,n,i){void 0===n&&(n=I);var o=(0,r.useRef)(null),s=(0,r.useCallback)((function(t){return e.subscribe(t).unsubscribe}),[e]),a=(0,r.useCallback)((function(){return i?i(e):function(e,t){if("state"in(i=e)&&"machine"in i){if(0===e.status&&t.current)return t.current;var n=0!==(r=e).status?r.getSnapshot():r.machine.initialState;return t.current=0===e.status?n:null,n}var r,i;return"state"in e?e.state:void 0}(e,o)}),[e,i]);return(0,O.useSyncExternalStoreWithSelector)(s,a,a,t,n)}var A=n(3160),k=n(8760),N=n(9946),F=n(8615);const D=({initialLogViewReference:e,logViews:t,useDevTools:n=!1,initializeFromUrl:i,updateContextInUrl:o,listenForUrlChanges:s})=>{const[a]=(0,r.useState)((()=>(0,F._7)())),c=T((()=>(0,F.Yo)({initialContext:{logViewReference:null!=e?e:N.pC},logViews:t,notificationChannel:a,initializeFromUrl:i,updateContextInUrl:o,listenForUrlChanges:s})),{devTools:n}),u=(0,r.useCallback)((e=>{c.send({type:"LOG_VIEW_REFERENCE_CHANGED",logViewReference:e})}),[c]),l=P(c,(e=>e.context.logViewReference)),d=P(c,(e=>e.matches("resolving")||e.matches("updating")||e.matches("checkingStatus")||e.matches("resolutionFailed")||e.matches("checkingStatusFailed")||e.matches("resolvedPersistedLogView")||e.matches("resolvedInlineLogView")?e.context.logView:void 0)),f=P(c,(e=>e.matches("checkingStatus")||e.matches("checkingStatusFailed")||e.matches("resolvedPersistedLogView")||e.matches("resolvedInlineLogView")?e.context.resolvedLogView:void 0)),h=P(c,(e=>e.matches("resolvedPersistedLogView")||e.matches("resolvedInlineLogView")||e.matches("resolutionFailed")?e.context.status:{index:"unknown"})),p=P(c,(e=>e.matches("loading"))),g=P(c,(e=>e.matches("resolving"))),v=P(c,(e=>e.matches("checkingStatus"))),y=P(c,(e=>e.matches("updating"))),m=p||g||v||y,w=P(c,(e=>e.matches("uninitialized")||e.matches("initializingFromUrl"))),b=P(c,(e=>e.matches("loadingFailed"))),S=P(c,(e=>e.matches("resolutionFailed"))),E=P(c,(e=>e.matches("checkingStatusFailed"))),_=P(c,(e=>"log-view-reference"===e.context.logViewReference.type)),x=!_,L=P(c,(e=>e.matches("loadingFailed")||e.matches("resolutionFailed")||e.matches("checkingStatusFailed")?[e.context.error]:[])),R=L.length>0,C=(0,r.useCallback)((()=>c.send({type:"RETRY"})),[c]),V=(0,r.useCallback)((async e=>{c.send({type:"UPDATE",attributes:e});const t=await(0,k.f)(c,(e=>e.matches("updatingFailed")||e.matches("resolvedPersistedLogView")||e.matches("resolvedInlineLogView")));if(t.matches("updatingFailed"))throw t.context.error}),[c]),O=(0,r.useCallback)((()=>{u(N.pC)}),[u]);return{logViewStateService:c,logViewStateNotifications:a,hasFailedLoading:R,hasFailedLoadingLogView:b,hasFailedLoadingLogViewStatus:E,hasFailedResolvingLogView:S,latestLoadLogViewFailures:L,isUninitialized:w,isLoading:m,isLoadingLogView:p,isLoadingLogViewStatus:v,isResolvingLogView:g,logViewReference:l,logView:d,resolvedLogView:f,logViewStatus:h,derivedDataView:null==f?void 0:f.dataViewReference,isInlineLogView:x,isPersistedLogView:_,load:C,retry:C,update:V,changeLogViewReference:u,revertToDefaultLogView:O}},[M,j]=(0,A.A)(D)},3800:(e,t,n)=>{"use strict";n.r(t),n.d(t,{LogAIAssistant:()=>M,LogColumnHeader:()=>U,LogColumnHeadersWrapper:()=>q,LogEntryColumn:()=>$,LogEntryContextMenu:()=>z,LogEntryFieldColumn:()=>B,LogEntryFlyout:()=>D,LogEntryMessageColumn:()=>J,LogEntryRowWrapper:()=>W,LogEntryTimestampColumn:()=>G,LogHighlightsStateProvider:()=>I,LogPositionStateProvider:()=>w.SR,LogStream:()=>j,LogStreamProvider:()=>m.o7,LogViewProvider:()=>y.xE,OpenInLogsExplorerButton:()=>K,ScrollableLogTextStreamView:()=>H,WithSummary:()=>F,getLogViewReferenceFromUrl:()=>k.cl,iconColumnId:()=>A.iconColumnId,initializeFromUrl:()=>k.yu,listenForUrlChanges:()=>k.HC,plugin:()=>N,updateContextInUrl:()=>k.rf,useColumnWidths:()=>A.useColumnWidths,useLogHighlightsStateContext:()=>P,useLogPositionStateContext:()=>w.$B,useLogStreamContext:()=>m.XB,useLogView:()=>y.zs,useLogViewContext:()=>y.uH});var r=n(1600),i=n(8915),o=n(8422),s=n(3185),a=n(4286),c=n(6791);const u=(0,r.O)((()=>n.e(747).then(n.bind(n,6747))));function l({observabilityAIAssistant:e}){return t=>(0,c.jsx)(u,(0,s.default)({observabilityAIAssistant:e},t))}var d=n(7880);const f=(0,r.O)((()=>n.e(917).then(n.bind(n,3917)).then((e=>({default:e.LogsOverview}))))),h=(0,r.O)((()=>n.e(917).then(n.bind(n,3917)).then((e=>({default:e.LogsOverviewErrorContent}))))),p=(0,r.O)((()=>n.e(917).then(n.bind(n,3917)).then((e=>({default:e.LogsOverviewLoadingContent}))))),g=!1;var v=n(763);class LogsSharedPlugin{constructor(){(0,i.default)(this,"logViews",void 0),this.logViews=new v.I}setup(e,t){return{logViews:this.logViews.setup(),locators:{logsLocator:t.share.url.locators.create(new o.J2(t.share.url.locators)),nodeLogsLocator:t.share.url.locators.create(new o.Jk(t.share.url.locators)),traceLogsLocator:t.share.url.locators.create(new o.oN(t.share.url.locators))}}}start(e,t){const{http:n,settings:r}=e,{charts:i,data:o,dataViews:u,discoverShared:v,logsDataAccess:y,observabilityAIAssistant:m,share:w}=t,b=this.logViews.start({http:n,dataViews:u,logSourcesService:y.services.logSourcesService,search:o.search}),S=(e=>{const t=t=>(0,c.jsx)(f,(0,s.default)({dependencies:e},t)),n=e.uiSettings.client.get$("observability:newLogsOverview",g);return t.useIsEnabled=()=>(0,d.A)(n,g),t.ErrorContent=h,t.LoadingContent=p,t})({charts:i,logsDataAccess:y,search:o.search.search,searchSource:o.search.searchSource,uiSettings:r,share:w,dataViews:u,embeddable:t.embeddable});if(!m)return{logViews:b,LogsOverview:S};const E=l({observabilityAIAssistant:m});var _;return v.features.registry.register({id:"observability-logs-ai-assistant",render:(_=E,({doc:e})=>{const t=(0,a.useMemo)((()=>({fields:Object.entries(e.flattened).map((([e,t])=>({field:e,value:Array.isArray(t)?t:[t]})))})),[e]);return(0,c.jsx)(_,{key:e.id,doc:t})})}),{logViews:b,LogAIAssistant:E,LogsOverview:S}}stop(){}}var y=n(1607),m=n(6401),w=n(4208),b=n(3160),S=n(49),E=n(2503),_=n(9812);const x=({createPromise:e,onResolve:t=L,onReject:n=L,cancelPreviousOn:r="never",triggerOrThrow:i="whenMounted"},o)=>{const s=(0,_.default)(),c=(0,a.useCallback)((()=>{switch(i){case"always":return!0;case"whenMounted":return s()}}),[s,i]),u=(0,a.useRef)([]),[l,d]=(0,a.useState)({state:"uninitialized"}),f=(0,a.useCallback)((()=>{d({state:"uninitialized"})}),[]),h=(0,a.useMemo)((()=>(...i)=>{let o;const s=new Promise(((e,t)=>{o=t})),a=u.current,l=()=>{a.forEach((e=>e.cancel()))},f=e(...i),h=Promise.race([f,s]);d({state:"pending",promise:h}),"creation"===r&&l();const p={cancel:()=>{o(new CanceledPromiseError)},cancelSilently:()=>{o(new SilentCanceledPromiseError)},promise:h.then((e=>(["settlement","resolution"].includes(r)&&l(),u.current=u.current.filter((e=>e.promise!==p.promise)),t&&c()&&t(e),d((t=>"pending"===t.state&&t.promise===h?{state:"resolved",promise:p.promise,value:e}:t)),e)),(e=>{if(!(e instanceof SilentCanceledPromiseError)){if(["settlement","rejection"].includes(r)&&l(),u.current=u.current.filter((e=>e.promise!==p.promise)),c()){if(!n)throw e;n(e)}d((t=>"pending"===t.state&&t.promise===h?{state:"rejected",promise:h,value:e}:t))}}))};return u.current=[...u.current,p],p.promise.catch(L),p.promise}),o);return(0,a.useEffect)((()=>()=>{u.current.forEach((e=>e.cancelSilently()))}),[]),[l,h,f]};class CanceledPromiseError extends Error{constructor(e){super(e),(0,i.default)(this,"isCanceled",!0),Object.setPrototypeOf(this,new.target.prototype)}}class SilentCanceledPromiseError extends CanceledPromiseError{}const L=()=>{};var R=n(6524),C=n(733);var V=n(770),T=n(1931);var O=n(8446);const[I,P]=(0,b.A)((({logViewReference:e,sourceVersion:t,centerCursor:n,size:r,filterQuery:i})=>{const[o,s]=(0,a.useState)([]),{visibleMidpoint:c,jumpToTargetPosition:u,startTimestamp:l,endTimestamp:d}=(0,w.$B)(),f=(0,S.A)(l,3e3),h=(0,S.A)(d,3e3),{logEntryHighlights:p,logEntryHighlightsById:g,loadLogEntryHighlightsRequest:v}=((e,t,n,r,i,o,s,c)=>{const{services:u}=(0,E.fJ)(),[l,d]=(0,a.useState)([]),[f,h]=x({cancelPreviousOn:"resolution",createPromise:async()=>{if(!(n&&r&&i&&c.length))throw new Error("Skipping request: Insufficient parameters");return await(async(e,t)=>{const n=await t(C.us,{method:"POST",body:JSON.stringify(C.$P.encode(e)),version:"1"});return(0,R.GB)(C.ZH)(n)})({logView:e,startTimestamp:n,endTimestamp:r,center:i,size:o,query:s||void 0,highlightTerms:c},u.http.fetch)},onResolve:e=>{d(e.data)}},[e,n,r,i,o,s,c]);(0,a.useEffect)((()=>{d([])}),[c]),(0,a.useEffect)((()=>{c.filter((e=>e.length>0)).length&&n&&r?h():d([])}),[r,s,c,h,t,n]);const p=(0,a.useMemo)((()=>l.reduce(((e,t)=>t.entries.reduce(((e,t)=>{const n=e[t.id]||[];return{...e,[t.id]:[...n,t]}}),e)),{})),[l]);return{logEntryHighlights:l,logEntryHighlightsById:p,loadLogEntryHighlightsRequest:f}})(e,t,f,h,n,r,i,o),{logSummaryHighlights:y,loadLogSummaryHighlightsRequest:m}=((e,t,n,r,i,o)=>{const{services:s}=(0,E.fJ)(),[c,u]=(0,a.useState)([]),l=(0,T.$)(n,r),[d,f]=x({cancelPreviousOn:"resolution",createPromise:async()=>{if(!(n&&r&&l&&o.length))throw new Error("Skipping request: Insufficient parameters");return await(async(e,t)=>{const n=await t(C.p5,{method:"POST",body:JSON.stringify(C.h5.encode(e)),version:"1"});return(0,R.GB)(C.z3)(n)})({logView:e,startTimestamp:n,endTimestamp:r,bucketSize:l,query:i,highlightTerms:o},s.http.fetch)},onResolve:e=>{u(e.data)}},[e,n,r,l,i,o]),h=(0,a.useMemo)((()=>(0,V.debounce)(f,275)),[f]);return(0,a.useEffect)((()=>{u([])}),[o]),(0,a.useEffect)((()=>{o.filter((e=>e.length>0)).length&&n&&r?h():u([])}),[l,h,i,o,t,n,r]),{logSummaryHighlights:c,loadLogSummaryHighlightsRequest:d}})(e,t,f,h,i,o),{currentHighlightKey:b,hasPreviousHighlight:_,hasNextHighlight:L,goToPreviousHighlight:I,goToNextHighlight:P}=(({highlightTerms:e,jumpToTargetPosition:t,logEntryHighlights:n,visibleMidpoint:r})=>{const[i,o]=(0,a.useState)(null),s=(0,a.useMemo)((()=>n&&n.length>0?n[0].entries:[]),[n]);(0,a.useEffect)((()=>{o(null)}),[e]),(0,a.useEffect)((()=>{i&&t(i)}),[i,t]),(0,a.useEffect)((()=>{if(null===i&&s.length>0){const i=r?(e=(0,O.Fc)(s,r),t=0,n=s.length-1,Math.min(Math.max(e,t),n)):0,a=(0,O.Js)(s[i]);o(a)}var e,t,n}),[i,s,o,r]);const c=(0,a.useMemo)((()=>i&&s.length>0?(0,O.bu)(s,i):null),[i,s]),u=(0,a.useMemo)((()=>(0,V.isNumber)(c)&&c>0),[c]),l=(0,a.useMemo)((()=>s.length>0&&(0,V.isNumber)(c)&&c<s.length-1),[c,s]),d=(0,a.useCallback)((()=>{if(s.length&&(0,V.isNumber)(c)){const e=c-1,t=(0,O.Js)(s[e]);o(t)}}),[c,s]),f=(0,a.useCallback)((()=>{if(s.length>0&&(0,V.isNumber)(c)){const e=c+1,t=(0,O.Js)(s[e]);o(t)}}),[c,s]);return{currentHighlightKey:i,hasPreviousHighlight:u,hasNextHighlight:l,goToPreviousHighlight:d,goToNextHighlight:f}})({visibleMidpoint:c,logEntryHighlights:p,highlightTerms:o,jumpToTargetPosition:u});return{highlightTerms:o,setHighlightTerms:s,logEntryHighlights:p,logEntryHighlightsById:g,logSummaryHighlights:y,loadLogEntryHighlightsRequest:v,loadLogSummaryHighlightsRequest:m,currentHighlightKey:b,hasPreviousHighlight:_,hasNextHighlight:L,goToPreviousHighlight:I,goToNextHighlight:P}}));var A=n(4297),k=n(8615);function N(){return new LogsSharedPlugin}const F=(0,r.O)((()=>n.e(609).then(n.bind(n,5609)))),D=(0,r.O)((()=>Promise.all([n.e(181),n.e(696),n.e(417)]).then(n.bind(n,8417)))),M=(0,r.O)((()=>n.e(747).then(n.bind(n,6747)))),j=(0,r.O)((()=>Promise.all([n.e(181),n.e(696),n.e(498),n.e(417),n.e(327)]).then(n.bind(n,5327)))),U=(0,r.O)((()=>Promise.all([n.e(181),n.e(212)]).then(n.bind(n,2212)))),q=(0,r.O)((()=>Promise.all([n.e(181),n.e(120)]).then(n.bind(n,5120)))),$=(0,r.O)((()=>Promise.resolve().then(n.bind(n,4297)))),z=(0,r.O)((()=>n.e(886).then(n.bind(n,4886)))),B=(0,r.O)((()=>Promise.all([n.e(181),n.e(696),n.e(166)]).then(n.bind(n,7166)))),J=(0,r.O)((()=>Promise.all([n.e(181),n.e(696),n.e(617)]).then(n.bind(n,9617)))),W=(0,r.O)((()=>n.e(107).then(n.bind(n,107)))),G=(0,r.O)((()=>n.e(570).then(n.bind(n,1570)))),H=(0,r.O)((()=>Promise.all([n.e(181),n.e(696),n.e(498)]).then(n.bind(n,2498)))),K=(0,r.O)((()=>n.e(700).then(n.bind(n,1700))))},8615:(e,t,n)=>{"use strict";n.d(t,{_7:()=>i,Yo:()=>C,cl:()=>D,yu:()=>F,HC:()=>M,rf:()=>N});var r=n(190);const i=()=>(()=>{const e=new r.ReplaySubject(1);return{createService:()=>e.asObservable(),notify:t=>(n,r)=>{const i=t(n,r);null!=i&&e.next(i)}}})(),o=e=>"logViewReference"in e?{type:"LOADING_LOG_VIEW_STARTED",logViewReference:e.logViewReference}:void 0,s=e=>"resolvedLogView"in e&&"status"in e?{type:"LOADING_LOG_VIEW_SUCCEEDED",resolvedLogView:e.resolvedLogView,status:e.status}:void 0,a=e=>"error"in e?{type:"LOADING_LOG_VIEW_FAILED",error:e.error}:void 0;var c=n(4123),u=n(932),l=n(1772),d=n(4178),f=n(1114),h=n(7044),p=n(4096),g=n(1943),v=n(7320);function y(e){return(0,c.Cl)((0,c.Cl)({type:d.lA},e),{toJSON:function(){e.onDone,e.onError;var t,n=(0,c.Tt)(e,["onDone","onError"]);return(0,c.Cl)((0,c.Cl)({},n),{type:d.lA,src:(t=e.src,"string"==typeof t?{type:t,toString:function(){return t}}:t)})}})}var m="",w="*",b={},S=function(e){return"#"===e[0]},E=function(){function e(t,n,r,i){void 0===r&&(r="context"in t?t.context:void 0);var o,s=this;this.config=t,this._context=r,this.order=-1,this.__xstatenode=!0,this.__cache={events:void 0,relativeValue:new Map,initialStateValue:void 0,initialState:void 0,on:void 0,transitions:void 0,candidates:{},delayedTransitions:void 0},this.idMap={},this.tags=[],this.options=Object.assign({actions:{},guards:{},services:{},activities:{},delays:{}},n),this.parent=null==i?void 0:i.parent,this.key=this.config.key||(null==i?void 0:i.key)||this.config.id||"(machine)",this.machine=this.parent?this.parent.machine:this,this.path=this.parent?this.parent.path.concat(this.key):[],this.delimiter=this.config.delimiter||(this.parent?this.parent.delimiter:p.AD),this.id=this.config.id||(0,c.fX)([this.machine.key],(0,c.zs)(this.path),!1).join(this.delimiter),this.version=this.parent?this.parent.version:this.config.version,this.type=this.config.type||(this.config.parallel?"parallel":this.config.states&&Object.keys(this.config.states).length?"compound":this.config.history?"history":"atomic"),this.schema=this.parent?this.machine.schema:null!==(o=this.config.schema)&&void 0!==o?o:{},this.description=this.config.description,h.p||(0,u.R8)(!("parallel"in this.config),'The "parallel" property is deprecated and will be removed in version 4.1. '.concat(this.config.parallel?"Replace with `type: 'parallel'`":"Use `type: '".concat(this.type,"'`")," in the config for state node '").concat(this.id,"' instead.")),this.initial=this.config.initial,this.states=this.config.states?(0,u.LG)(this.config.states,(function(t,n){var r,i=new e(t,{},void 0,{parent:s,key:n});return Object.assign(s.idMap,(0,c.Cl)(((r={})[i.id]=i,r),i.idMap)),i})):b;var a=0;!function e(t){var n,r;t.order=a++;try{for(var i=(0,c.Ju)((0,g.rz)(t)),o=i.next();!o.done;o=i.next())e(o.value)}catch(e){n={error:e}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}}(this),this.history=!0===this.config.history?"shallow":this.config.history||!1,this._transient=!!this.config.always||!!this.config.on&&(Array.isArray(this.config.on)?this.config.on.some((function(e){return e.event===m})):m in this.config.on),this.strict=!!this.config.strict,this.onEntry=(0,u.$r)(this.config.entry||this.config.onEntry).map((function(e){return(0,f.Hf)(e)})),this.onExit=(0,u.$r)(this.config.exit||this.config.onExit).map((function(e){return(0,f.Hf)(e)})),this.meta=this.config.meta,this.doneData="final"===this.type?this.config.data:void 0,this.invoke=(0,u.$r)(this.config.invoke).map((function(e,t){var n,r;if((0,u.Ai)(e)){var i=(0,u.cv)(s.id,t);return s.machine.options.services=(0,c.Cl)(((n={})[i]=e,n),s.machine.options.services),y({src:i,id:i})}if((0,u.Kg)(e.src))return i=e.id||(0,u.cv)(s.id,t),y((0,c.Cl)((0,c.Cl)({},e),{id:i,src:e.src}));if((0,u.Ai)(e.src)||(0,u.Tn)(e.src))return i=e.id||(0,u.cv)(s.id,t),s.machine.options.services=(0,c.Cl)(((r={})[i]=e.src,r),s.machine.options.services),y((0,c.Cl)((0,c.Cl)({id:i},e),{src:i}));var o=e.src;return y((0,c.Cl)((0,c.Cl)({id:(0,u.cv)(s.id,t)},e),{src:o}))})),this.activities=(0,u.$r)(this.config.activities).concat(this.invoke).map((function(e){return(0,f._4)(e)})),this.transition=this.transition.bind(this),this.tags=(0,u.$r)(this.config.tags)}return e.prototype._init=function(){this.__cache.transitions||(0,g.Ki)(this).forEach((function(e){return e.on}))},e.prototype.withConfig=function(t,n){var r=this.options,i=r.actions,o=r.activities,s=r.guards,a=r.services,u=r.delays;return new e(this.config,{actions:(0,c.Cl)((0,c.Cl)({},i),t.actions),activities:(0,c.Cl)((0,c.Cl)({},o),t.activities),guards:(0,c.Cl)((0,c.Cl)({},s),t.guards),services:(0,c.Cl)((0,c.Cl)({},a),t.services),delays:(0,c.Cl)((0,c.Cl)({},u),t.delays)},null!=n?n:this.context)},e.prototype.withContext=function(t){return new e(this.config,this.options,t)},Object.defineProperty(e.prototype,"context",{get:function(){return(0,u.Tn)(this._context)?this._context():this._context},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"definition",{get:function(){return{id:this.id,key:this.key,version:this.version,context:this.context,type:this.type,initial:this.initial,history:this.history,states:(0,u.LG)(this.states,(function(e){return e.definition})),on:this.on,transitions:this.transitions,entry:this.onEntry,exit:this.onExit,activities:this.activities||[],meta:this.meta,order:this.order||-1,data:this.doneData,invoke:this.invoke,description:this.description,tags:this.tags}},enumerable:!1,configurable:!0}),e.prototype.toJSON=function(){return this.definition},Object.defineProperty(e.prototype,"on",{get:function(){if(this.__cache.on)return this.__cache.on;var e=this.transitions;return this.__cache.on=e.reduce((function(e,t){return e[t.eventType]=e[t.eventType]||[],e[t.eventType].push(t),e}),{})},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"after",{get:function(){return this.__cache.delayedTransitions||(this.__cache.delayedTransitions=this.getDelayedTransitions(),this.__cache.delayedTransitions)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"transitions",{get:function(){return this.__cache.transitions||(this.__cache.transitions=this.formatTransitions(),this.__cache.transitions)},enumerable:!1,configurable:!0}),e.prototype.getCandidates=function(e){if(this.__cache.candidates[e])return this.__cache.candidates[e];var t=e===m,n=this.transitions.filter((function(n){var r=n.eventType===e;return t?r:r||n.eventType===w}));return this.__cache.candidates[e]=n,n},e.prototype.getDelayedTransitions=function(){var e=this,t=this.config.after;if(!t)return[];var n=function(t,n){var r=(0,u.Tn)(t)?"".concat(e.id,":delay[").concat(n,"]"):t,i=(0,f.Pl)(r,e.id);return e.onEntry.push((0,f.tN)(i,{delay:t})),e.onExit.push((0,f.ZT)(i)),i};return((0,u.cy)(t)?t.map((function(e,t){var r=n(e.delay,t);return(0,c.Cl)((0,c.Cl)({},e),{event:r})})):(0,u.Bq)(Object.keys(t).map((function(e,r){var i=t[e],o=(0,u.Kg)(i)?{target:i}:i,s=isNaN(+e)?e:+e,a=n(s,r);return(0,u.$r)(o).map((function(e){return(0,c.Cl)((0,c.Cl)({},e),{event:a,delay:s})}))})))).map((function(t){var n=t.delay;return(0,c.Cl)((0,c.Cl)({},e.formatTransition(t)),{delay:n})}))},e.prototype.getStateNodes=function(e){var t,n=this;if(!e)return[];var r=e instanceof l.Uw?e.value:(0,u.at)(e,this.delimiter);if((0,u.Kg)(r)){var i=this.getStateNode(r).initial;return void 0!==i?this.getStateNodes(((t={})[r]=i,t)):[this,this.states[r]]}var o=Object.keys(r),s=[this];return s.push.apply(s,(0,c.fX)([],(0,c.zs)((0,u.Bq)(o.map((function(e){return n.getStateNode(e).getStateNodes(r[e])})))),!1)),s},e.prototype.handles=function(e){var t=(0,u.vd)(e);return this.events.includes(t)},e.prototype.resolveState=function(e){var t=e instanceof l.Uw?e:l.Uw.create(e),n=Array.from((0,g.D0)([],this.getStateNodes(t.value)));return new l.Uw((0,c.Cl)((0,c.Cl)({},t),{value:this.resolve(t.value),configuration:n,done:(0,g.BJ)(n,this),tags:(0,g.iU)(n),machine:this.machine}))},e.prototype.transitionLeafNode=function(e,t,n){var r=this.getStateNode(e).next(t,n);return r&&r.transitions.length?r:this.next(t,n)},e.prototype.transitionCompoundNode=function(e,t,n){var r=Object.keys(e),i=this.getStateNode(r[0])._transition(e[r[0]],t,n);return i&&i.transitions.length?i:this.next(t,n)},e.prototype.transitionParallelNode=function(e,t,n){var r,i,o={};try{for(var s=(0,c.Ju)(Object.keys(e)),a=s.next();!a.done;a=s.next()){var l=a.value,d=e[l];if(d){var f=this.getStateNode(l)._transition(d,t,n);f&&(o[l]=f)}}}catch(e){r={error:e}}finally{try{a&&!a.done&&(i=s.return)&&i.call(s)}finally{if(r)throw r.error}}var h=Object.keys(o).map((function(e){return o[e]})),p=(0,u.Bq)(h.map((function(e){return e.transitions})));if(!h.some((function(e){return e.transitions.length>0})))return this.next(t,n);var g=(0,u.Bq)(Object.keys(o).map((function(e){return o[e].configuration})));return{transitions:p,exitSet:(0,u.Bq)(h.map((function(e){return e.exitSet}))),configuration:g,source:t,actions:(0,u.Bq)(Object.keys(o).map((function(e){return o[e].actions})))}},e.prototype._transition=function(e,t,n){return(0,u.Kg)(e)?this.transitionLeafNode(e,t,n):1===Object.keys(e).length?this.transitionCompoundNode(e,t,n):this.transitionParallelNode(e,t,n)},e.prototype.getTransitionData=function(e,t){return this._transition(e.value,e,(0,u.ft)(t))},e.prototype.next=function(e,t){var n,r,i,o=this,s=t.name,a=[],l=[];try{for(var d=(0,c.Ju)(this.getCandidates(s)),f=d.next();!f.done;f=d.next()){var h=f.value,p=h.cond,g=h.in,v=e.context,y=!g||((0,u.Kg)(g)&&S(g)?e.matches((0,u.at)(this.getStateNodeById(g).path,this.delimiter)):(0,u.HK)((0,u.at)(g,this.delimiter),(0,u.Ae)(this.path.slice(0,-2))(e.value))),m=!1;try{m=!p||(0,u.re)(this.machine,p,v,t,e)}catch(e){throw new Error("Unable to evaluate guard '".concat(p.name||p.type,"' in transition for event '").concat(s,"' in state node '").concat(this.id,"':\n").concat(e.message))}if(m&&y){void 0!==h.target&&(l=h.target),a.push.apply(a,(0,c.fX)([],(0,c.zs)(h.actions),!1)),i=h;break}}}catch(e){n={error:e}}finally{try{f&&!f.done&&(r=d.return)&&r.call(d)}finally{if(n)throw n.error}}if(i){if(!l.length)return{transitions:[i],exitSet:[],configuration:e.value?[this]:[],source:e,actions:a};var w=(0,u.Bq)(l.map((function(t){return o.getRelativeStateNodes(t,e.historyValue)})));return{transitions:[i],exitSet:i.internal?[]:(0,u.Bq)(l.map((function(e){return o.getPotentiallyReenteringNodes(e)}))),configuration:w,source:e,actions:a}}},e.prototype.getPotentiallyReenteringNodes=function(e){if(this.order<e.order)return[this];for(var t=[],n=this,r=e;n&&n!==r;)t.push(n),n=n.parent;return n!==r?[]:(t.push(r),t)},e.prototype.getActions=function(e,t,n,r,i,o,s){var a,l,d,h,p=this,v=o?(0,g.D0)([],this.getStateNodes(o.value)):[],y=new Set;try{for(var m=(0,c.Ju)(Array.from(e).sort((function(e,t){return e.order-t.order}))),w=m.next();!w.done;w=m.next()){var b=w.value;(!(0,g.zy)(v,b)||(0,g.zy)(n.exitSet,b)||b.parent&&y.has(b.parent))&&y.add(b)}}catch(e){a={error:e}}finally{try{w&&!w.done&&(l=m.return)&&l.call(m)}finally{if(a)throw a.error}}try{for(var S=(0,c.Ju)(v),E=S.next();!E.done;E=S.next())b=E.value,(0,g.zy)(e,b)&&!(0,g.zy)(n.exitSet,b.parent)||n.exitSet.push(b)}catch(e){d={error:e}}finally{try{E&&!E.done&&(h=S.return)&&h.call(S)}finally{if(d)throw d.error}}n.exitSet.sort((function(e,t){return t.order-e.order}));var _=Array.from(y).sort((function(e,t){return e.order-t.order})),x=new Set(n.exitSet),L=(0,u.Bq)(_.map((function(e){var t=[];if("final"!==e.type)return t;var o=e.parent;if(!o.parent)return t;t.push((0,f.Vw)(e.id,e.doneData),(0,f.Vw)(o.id,e.doneData?(0,u.A9)(e.doneData,r,i):void 0));var s=o.parent;return"parallel"===s.type&&(0,g.i0)(s).every((function(e){return(0,g.BJ)(n.configuration,e)}))&&t.push((0,f.Vw)(s.id)),t}))),R=_.map((function(e){var t=e.onEntry,n=e.activities.map((function(e){return(0,f.ni)(e)}));return{type:"entry",actions:(0,f.Um)(s?(0,c.fX)((0,c.fX)([],(0,c.zs)(t),!1),(0,c.zs)(n),!1):(0,c.fX)((0,c.fX)([],(0,c.zs)(n),!1),(0,c.zs)(t),!1),p.machine.options.actions)}})).concat({type:"state_done",actions:L.map((function(e){return(0,f.xl)(e)}))}),C=Array.from(x).map((function(e){return{type:"exit",actions:(0,f.Um)((0,c.fX)((0,c.fX)([],(0,c.zs)(e.onExit),!1),(0,c.zs)(e.activities.map((function(e){return(0,f.ds)(e)}))),!1),p.machine.options.actions)}})).concat({type:"transition",actions:(0,f.Um)(n.actions,this.machine.options.actions)}).concat(R);if(t){var V=(0,f.Um)((0,u.Bq)((0,c.fX)([],(0,c.zs)(e),!1).sort((function(e,t){return t.order-e.order})).map((function(e){return e.onExit}))),this.machine.options.actions).filter((function(e){return!(0,u.Gx)(e)}));return C.concat({type:"stop",actions:V})}return C},e.prototype.transition=function(e,t,n,r){void 0===e&&(e=this.initialState);var i,o=(0,u.ft)(t);if(e instanceof l.Uw)i=void 0===n?e:this.resolveState(l.Uw.from(e,n));else{var s=(0,u.Kg)(e)?this.resolve((0,u.zr)(this.getResolvedPath(e))):this.resolve(e),a=null!=n?n:this.machine.context;i=this.resolveState(l.Uw.from(s,a))}if(!h.p&&o.name===w)throw new Error("An event cannot have the wildcard type ('".concat(w,"')"));if(this.strict&&!this.events.includes(o.name)&&!(0,u.M7)(o.name))throw new Error("Machine '".concat(this.id,"' does not accept event '").concat(o.name,"'"));var d=this._transition(i.value,i,o)||{transitions:[],configuration:[],exitSet:[],source:i,actions:[]},f=(0,g.D0)([],this.getStateNodes(i.value)),p=d.configuration.length?(0,g.D0)(f,d.configuration):f;return d.configuration=(0,c.fX)([],(0,c.zs)(p),!1),this.resolveTransition(d,i,i.context,r,o)},e.prototype.resolveRaisedTransition=function(e,t,n,r){var i,o=e.actions;return(e=this.transition(e,t,void 0,r))._event=n,e.event=n.data,(i=e.actions).unshift.apply(i,(0,c.fX)([],(0,c.zs)(o),!1)),e},e.prototype.resolveTransition=function(e,t,n,r,i){var o,s,a,h,p=this;void 0===i&&(i=f.zp);var y=e.configuration,w=!t||e.transitions.length>0,b=w?e.configuration:t?t.configuration:[],S=(0,g.BJ)(b,this),E=w?(0,g._W)(this.machine,y):void 0,_=t?t.historyValue?t.historyValue:e.source?this.machine.historyValue(t.value):void 0:void 0,x=this.getActions(new Set(b),S,e,n,i,t,r),L=t?(0,c.Cl)({},t.activities):{};try{for(var R=(0,c.Ju)(x),C=R.next();!C.done;C=R.next()){var V=C.value;try{for(var T=(a=void 0,(0,c.Ju)(V.actions)),O=T.next();!O.done;O=T.next()){var I=O.value;I.type===d.ni?L[I.activity.id||I.activity.type]=I:I.type===d.ds&&(L[I.activity.id||I.activity.type]=!1)}}catch(e){a={error:e}}finally{try{O&&!O.done&&(h=T.return)&&h.call(T)}finally{if(a)throw a.error}}}}catch(e){o={error:e}}finally{try{C&&!C.done&&(s=R.return)&&s.call(R)}finally{if(o)throw o.error}}var P=(0,c.zs)((0,f.AS)(this,t,n,i,x,r,this.machine.config.predictableActionArguments||this.machine.config.preserveActionOrder),2),A=P[0],k=P[1],N=(0,c.zs)((0,u.jB)(A,u.Gx),2),F=N[0],D=N[1],M=A.filter((function(e){var t;return e.type===d.ni&&(null===(t=e.activity)||void 0===t?void 0:t.type)===d.lA})),j=M.reduce((function(e,t){return e[t.activity.id]=(0,v.pz)(t.activity,p.machine,k,i),e}),t?(0,c.Cl)({},t.children):{}),U=new l.Uw({value:E||t.value,context:k,_event:i,_sessionid:t?t._sessionid:null,historyValue:E?_?(0,u.BY)(_,E):void 0:t?t.historyValue:void 0,history:!E||e.source?t:void 0,actions:E?D:[],activities:E?L:t?t.activities:{},events:[],configuration:b,transitions:e.transitions,children:j,done:S,tags:(0,g.iU)(b),machine:this}),q=n!==k;U.changed=i.name===d.yo||q;var $=U.history;$&&delete $.history;var z=!S&&(this._transient||y.some((function(e){return e._transient})));if(!(w||z&&i.name!==m))return U;var B=U;if(!S)for(z&&(B=this.resolveRaisedTransition(B,{type:d.kx},i,r));F.length;){var J=F.shift();B=this.resolveRaisedTransition(B,J._event,i,r)}var W=B.changed||($?!!B.actions.length||q||typeof $.value!=typeof B.value||!(0,l.iE)(B.value,$.value):void 0);return B.changed=W,B.history=$,B},e.prototype.getStateNode=function(e){if(S(e))return this.machine.getStateNodeById(e);if(!this.states)throw new Error("Unable to retrieve child state '".concat(e,"' from '").concat(this.id,"'; no child states exist."));var t=this.states[e];if(!t)throw new Error("Child state '".concat(e,"' does not exist on '").concat(this.id,"'"));return t},e.prototype.getStateNodeById=function(e){var t=S(e)?e.slice(1):e;if(t===this.id)return this;var n=this.machine.idMap[t];if(!n)throw new Error("Child state node '#".concat(t,"' does not exist on machine '").concat(this.id,"'"));return n},e.prototype.getStateNodeByPath=function(e){if("string"==typeof e&&S(e))try{return this.getStateNodeById(e.slice(1))}catch(e){}for(var t=(0,u._J)(e,this.delimiter).slice(),n=this;t.length;){var r=t.shift();if(!r.length)break;n=n.getStateNode(r)}return n},e.prototype.resolve=function(e){var t,n=this;if(!e)return this.initialStateValue||b;switch(this.type){case"parallel":return(0,u.LG)(this.initialStateValue,(function(t,r){return t?n.getStateNode(r).resolve(e[r]||t):b}));case"compound":if((0,u.Kg)(e)){var r=this.getStateNode(e);return"parallel"===r.type||"compound"===r.type?((t={})[e]=r.initialStateValue,t):e}return Object.keys(e).length?(0,u.LG)(e,(function(e,t){return e?n.getStateNode(t).resolve(e):b})):this.initialStateValue||{};default:return e||b}},e.prototype.getResolvedPath=function(e){if(S(e)){var t=this.machine.idMap[e.slice(1)];if(!t)throw new Error("Unable to find state node '".concat(e,"'"));return t.path}return(0,u._J)(e,this.delimiter)},Object.defineProperty(e.prototype,"initialStateValue",{get:function(){var e,t;if(this.__cache.initialStateValue)return this.__cache.initialStateValue;if("parallel"===this.type)t=(0,u.rp)(this.states,(function(e){return e.initialStateValue||b}),(function(e){return!("history"===e.type)}));else if(void 0!==this.initial){if(!this.states[this.initial])throw new Error("Initial state '".concat(this.initial,"' not found on '").concat(this.key,"'"));t=(0,g.d2)(this.states[this.initial])?this.initial:((e={})[this.initial]=this.states[this.initial].initialStateValue,e)}else t={};return this.__cache.initialStateValue=t,this.__cache.initialStateValue},enumerable:!1,configurable:!0}),e.prototype.getInitialState=function(e,t){this._init();var n=this.getStateNodes(e);return this.resolveTransition({configuration:n,exitSet:[],transitions:[],source:void 0,actions:[]},void 0,null!=t?t:this.machine.context,void 0)},Object.defineProperty(e.prototype,"initialState",{get:function(){var e=this.initialStateValue;if(!e)throw new Error("Cannot retrieve initial state from simple state '".concat(this.id,"'."));return this.getInitialState(e)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"target",{get:function(){var e;if("history"===this.type){var t=this.config;e=(0,u.Kg)(t.target)&&S(t.target)?(0,u.zr)(this.machine.getStateNodeById(t.target).path.slice(this.path.length-1)):t.target}return e},enumerable:!1,configurable:!0}),e.prototype.getRelativeStateNodes=function(e,t,n){return void 0===n&&(n=!0),n?"history"===e.type?e.resolveHistory(t):e.initialStateNodes:[e]},Object.defineProperty(e.prototype,"initialStateNodes",{get:function(){var e=this;if((0,g.d2)(this))return[this];if("compound"===this.type&&!this.initial)return h.p||(0,u.R8)(!1,"Compound state node '".concat(this.id,"' has no initial state.")),[this];var t=(0,u.bm)(this.initialStateValue);return(0,u.Bq)(t.map((function(t){return e.getFromRelativePath(t)})))},enumerable:!1,configurable:!0}),e.prototype.getFromRelativePath=function(e){if(!e.length)return[this];var t=(0,c.zs)(e),n=t[0],r=t.slice(1);if(!this.states)throw new Error("Cannot retrieve subPath '".concat(n,"' from node with no states"));var i=this.getStateNode(n);if("history"===i.type)return i.resolveHistory();if(!this.states[n])throw new Error("Child state '".concat(n,"' does not exist on '").concat(this.id,"'"));return this.states[n].getFromRelativePath(r)},e.prototype.historyValue=function(e){if(Object.keys(this.states).length)return{current:e||this.initialStateValue,states:(0,u.rp)(this.states,(function(t,n){if(!e)return t.historyValue();var r=(0,u.Kg)(e)?void 0:e[n];return t.historyValue(r||t.initialStateValue)}),(function(e){return!e.history}))}},e.prototype.resolveHistory=function(e){var t=this;if("history"!==this.type)return[this];var n=this.parent;if(!e){var r=this.target;return r?(0,u.Bq)((0,u.bm)(r).map((function(e){return n.getFromRelativePath(e)}))):n.initialStateNodes}var i=(0,u.VQ)(n.path,"states")(e).current;return(0,u.Kg)(i)?[n.getStateNode(i)]:(0,u.Bq)((0,u.bm)(i).map((function(e){return"deep"===t.history?n.getFromRelativePath(e):[n.states[e[0]]]})))},Object.defineProperty(e.prototype,"stateIds",{get:function(){var e=this,t=(0,u.Bq)(Object.keys(this.states).map((function(t){return e.states[t].stateIds})));return[this.id].concat(t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"events",{get:function(){var e,t,n,r;if(this.__cache.events)return this.__cache.events;var i=this.states,o=new Set(this.ownEvents);if(i)try{for(var s=(0,c.Ju)(Object.keys(i)),a=s.next();!a.done;a=s.next()){var u=i[a.value];if(u.states)try{for(var l=(n=void 0,(0,c.Ju)(u.events)),d=l.next();!d.done;d=l.next()){var f=d.value;o.add("".concat(f))}}catch(e){n={error:e}}finally{try{d&&!d.done&&(r=l.return)&&r.call(l)}finally{if(n)throw n.error}}}}catch(t){e={error:t}}finally{try{a&&!a.done&&(t=s.return)&&t.call(s)}finally{if(e)throw e.error}}return this.__cache.events=Array.from(o)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"ownEvents",{get:function(){var e=new Set(this.transitions.filter((function(e){return!(!e.target&&!e.actions.length&&e.internal)})).map((function(e){return e.eventType})));return Array.from(e)},enumerable:!1,configurable:!0}),e.prototype.resolveTarget=function(e){var t=this;if(void 0!==e)return e.map((function(e){if(!(0,u.Kg)(e))return e;var n=e[0]===t.delimiter;if(n&&!t.parent)return t.getStateNodeByPath(e.slice(1));var r=n?t.key+e:e;if(!t.parent)return t.getStateNodeByPath(r);try{return t.parent.getStateNodeByPath(r)}catch(e){throw new Error("Invalid transition definition for state node '".concat(t.id,"':\n").concat(e.message))}}))},e.prototype.formatTransition=function(e){var t=this,n=(0,u.R_)(e.target),r="internal"in e?e.internal:!n||n.some((function(e){return(0,u.Kg)(e)&&e[0]===t.delimiter})),i=this.machine.options.guards,o=this.resolveTarget(n),s=(0,c.Cl)((0,c.Cl)({},e),{actions:(0,f.Um)((0,u.$r)(e.actions)),cond:(0,u.Z8)(e.cond,i),target:o,source:this,internal:r,eventType:e.event,toJSON:function(){return(0,c.Cl)((0,c.Cl)({},s),{target:s.target?s.target.map((function(e){return"#".concat(e.id)})):void 0,source:"#".concat(t.id)})}});return s},e.prototype.formatTransitions=function(){var e,t,n,r=this;if(this.config.on)if(Array.isArray(this.config.on))n=this.config.on;else{var i=this.config.on,o=i[w],s=void 0===o?[]:o,a=(0,c.Tt)(i,["*"]);n=(0,u.Bq)(Object.keys(a).map((function(e){h.p||e!==m||(0,u.R8)(!1,"Empty string transition configs (e.g., `{ on: { '': ... }}`) for transient transitions are deprecated. Specify the transition in the `{ always: ... }` property instead. "+'Please check the `on` configuration for "#'.concat(r.id,'".'));var t=(0,u.oc)(e,a[e]);return h.p||function(e,t,n){var r=n.slice(0,-1).some((function(e){return!("cond"in e)&&!("in"in e)&&((0,u.Kg)(e.target)||(0,u.Ai)(e.target))})),i=t===m?"the transient event":"event '".concat(t,"'");(0,u.R8)(!r,"One or more transitions for ".concat(i," on state '").concat(e.id,"' are unreachable. ")+"Make sure that the default transition is the last one defined.")}(r,e,t),t})).concat((0,u.oc)(w,s)))}else n=[];var l=this.config.always?(0,u.oc)("",this.config.always):[],d=this.config.onDone?(0,u.oc)(String((0,f.Vw)(this.id)),this.config.onDone):[];h.p||(0,u.R8)(!(this.config.onDone&&!this.parent),'Root nodes cannot have an ".onDone" transition. Please check the config of "'.concat(this.id,'".'));var p=(0,u.Bq)(this.invoke.map((function(e){var t=[];return e.onDone&&t.push.apply(t,(0,c.fX)([],(0,c.zs)((0,u.oc)(String((0,f.tS)(e.id)),e.onDone)),!1)),e.onError&&t.push.apply(t,(0,c.fX)([],(0,c.zs)((0,u.oc)(String((0,f.z3)(e.id)),e.onError)),!1)),t}))),g=this.after,v=(0,u.Bq)((0,c.fX)((0,c.fX)((0,c.fX)((0,c.fX)([],(0,c.zs)(d),!1),(0,c.zs)(p),!1),(0,c.zs)(n),!1),(0,c.zs)(l),!1).map((function(e){return(0,u.$r)(e).map((function(e){return r.formatTransition(e)}))})));try{for(var y=(0,c.Ju)(g),b=y.next();!b.done;b=y.next()){var S=b.value;v.push(S)}}catch(t){e={error:t}}finally{try{b&&!b.done&&(t=y.return)&&t.call(y)}finally{if(e)throw e.error}}return v},e}(),_=n(3721),x=!1,L=f.kp,R=n(5850);const C=({initialContext:e,logViews:t,notificationChannel:n,initializeFromUrl:i,updateContextInUrl:c,listenForUrlChanges:u})=>(e=>{return t={context:e,preserveActionOrder:!0,predictableActionArguments:!0,id:"LogView",initial:"uninitialized",states:{uninitialized:{always:{target:"initializingFromUrl"}},initializingFromUrl:{on:{INITIALIZED_FROM_URL:{target:"loading",actions:["storeLogViewReference"]}},invoke:{src:"initializeFromUrl"}},loading:{entry:["notifyLoadingStarted","updateContextInUrl"],invoke:{src:"loadLogView"},on:{LOADING_SUCCEEDED:{target:"resolving",actions:"storeLogView"},LOADING_FAILED:{target:"loadingFailed",actions:"storeError"}}},resolving:{invoke:{src:"resolveLogView"},on:{RESOLUTION_FAILED:{target:"resolutionFailed",actions:["storeError","storeStatusAfterError"]},RESOLUTION_SUCCEEDED:{target:"checkingStatus",actions:"storeResolvedLogView"}}},checkingStatus:{invoke:{src:"loadLogViewStatus"},on:{CHECKING_STATUS_FAILED:{target:"checkingStatusFailed",actions:"storeError"},CHECKING_STATUS_SUCCEEDED:[{target:"resolvedPersistedLogView",actions:"storeStatus",cond:"isPersistedLogView"},{target:"resolvedInlineLogView",actions:"storeStatus"}]}},resolvedPersistedLogView:{invoke:{src:"listenForUrlChanges"},entry:["notifyLoadingSucceeded","updateContextInUrl"],on:{PERSIST_INLINE_LOG_VIEW:void 0,RELOAD_LOG_VIEW:{target:"loading"},LOG_VIEW_URL_KEY_REMOVED:{actions:"updateContextInUrl"}}},resolvedInlineLogView:{invoke:{src:"listenForUrlChanges"},entry:["notifyLoadingSucceeded","updateContextInUrl"],on:{PERSIST_INLINE_LOG_VIEW:{target:"persistingInlineLogView"},LOG_VIEW_URL_KEY_REMOVED:{actions:"updateContextInUrl"}}},persistingInlineLogView:{invoke:{src:"persistInlineLogView"},on:{PERSISTING_INLINE_LOG_VIEW_FAILED:{target:"persistingInlineLogViewFailed",actions:"storeError"},PERSISTING_INLINE_LOG_VIEW_SUCCEEDED:{target:"resolving",actions:["convertInlineLogViewReferenceToPersistedLogViewReference","storeLogView"]}}},persistingInlineLogViewFailed:{entry:"notifyPersistingInlineLogViewFailed",on:{RETRY_PERSISTING_INLINE_LOG_VIEW:{target:"persistingInlineLogView"}}},loadingFailed:{entry:"notifyLoadingFailed",on:{RETRY:{target:"loading"}}},resolutionFailed:{entry:"notifyLoadingFailed",on:{RETRY:{target:"resolving"}}},checkingStatusFailed:{entry:"notifyLoadingFailed",on:{RETRY:{target:"checkingStatus"}}},updating:{entry:"notifyLoadingStarted",invoke:{src:"updateLogView"},on:{UPDATING_FAILED:{target:"updatingFailed",actions:"storeError"},UPDATING_SUCCEEDED:{target:"resolving",actions:["updateLogViewReference","storeLogView"]}}},updatingFailed:{entry:"notifyLoadingFailed",on:{RELOAD_LOG_VIEW:{target:"loading"}}}},on:{LOG_VIEW_REFERENCE_CHANGED:{target:".loading",actions:"storeLogViewReference"},UPDATE:{target:".updating"}}},n={actions:{notifyLoadingStarted:f.LM((()=>{})),notifyLoadingSucceeded:f.LM((()=>{})),notifyLoadingFailed:f.LM((()=>{})),updateContextInUrl:f.LM((()=>{})),storeLogViewReference:L(((e,t)=>"logViewReference"in t&&null!==t.logViewReference?{logViewReference:t.logViewReference}:{})),storeLogView:L(((e,t)=>"logView"in t?{logView:t.logView}:{})),storeResolvedLogView:L(((e,t)=>"resolvedLogView"in t?{resolvedLogView:t.resolvedLogView}:{})),storeStatus:L(((e,t)=>"status"in t?{status:t.status}:{})),storeStatusAfterError:L(((e,t)=>"error"in t?{status:(0,R.isNoSuchRemoteClusterError)(t.error)?{index:"missing",reason:"remoteClusterNotFound"}:{index:"unknown"}}:{})),storeError:L(((e,t)=>"error"in t?{error:t.error}:{})),convertInlineLogViewReferenceToPersistedLogViewReference:L(((e,t)=>"logView"in t&&"log-view-inline"===e.logViewReference.type?{logViewReference:{type:"log-view-reference",logViewId:e.logViewReference.id}}:{})),updateLogViewReference:L(((e,t)=>"attributes"in t&&"log-view-inline"===e.logViewReference.type?{logViewReference:{...e.logViewReference,attributes:{...e.logViewReference.attributes,...t.attributes}}}:{}))},services:{initializeFromUrl:(e,t)=>e=>e({type:"INITIALIZED_FROM_URL",logViewReference:null}),listenForUrlChanges:(e,t)=>e=>{}},guards:{isPersistedLogView:(e,t)=>"log-view-reference"===e.logViewReference.type}},h.p||"predictableActionArguments"in t||x||(x=!0,_.warn("It is highly recommended to set `predictableActionArguments` to `true` when using `createMachine`. https://xstate.js.org/docs/guides/actions.html")),new E(t,n);var t,n})(e).withConfig({actions:{...null!=n?{notifyLoadingStarted:n.notify(o),notifyLoadingSucceeded:n.notify(s),notifyLoadingFailed:n.notify(a)}:{},...c?{updateContextInUrl:c}:{}},services:{...i?{initializeFromUrl:i}:{},...u?{listenForUrlChanges:u}:{},loadLogView:e=>(0,r.from)("logViewReference"in e?t.getLogView(e.logViewReference):(0,r.throwError)((()=>new Error("Failed to load log view")))).pipe((0,r.map)((e=>({type:"LOADING_SUCCEEDED",logView:e}))),(0,r.catchError)((e=>(0,r.of)({type:"LOADING_FAILED",error:e})))),updateLogView:(e,n)=>(0,r.from)("logViewReference"in e&&"UPDATE"===n.type?t.putLogView(e.logViewReference,n.attributes):(0,r.throwError)((()=>new Error("Failed to update log view: Not invoked by update event with matching id.")))).pipe((0,r.map)((e=>({type:"UPDATING_SUCCEEDED",logView:e}))),(0,r.catchError)((e=>(0,r.of)({type:"UPDATING_FAILED",error:e})))),persistInlineLogView:(e,n)=>(0,r.from)("logViewReference"in e&&"PERSIST_INLINE_LOG_VIEW"===n.type&&"log-view-inline"===e.logViewReference.type?t.putLogView({type:"log-view-reference",logViewId:e.logViewReference.id},e.logViewReference.attributes):(0,r.throwError)((()=>new Error("Failed to persist inline Log View.")))).pipe((0,r.map)((e=>({type:"PERSISTING_INLINE_LOG_VIEW_SUCCEEDED",logView:e}))),(0,r.catchError)((e=>(0,r.of)({type:"PERSISTING_INLINE_LOG_VIEW_FAILED",error:e})))),resolveLogView:e=>(0,r.from)("logView"in e?t.resolveLogView(e.logView.id,e.logView.attributes):(0,r.throwError)((()=>new Error("Failed to resolve log view: No log view found in context.")))).pipe((0,r.map)((e=>({type:"RESOLUTION_SUCCEEDED",resolvedLogView:e}))),(0,r.catchError)((e=>(0,r.of)({type:"RESOLUTION_FAILED",error:e})))),loadLogViewStatus:e=>(0,r.from)("resolvedLogView"in e?t.getResolvedLogViewStatus(e.resolvedLogView):(0,r.throwError)((()=>new Error("Failed to resolve log view: No log view found in context.")))).pipe((0,r.map)((e=>({type:"CHECKING_STATUS_SUCCEEDED",status:e}))),(0,r.catchError)((e=>(0,r.of)({type:"CHECKING_STATUS_FAILED",error:e}))))}});var V=n(3782),T=n(1215),O=n(9094),I=n(1419),P=n(6524),A=n(9946);const k="logView",N=({urlStateStorage:e,logViewKey:t=k})=>(n,r)=>{if(!("logViewReference"in n))throw new Error("Missing keys from context needed to sync to the URL");e.set(t,j.encode(n.logViewReference),{replace:!0})},F=({logViewKey:e=k,sourceIdKey:t="sourceId",toastsService:n,urlStateStorage:r})=>(i,o)=>i=>{i({type:"INITIALIZED_FROM_URL",logViewReference:D({logViewKey:e,sourceIdKey:t,toastsService:n,urlStateStorage:r})})},D=({logViewKey:e,sourceIdKey:t,toastsService:n,urlStateStorage:r})=>{const i=r.get(e),o=q(i),s=r.get(t),a=$(s);return O.isLeft(o)||O.isLeft(a)?((0,T.withNotifyOnErrors)(n).onGetError((0,P.xH)((0,P.v3)([...O.isLeft(o)?o.left:[],...O.isLeft(a)?a.left:[]]))),null):(0,I.pipe)((0,I.pipe)(a.right,O.fromNullable(null),O.map(z)),O.alt((()=>(0,I.pipe)(o.right,O.fromNullable(null)))),O.fold(I.identity,I.identity))},M=({urlStateStorage:e,logViewKey:t=k})=>(n,i)=>e.change$(t).pipe((0,r.map)((e=>null==e?{type:"LOG_VIEW_URL_KEY_REMOVED"}:{type:"LOG_VIEW_URL_KEY_CHANGED"}))),j=V.union([A.Pc,V.null]),U=V.union([V.string,V.null]),q=e=>j.decode(e),$=e=>U.decode(e),z=e=>({type:"log-view-reference",logViewId:e})},763:(e,t,n)=>{"use strict";n.d(t,{u:()=>LogViewsClient,I:()=>LogViewsService});var r=n(3782),i=n(190),o=n(733),s=n(6875),a=n(9946),c=n(6524);class LogViewsClient{constructor(e,t,n,r,i){this.dataViews=e,this.logSourcesService=t,this.http=n,this.search=r,this.config=i}async getLogView(e){if("log-view-inline"===e.type)return{...e,origin:"inline"};const{logViewId:t}=e,n=await this.http.get((0,s.getLogViewUrl)(t),{version:"1"}).catch((e=>{throw new a.So(`Failed to fetch log view "${t}": ${e}`)})),{data:r}=(0,c.GB)(o.xZ,(e=>new a.So(`Failed to decode log view "${t}": ${e}"`)))(n);return r}async getResolvedLogView(e){const t=await this.getLogView(e);return await this.resolveLogView(t.id,t.attributes)}async getResolvedLogViewStatus(e){return await(0,i.lastValueFrom)(this.search({params:{ignore_unavailable:!0,allow_no_indices:!0,index:e.indices,size:0,terminate_after:1,track_total_hits:1}})).then((({rawResponse:e})=>{if(e._shards.total<=0)return{index:"missing",reason:"noShardsFound"};const t=u(e.hits.total);return("number"==typeof t?t>0:t.value>0)?{index:"available"}:{index:"empty"}}),(t=>{if(404===t.status)return{index:"missing",reason:"noIndicesFound"};if(null!=t&&(0,a.$u)(t))return{index:"missing",reason:"remoteClusterNotFound"};throw new a.mf(`Failed to check status of log indices of "${e.indices}": ${t}`)}))}async putLogView(e,t){if("log-view-inline"===e.type){const{id:n}=e,i=(0,c.GB)(r.partial(a.$k.type.props),(e=>new a.$z(`Failed to decode inline log view "${n}": ${e}"`)))(t);return{id:n,attributes:{...e.attributes,...i},origin:"inline"}}{const{logViewId:n}=e,r=await this.http.put((0,s.getLogViewUrl)(n),{body:JSON.stringify(o.sy.encode({attributes:t})),version:"1"}).catch((e=>{throw new a.$z(`Failed to write log view "${n}": ${e}`)})),{data:i}=(0,c.GB)(o.xZ,(e=>new a.$z(`Failed to decode written log view "${n}": ${e}"`)))(r);return i}}async resolveLogView(e,t){return await(0,a.Oh)(e,t,this.dataViews,this.logSourcesService,this.config)}}const u=(0,c.GB)(r.union([r.number,r.type({value:r.number})]));var l=n(8915);class LogViewsService{constructor(){(0,l.default)(this,"logViewsStaticConfig",a.I)}setup(){return{setLogViewsStaticConfig:e=>{this.logViewsStaticConfig=e}}}start({dataViews:e,http:t,search:n,logSourcesService:r}){return{client:new LogViewsClient(e,r,t,n.search,this.logViewsStaticConfig)}}}},3173:(e,t,n)=>{"use strict";n.d(t,{jq:()=>i,sB:()=>s,qW:()=>l,wp:()=>d,Nj:()=>f});var r=n(190);const i=({abortController:e,options:t,request:n,response$:i})=>i.pipe((0,r.map)((r=>({abortController:e,options:t,request:n,response:r}))));var o=n(1215);const s=(e,t)=>n=>n.pipe((0,r.map)((e=>{var n,r;const{data:i,errors:o=[]}=t(e.rawResponse);return{data:i,errors:o,isPartial:null!==(n=e.isPartial)&&void 0!==n&&n,isRunning:null!==(r=e.isRunning)&&void 0!==r&&r,loaded:e.loaded,total:e.total}})),(0,r.startWith)({data:e,errors:[],isPartial:!0,isRunning:!0,loaded:0,total:void 0}),(0,r.catchError)((t=>{var n;return(0,r.of)({data:e,errors:[t instanceof o.AbortError?{type:"aborted"}:{type:"generic",message:`${null!==(n=t.message)&&void 0!==n?n:t}`}],isPartial:!0,isRunning:!1,loaded:0,total:void 0})})));var a=n(4286),c=n(2503),u=n(8295);const l=({getRequest:e,parseResponses:t})=>{const{services:n}=(0,c.fJ)(),i=(0,u.J2)((()=>new r.ReplaySubject(1)),[]),o=(0,a.useCallback)(((...o)=>{const s=e(...o);if(null==s)return;const a=new AbortController;let c=!0;const l={...s,abortController:a,response$:n.data.search.search(s.request,{abortSignal:a.signal,...s.options}).pipe((0,r.tap)({error:()=>{c=!1},complete:()=>{c=!1}}),(0,u.fO)((()=>{c&&a.abort()})),t,(0,r.share)())};return i.next(l),l}),[e,n.data.search,t,i]);return{requests$:i,search:o}},d=e=>{var t,n;const{latestValue:r}=(0,u.Cn)(e,void 0);return{cancelRequest:(0,a.useCallback)((()=>{null==r||r.abortController.abort()}),[r]),isRequestRunning:null!==(t=null==r?void 0:r.response.isRunning)&&void 0!==t&&t,isResponsePartial:null!==(n=null==r?void 0:r.response.isPartial)&&void 0!==n&&n,latestResponseData:null==r?void 0:r.response.data,latestResponseErrors:null==r?void 0:r.response.errors,loaded:null==r?void 0:r.response.loaded,total:null==r?void 0:r.response.total}},f=e=>{const t=(0,u.wP)(e,h),{cancelRequest:n,isRequestRunning:r,isResponsePartial:i,latestResponseData:o,latestResponseErrors:s,loaded:a,total:c}=d(t);return{cancelRequest:n,isRequestRunning:r,isResponsePartial:i,latestResponseData:o,latestResponseErrors:s,loaded:a,total:c}},h=(0,r.switchMap)(i)},6621:(e,t,n)=>{"use strict";function r(e){return"timestampColumn"in e}function i(e){return"messageColumn"in e}function o(e){return"fieldColumn"in e}function s(e){return"number"==typeof e?`${e}px`:e}n.d(t,{HA:()=>s,O4:()=>i,hi:()=>r,nP:()=>o})},8446:(e,t,n)=>{"use strict";n.d(t,{bu:()=>u,Fc:()=>c,Js:()=>s,mz:()=>h,JY:()=>f,Yb:()=>p,dH:()=>v,ES:()=>y,UP:()=>g,Oh:()=>d,hw:()=>l});var r=n(6350),i=n(5167);const o=e=>e.cursor,s=e=>({...e.cursor,gid:e.id}),a=(0,r.bisector)((0,i.p7)(o)),c=a.left,u=(a.right,(0,i.ek)(o)),l=e=>null!=e&&"time"in e,d=e=>null!=e&&"message"in e,f=e=>null!=e&&"field"in e,h=e=>"constant"in e,p=e=>"field"in e&&"value"in e,g=e=>null!=e&&"message"in e,v=e=>null!=e&&"field"in e,y=e=>e&&"field"in e&&"highlights"in e},8295:(e,t,n)=>{"use strict";n.d(t,{Cn:()=>u,J2:()=>s,Rs:()=>l,fO:()=>f,p2:()=>c,wP:()=>d});var r=n(4286),i=n(190);const o=e=>{const t=(0,r.useRef)(e);return t.current=e,t},s=(e,t)=>{const[n,i]=a(e,(()=>t));return(0,r.useEffect)((()=>{i(t)}),t),n},a=(e,t)=>{const[[n,o],s]=(0,r.useState)((()=>{const e=new i.BehaviorSubject(t()),n=e.next.bind(e);return[e,n]})),[a]=(0,r.useState)((()=>e(n)));return[a,o]},c=e=>{const[[t,n],o]=(0,r.useState)((()=>{const e=new i.ReplaySubject,t=e.next.bind(e);return[e,t]})),[s]=(0,r.useState)((()=>e(t)));return[s,n]},u=(e,t)=>{const[n,i]=(0,r.useState)(t),[o,s]=(0,r.useState)();return l(e,{next:i,error:s}),{latestValue:n,latestError:o}},l=(e,{next:t,error:n,complete:i,unsubscribe:s})=>{const a=(0,r.useRef)(),c=o(t),u=o(n),l=o(i),d=o(s);return(0,r.useEffect)((()=>{const t=d.current,n=e.subscribe({next:e=>{var t;return null===(t=c.current)||void 0===t?void 0:t.call(c,e)},error:e=>{var t;return null===(t=u.current)||void 0===t?void 0:t.call(u,e)},complete:()=>{var e;return null===(e=l.current)||void 0===e?void 0:e.call(l)}});return a.current=n,()=>{n.unsubscribe(),null==t||t()}}),[e,c,u,l,d]),a.current},d=(e,t)=>{const n=o(t);return s((e=>e.pipe((0,i.switchMap)((([e])=>n.current(e))))),[e])},f=e=>t=>new i.Observable((n=>{const r=t.subscribe({next:e=>n.next(e),error:e=>n.error(e),complete:()=>n.complete()});return()=>{e(),r.unsubscribe()}}))},3160:(e,t,n)=>{"use strict";n.d(t,{A:()=>o});var r=n(4286);n(3721);var i={};const o=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),o=1;o<t;o++)n[o-1]=arguments[o];var s=[],a=[],c=function(e){var t=(0,r.createContext)(i);s.push(t),a.push(function(e){return function(){return(0,r.useContext)(e)}}(t))};n.length?n.forEach((function(e){return c(e.name)})):c(e.name);return[function(t){for(var i=t.children,o=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(t,["children"]),a=e(o),c=i,u=0;u<s.length;u+=1){var l=s[u],d=n[u]||function(e){return e};c=(0,r.createElement)(l.Provider,{value:d(a)},c)}return c}].concat(a)}},4578:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.tailRec=void 0,t.tailRec=function(e,t){for(var n=t(e);"Left"===n._tag;)n=t(n.left);return n.right}},9094:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.apS=t.apSW=t.bind=t.bindW=t.bindTo=t.exists=t.elem=t.toError=t.either=t.getValidationMonoid=t.MonadThrow=t.ChainRec=t.Extend=t.Alt=t.Bifunctor=t.Traversable=t.Foldable=t.Monad=t.Applicative=t.Functor=t.getValidationSemigroup=t.getValidation=t.getAltValidation=t.getApplicativeValidation=t.getWitherable=t.getFilterable=t.getApplyMonoid=t.getApplySemigroup=t.getSemigroup=t.getEq=t.getShow=t.URI=t.throwError=t.sequence=t.traverse=t.reduceRight=t.foldMap=t.reduce=t.duplicate=t.extend=t.alt=t.flatten=t.chainFirst=t.chainFirstW=t.chain=t.chainW=t.of=t.apSecond=t.apFirst=t.ap=t.apW=t.mapLeft=t.bimap=t.map=t.filterOrElse=t.orElse=t.swap=t.getOrElse=t.getOrElseW=t.fold=t.fromPredicate=t.fromOption=t.stringifyJSON=t.parseJSON=t.tryCatch=t.fromNullable=t.right=t.left=t.isRight=t.isLeft=void 0;var r=n(4578),i=n(1419);function o(e,n){try{return t.right(e())}catch(e){return t.left(n(e))}}t.isLeft=function(e){return"Left"===e._tag},t.isRight=function(e){return"Right"===e._tag},t.left=function(e){return{_tag:"Left",left:e}},t.right=function(e){return{_tag:"Right",right:e}},t.fromNullable=function(e){return function(n){return null==n?t.left(e):t.right(n)}},t.tryCatch=o,t.parseJSON=function(e,t){return o((function(){return JSON.parse(e)}),t)},t.stringifyJSON=function(e,t){return o((function(){return JSON.stringify(e)}),t)},t.fromOption=function(e){return function(n){return"None"===n._tag?t.left(e()):t.right(n.value)}},t.fromPredicate=function(e,n){return function(r){return e(r)?t.right(r):t.left(n(r))}},t.fold=function(e,n){return function(r){return t.isLeft(r)?e(r.left):n(r.right)}},t.getOrElseW=function(e){return function(n){return t.isLeft(n)?e(n.left):n.right}},t.getOrElse=t.getOrElseW,t.swap=function(e){return t.isLeft(e)?t.right(e.left):t.left(e.right)},t.orElse=function(e){return function(n){return t.isLeft(n)?e(n.left):n}},t.filterOrElse=function(e,n){return t.chain((function(r){return e(r)?t.right(r):t.left(n(r))}))};var s=function(e,n){return i.pipe(e,t.map(n))},a=function(e,n){return i.pipe(e,t.ap(n))},c=function(e,n){return i.pipe(e,t.chain(n))},u=function(e,n,r){return i.pipe(e,t.reduce(n,r))},l=function(e){return function(n,r){var o=t.foldMap(e);return i.pipe(n,o(r))}},d=function(e,n,r){return i.pipe(e,t.reduceRight(n,r))},f=function(e){var n=t.traverse(e);return function(e,t){return i.pipe(e,n(t))}},h=function(e,n,r){return i.pipe(e,t.bimap(n,r))},p=function(e,n){return i.pipe(e,t.mapLeft(n))},g=function(e,n){return i.pipe(e,t.alt(n))},v=function(e,n){return i.pipe(e,t.extend(n))},y=function(e,n){return r.tailRec(n(e),(function(e){return t.isLeft(e)?t.right(t.left(e.left)):t.isLeft(e.right)?t.left(n(e.right.left)):t.right(t.right(e.right.right))}))};function m(e){return{concat:function(n,r){return t.isLeft(n)?n:t.isLeft(r)?r:t.right(e.concat(n.right,r.right))}}}function w(e){var n=t.left(e.empty);return{URI:t.URI,_E:void 0,map:s,compact:function(e){return t.isLeft(e)?e:"None"===e.right._tag?n:t.right(e.right.value)},separate:function(e){return t.isLeft(e)?{left:e,right:e}:t.isLeft(e.right)?{left:t.right(e.right.left),right:n}:{left:n,right:t.right(e.right.right)}},filter:function(e,r){return t.isLeft(e)||r(e.right)?e:n},filterMap:function(e,r){if(t.isLeft(e))return e;var i=r(e.right);return"None"===i._tag?n:t.right(i.value)},partition:function(e,r){return t.isLeft(e)?{left:e,right:e}:r(e.right)?{left:n,right:t.right(e.right)}:{left:t.right(e.right),right:n}},partitionMap:function(e,r){if(t.isLeft(e))return{left:e,right:e};var i=r(e.right);return t.isLeft(i)?{left:t.right(i.left),right:n}:{left:n,right:t.right(i.right)}}}}function b(e){return{URI:t.URI,_E:void 0,map:s,ap:function(n,r){return t.isLeft(n)?t.isLeft(r)?t.left(e.concat(n.left,r.left)):n:t.isLeft(r)?r:t.right(n.right(r.right))},of:t.of}}function S(e){return{URI:t.URI,_E:void 0,map:s,alt:function(n,r){if(t.isRight(n))return n;var i=r();return t.isLeft(i)?t.left(e.concat(n.left,i.left)):i}}}function E(e,n){return{concat:function(r,i){return t.isLeft(r)?t.isLeft(i)?t.left(e.concat(r.left,i.left)):r:t.isLeft(i)?i:t.right(n.concat(r.right,i.right))}}}t.map=function(e){return function(n){return t.isLeft(n)?n:t.right(e(n.right))}},t.bimap=function(e,n){return function(r){return t.isLeft(r)?t.left(e(r.left)):t.right(n(r.right))}},t.mapLeft=function(e){return function(n){return t.isLeft(n)?t.left(e(n.left)):n}},t.apW=function(e){return function(n){return t.isLeft(n)?n:t.isLeft(e)?e:t.right(n.right(e.right))}},t.ap=t.apW,t.apFirst=function(e){return i.flow(t.map((function(e){return function(){return e}})),t.ap(e))},t.apSecond=function(e){return i.flow(t.map((function(){return function(e){return e}})),t.ap(e))},t.of=t.right,t.chainW=function(e){return function(n){return t.isLeft(n)?n:e(n.right)}},t.chain=t.chainW,t.chainFirstW=function(e){return function(n){return i.pipe(n,t.chainW((function(n){return i.pipe(e(n),t.map((function(){return n})))})))}},t.chainFirst=t.chainFirstW,t.flatten=t.chain(i.identity),t.alt=function(e){return function(n){return t.isLeft(n)?e():n}},t.extend=function(e){return function(n){return t.isLeft(n)?n:t.right(e(n))}},t.duplicate=t.extend(i.identity),t.reduce=function(e,n){return function(r){return t.isLeft(r)?e:n(e,r.right)}},t.foldMap=function(e){return function(n){return function(r){return t.isLeft(r)?e.empty:n(r.right)}}},t.reduceRight=function(e,n){return function(r){return t.isLeft(r)?e:n(r.right,e)}},t.traverse=function(e){return function(n){return function(r){return t.isLeft(r)?e.of(t.left(r.left)):e.map(n(r.right),t.right)}}},t.sequence=function(e){return function(n){return t.isLeft(n)?e.of(t.left(n.left)):e.map(n.right,t.right)}},t.throwError=t.left,t.URI="Either",t.getShow=function(e,n){return{show:function(r){return t.isLeft(r)?"left("+e.show(r.left)+")":"right("+n.show(r.right)+")"}}},t.getEq=function(e,n){return{equals:function(r,i){return r===i||(t.isLeft(r)?t.isLeft(i)&&e.equals(r.left,i.left):t.isRight(i)&&n.equals(r.right,i.right))}}},t.getSemigroup=function(e){return{concat:function(n,r){return t.isLeft(r)?n:t.isLeft(n)?r:t.right(e.concat(n.right,r.right))}}},t.getApplySemigroup=m,t.getApplyMonoid=function(e){return{concat:m(e).concat,empty:t.right(e.empty)}},t.getFilterable=w,t.getWitherable=function(e){var n=w(e);return{URI:t.URI,_E:void 0,map:s,compact:n.compact,separate:n.separate,filter:n.filter,filterMap:n.filterMap,partition:n.partition,partitionMap:n.partitionMap,traverse:f,sequence:t.sequence,reduce:u,foldMap:l,reduceRight:d,wither:function(e){var t=f(e);return function(r,i){return e.map(t(r,i),n.compact)}},wilt:function(e){var t=f(e);return function(r,i){return e.map(t(r,i),n.separate)}}}},t.getApplicativeValidation=b,t.getAltValidation=S,t.getValidation=function(e){var n=b(e),r=S(e);return{URI:t.URI,_E:void 0,map:s,of:t.of,chain:c,bimap:h,mapLeft:p,reduce:u,foldMap:l,reduceRight:d,extend:v,traverse:f,sequence:t.sequence,chainRec:y,throwError:t.throwError,ap:n.ap,alt:r.alt}},t.getValidationSemigroup=E,t.Functor={URI:t.URI,map:s},t.Applicative={URI:t.URI,map:s,ap:a,of:t.of},t.Monad={URI:t.URI,map:s,ap:a,of:t.of,chain:c},t.Foldable={URI:t.URI,reduce:u,foldMap:l,reduceRight:d},t.Traversable={URI:t.URI,map:s,reduce:u,foldMap:l,reduceRight:d,traverse:f,sequence:t.sequence},t.Bifunctor={URI:t.URI,bimap:h,mapLeft:p},t.Alt={URI:t.URI,map:s,alt:g},t.Extend={URI:t.URI,map:s,extend:v},t.ChainRec={URI:t.URI,map:s,ap:a,chain:c,chainRec:y},t.MonadThrow={URI:t.URI,map:s,ap:a,of:t.of,chain:c,throwError:t.throwError},t.getValidationMonoid=function(e,n){return{concat:E(e,n).concat,empty:t.right(n.empty)}},t.either={URI:t.URI,map:s,of:t.of,ap:a,chain:c,reduce:u,foldMap:l,reduceRight:d,traverse:f,sequence:t.sequence,bimap:h,mapLeft:p,alt:g,extend:v,chainRec:y,throwError:t.throwError},t.toError=function(e){return e instanceof Error?e:new Error(String(e))},t.elem=function(e){return function(n,r){return!t.isLeft(r)&&e.equals(n,r.right)}},t.exists=function(e){return function(n){return!t.isLeft(n)&&e(n.right)}},t.bindTo=function(e){return t.map(i.bindTo_(e))},t.bindW=function(e,n){return t.chainW((function(r){return i.pipe(n(r),t.map((function(t){return i.bind_(r,e,t)})))}))},t.bind=t.bindW,t.apSW=function(e,n){return i.flow(t.map((function(t){return function(n){return i.bind_(t,e,n)}})),t.apW(n))},t.apS=t.apSW},1419:(e,t)=>{"use strict";function n(e){return e}function r(e){throw new Error("Called `absurd` function which should be uncallable")}Object.defineProperty(t,"__esModule",{value:!0}),t.bindTo_=t.bind_=t.hole=t.pipe=t.untupled=t.tupled=t.absurd=t.decrement=t.increment=t.tuple=t.flow=t.flip=t.constVoid=t.constUndefined=t.constNull=t.constFalse=t.constTrue=t.constant=t.not=t.unsafeCoerce=t.identity=void 0,t.identity=n,t.unsafeCoerce=n,t.not=function(e){return function(t){return!e(t)}},t.constant=function(e){return function(){return e}},t.constTrue=function(){return!0},t.constFalse=function(){return!1},t.constNull=function(){return null},t.constUndefined=function(){},t.constVoid=function(){},t.flip=function(e){return function(t,n){return e(n,t)}},t.flow=function(e,t,n,r,i,o,s,a,c){switch(arguments.length){case 1:return e;case 2:return function(){return t(e.apply(this,arguments))};case 3:return function(){return n(t(e.apply(this,arguments)))};case 4:return function(){return r(n(t(e.apply(this,arguments))))};case 5:return function(){return i(r(n(t(e.apply(this,arguments)))))};case 6:return function(){return o(i(r(n(t(e.apply(this,arguments))))))};case 7:return function(){return s(o(i(r(n(t(e.apply(this,arguments)))))))};case 8:return function(){return a(s(o(i(r(n(t(e.apply(this,arguments))))))))};case 9:return function(){return c(a(s(o(i(r(n(t(e.apply(this,arguments)))))))))}}},t.tuple=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return e},t.increment=function(e){return e+1},t.decrement=function(e){return e-1},t.absurd=r,t.tupled=function(e){return function(t){return e.apply(void 0,t)}},t.untupled=function(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return e(t)}},t.pipe=function(e,t,n,r,i,o,s,a,c,u,l,d,f,h,p,g,v,y,m,w){switch(arguments.length){case 1:return e;case 2:return t(e);case 3:return n(t(e));case 4:return r(n(t(e)));case 5:return i(r(n(t(e))));case 6:return o(i(r(n(t(e)))));case 7:return s(o(i(r(n(t(e))))));case 8:return a(s(o(i(r(n(t(e)))))));case 9:return c(a(s(o(i(r(n(t(e))))))));case 10:return u(c(a(s(o(i(r(n(t(e)))))))));case 11:return l(u(c(a(s(o(i(r(n(t(e))))))))));case 12:return d(l(u(c(a(s(o(i(r(n(t(e)))))))))));case 13:return f(d(l(u(c(a(s(o(i(r(n(t(e))))))))))));case 14:return h(f(d(l(u(c(a(s(o(i(r(n(t(e)))))))))))));case 15:return p(h(f(d(l(u(c(a(s(o(i(r(n(t(e))))))))))))));case 16:return g(p(h(f(d(l(u(c(a(s(o(i(r(n(t(e)))))))))))))));case 17:return v(g(p(h(f(d(l(u(c(a(s(o(i(r(n(t(e))))))))))))))));case 18:return y(v(g(p(h(f(d(l(u(c(a(s(o(i(r(n(t(e)))))))))))))))));case 19:return m(y(v(g(p(h(f(d(l(u(c(a(s(o(i(r(n(t(e))))))))))))))))));case 20:return w(m(y(v(g(p(h(f(d(l(u(c(a(s(o(i(r(n(t(e)))))))))))))))))))}},t.hole=r,t.bind_=function(e,t,n){var r;return Object.assign({},e,((r={})[t]=n,r))},t.bindTo_=function(e){return function(t){var n;return(n={})[e]=t,n}}},3919:(e,t,n)=>{"use strict";t.Fs=void 0;var r=n(1419);t.Fs=r.pipe},1357:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(4286);t.default=function(e){r.useEffect(e,[])}},6943:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(4286),i="undefined"!=typeof window?r.useLayoutEffect:r.useEffect;t.default=i},9812:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(4286);t.default=function(){var e=r.useRef(!1),t=r.useCallback((function(){return e.current}),[]);return r.useEffect((function(){return e.current=!0,function(){e.current=!1}})),t}},7880:(e,t,n)=>{"use strict";var r=n(1941),i=n(4286),o=r.__importDefault(n(6943));t.A=function(e,t){var n=i.useState(t),r=n[0],s=n[1];return o.default((function(){var t=e.subscribe(s);return function(){return t.unsubscribe()}}),[e]),r}},3812:(e,t,n)=>{"use strict";var r=n(4286);t.A=function(e){var t=r.useRef();return r.useEffect((function(){t.current=e})),t.current}},12:(e,t,n)=>{"use strict";var r=n(4286);t.A=function(e){void 0===e&&(e={});var t=r.useState(e),n=t[0],i=t[1];return[n,r.useCallback((function(e){i((function(t){return Object.assign({},t,e instanceof Function?e(t):e)}))}),[i])]}},49:(e,t,n)=>{"use strict";var r=n(1941),i=n(4286),o=r.__importDefault(n(7729));t.A=function(e,t){void 0===t&&(t=200);var n=i.useState(e),r=n[0],s=n[1],a=i.useRef(),c=i.useRef(null),u=i.useRef(0);return i.useEffect((function(){if(a.current)c.current=e,u.current=!0;else{s(e);var n=function(){u.current?(u.current=!1,s(c.current),a.current=setTimeout(n,t)):a.current=void 0};a.current=setTimeout(n,t)}}),[e]),o.default((function(){a.current&&clearTimeout(a.current)})),r}},7729:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1941),i=n(4286),o=r.__importDefault(n(1357));t.default=function(e){var t=i.useRef(e);t.current=e,o.default((function(){return function(){return t.current()}}))}},7787:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});const r=n(4286).useLayoutEffect},7173:(e,t,n)=>{n.p=window.__kbnPublicPath__.logsShared},7320:(e,t,n)=>{"use strict";n.d(t,{Py:()=>c,gY:()=>u,pz:()=>a,sk:()=>l});var r=n(4123),i=n(932),o=n(8772);function s(e){var t;return(t={id:e,send:function(){},subscribe:function(){return{unsubscribe:function(){}}},getSnapshot:function(){},toJSON:function(){return{id:e}}})[i.s7]=function(){return this},t}function a(e,t,n,r){var o,a=(0,i.Xd)(e.src),u=null===(o=null==t?void 0:t.options.services)||void 0===o?void 0:o[a.type],l=e.data?(0,i.A9)(e.data,n,r):void 0,d=u?c(u,e.id,l):s(e.id);return d.meta=e,d}function c(e,t,n){var r=s(t);if(r.deferred=!0,(0,i.Ai)(e)){var a=r.state=(0,o.G)(void 0,(function(){return(n?e.withContext(n):e).initialState}));r.getSnapshot=function(){return a}}return r}function u(e){return function(e){try{return"function"==typeof e.send}catch(e){return!1}}(e)&&"id"in e}function l(e){var t;return(0,r.Cl)(((t={subscribe:function(){return{unsubscribe:function(){}}},id:"anonymous",getSnapshot:function(){}})[i.s7]=function(){return this},t),e)}},1772:(e,t,n)=>{"use strict";n.d(t,{OS:()=>l,Sv:()=>d,Uw:()=>f,iE:()=>u});var r=n(4123),i=n(4096),o=n(932),s=n(1943),a=n(1114),c=n(7044);function u(e,t){if(e===t)return!0;if(void 0===e||void 0===t)return!1;if((0,o.Kg)(e)||(0,o.Kg)(t))return e===t;var n=Object.keys(e),r=Object.keys(t);return n.length===r.length&&n.every((function(n){return u(e[n],t[n])}))}function l(e){return"object"==typeof e&&null!==e&&"value"in e&&"_event"in e}function d(e,t){var n=e.exec;return(0,r.Cl)((0,r.Cl)({},e),{exec:void 0!==n?function(){return n(t.context,t.event,{action:e,state:t,_event:t._event})}:void 0})}var f=function(){function e(e){var t,n=this;this.actions=[],this.activities=i.xP,this.meta={},this.events=[],this.value=e.value,this.context=e.context,this._event=e._event,this._sessionid=e._sessionid,this.event=this._event.data,this.historyValue=e.historyValue,this.history=e.history,this.actions=e.actions||[],this.activities=e.activities||i.xP,this.meta=(0,s.IQ)(e.configuration),this.events=e.events||[],this.matches=this.matches.bind(this),this.toStrings=this.toStrings.bind(this),this.configuration=e.configuration,this.transitions=e.transitions,this.children=e.children,this.done=!!e.done,this.tags=null!==(t=Array.isArray(e.tags)?new Set(e.tags):e.tags)&&void 0!==t?t:new Set,this.machine=e.machine,Object.defineProperty(this,"nextEvents",{get:function(){return(0,s.Xh)(n.configuration)}})}return e.from=function(t,n){return t instanceof e?t.context!==n?new e({value:t.value,context:n,_event:t._event,_sessionid:null,historyValue:t.historyValue,history:t.history,actions:[],activities:t.activities,meta:{},events:[],configuration:[],transitions:[],children:{}}):t:new e({value:t,context:n,_event:a.zp,_sessionid:null,historyValue:void 0,history:void 0,actions:[],activities:void 0,meta:void 0,events:[],configuration:[],transitions:[],children:{}})},e.create=function(t){return new e(t)},e.inert=function(t,n){if(t instanceof e){if(!t.actions.length)return t;var r=a.zp;return new e({value:t.value,context:n,_event:r,_sessionid:null,historyValue:t.historyValue,history:t.history,activities:t.activities,configuration:t.configuration,transitions:[],children:{}})}return e.from(t,n)},e.prototype.toStrings=function(e,t){var n=this;if(void 0===e&&(e=this.value),void 0===t&&(t="."),(0,o.Kg)(e))return[e];var i=Object.keys(e);return i.concat.apply(i,(0,r.fX)([],(0,r.zs)(i.map((function(r){return n.toStrings(e[r],t).map((function(e){return r+t+e}))}))),!1))},e.prototype.toJSON=function(){var e=this;e.configuration,e.transitions;var t=e.tags;e.machine;var n=(0,r.Tt)(e,["configuration","transitions","tags","machine"]);return(0,r.Cl)((0,r.Cl)({},n),{tags:Array.from(t)})},e.prototype.matches=function(e){return(0,o.HK)(e,this.value)},e.prototype.hasTag=function(e){return this.tags.has(e)},e.prototype.can=function(e){var t;c.p&&(0,o.R8)(!!this.machine,"state.can(...) used outside of a machine-created State object; this will always return false.");var n=null===(t=this.machine)||void 0===t?void 0:t.getTransitionData(this,e);return!!(null==n?void 0:n.transitions.length)&&n.transitions.some((function(e){return void 0!==e.target||e.actions.length}))},e}()},4123:(e,t,n)=>{"use strict";n.d(t,{Cl:()=>r,Ju:()=>o,Tt:()=>i,fX:()=>a,zs:()=>s});
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */
var r=function(){return r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},r.apply(this,arguments)};function i(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}function o(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function s(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s}function a(e,t,n){if(n||2===arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))}},4178:(e,t,n)=>{"use strict";n.d(t,{LM:()=>m,O$:()=>p,Rm:()=>d,Sw:()=>y,Ts:()=>f,ZT:()=>c,ds:()=>o,kp:()=>l,kx:()=>u,lA:()=>h,ni:()=>i,tN:()=>a,xl:()=>s,yo:()=>v,z3:()=>g});var r=n(6792),i=r.Q.Start,o=r.Q.Stop,s=r.Q.Raise,a=r.Q.Send,c=r.Q.Cancel,u=r.Q.NullEvent,l=r.Q.Assign,d=(r.Q.After,r.Q.DoneState,r.Q.Log),f=r.Q.Init,h=r.Q.Invoke,p=(r.Q.ErrorExecution,r.Q.ErrorPlatform),g=r.Q.ErrorCustom,v=r.Q.Update,y=r.Q.Choose,m=r.Q.Pure},1114:(e,t,n)=>{"use strict";n.d(t,{AS:()=>R,H7:()=>u,Hf:()=>l,LM:()=>x,Pl:()=>b,Um:()=>d,Vw:()=>S,ZT:()=>v,_4:()=>f,ds:()=>m,kp:()=>w,ni:()=>y,tN:()=>p,tS:()=>E,xl:()=>h,z3:()=>_,zp:()=>c});var r=n(4123),i=n(6792),o=n(4178),s=n(932),a=n(7044),c=(0,s.ft)({type:o.Ts});function u(e,t){return t&&t[e]||void 0}function l(e,t){var n;if((0,s.Kg)(e)||"number"==typeof e){var i=u(e,t);n=(0,s.Tn)(i)?{type:e,exec:i}:i||{type:e,exec:void 0}}else if((0,s.Tn)(e))n={type:e.name||e.toString(),exec:e};else if(i=u(e.type,t),(0,s.Tn)(i))n=(0,r.Cl)((0,r.Cl)({},e),{exec:i});else if(i){var o=i.type||e.type;n=(0,r.Cl)((0,r.Cl)((0,r.Cl)({},i),e),{type:o})}else n=e;return n}var d=function(e,t){return e?((0,s.cy)(e)?e:[e]).map((function(e){return l(e,t)})):[]};function f(e){var t=l(e);return(0,r.Cl)((0,r.Cl)({id:(0,s.Kg)(e)?e:t.id},t),{type:t.type})}function h(e,t){return{type:o.xl,event:"function"==typeof e?e:(0,s.jK)(e),delay:t?t.delay:void 0,id:null==t?void 0:t.id}}function p(e,t){return{to:t?t.to:void 0,type:o.tN,event:(0,s.Tn)(e)?e:(0,s.jK)(e),delay:t?t.delay:void 0,id:t&&void 0!==t.id?t.id:(0,s.Tn)(e)?e.name:(0,s.vd)(e)}}var g=function(e,t,n){return(0,r.Cl)((0,r.Cl)({},e),{value:(0,s.Kg)(e.expr)?e.expr:e.expr(t,n.data,{_event:n})})},v=function(e){return{type:o.ZT,sendId:e}};function y(e){var t=f(e);return{type:i.Q.Start,activity:t,exec:void 0}}function m(e){var t=(0,s.Tn)(e)?e:f(e);return{type:i.Q.Stop,activity:t,exec:void 0}}var w=function(e){return{type:o.kp,assignment:e}};function b(e,t){var n=t?"#".concat(t):"";return"".concat(i.Q.After,"(").concat(e,")").concat(n)}function S(e,t){var n="".concat(i.Q.DoneState,".").concat(e);return{type:n,data:t,toString:function(){return n}}}function E(e,t){var n="".concat(i.Q.DoneInvoke,".").concat(e);return{type:n,data:t,toString:function(){return n}}}function _(e,t){var n="".concat(i.Q.ErrorPlatform,".").concat(e);return{type:n,data:t,toString:function(){return n}}}function x(e){return{type:i.Q.Pure,get:e}}var L=function(e){var t,n,i=[];try{for(var s=(0,r.Ju)(e),a=s.next();!a.done;a=s.next())for(var c=a.value,u=0;u<c.actions.length;)c.actions[u].type!==o.kp?u++:(i.push(c.actions[u]),c.actions.splice(u,1))}catch(e){t={error:e}}finally{try{a&&!a.done&&(n=s.return)&&n.call(s)}finally{if(t)throw t.error}}return i};function R(e,t,n,c,u,f,h){void 0===h&&(h=!1);var p=h?[]:L(u),v=p.length?(0,s.r_)(n,c,p,t):n,y=h?[n]:void 0,m=[];function w(u,p){var w;switch(p.type){case o.xl:var b=function(e,t,n,i){var a,c={_event:n},u=(0,s.ft)((0,s.Tn)(e.event)?e.event(t,n.data,c):e.event);if((0,s.Kg)(e.delay)){var l=i&&i[e.delay];a=(0,s.Tn)(l)?l(t,n.data,c):l}else a=(0,s.Tn)(e.delay)?e.delay(t,n.data,c):e.delay;return(0,r.Cl)((0,r.Cl)({},e),{type:o.xl,_event:u,delay:a})}(p,v,c,e.options.delays);return f&&"number"==typeof b.delay&&f(b,v,c),b;case o.tN:var S=function(e,t,n,i){var o,a={_event:n},c=(0,s.ft)((0,s.Tn)(e.event)?e.event(t,n.data,a):e.event);if((0,s.Kg)(e.delay)){var u=i&&i[e.delay];o=(0,s.Tn)(u)?u(t,n.data,a):u}else o=(0,s.Tn)(e.delay)?e.delay(t,n.data,a):e.delay;var l=(0,s.Tn)(e.to)?e.to(t,n.data,a):e.to;return(0,r.Cl)((0,r.Cl)({},e),{to:l,_event:c,event:c.data,delay:o})}(p,v,c,e.options.delays);if(!a.p){var E=p.delay;(0,s.R8)(!(0,s.Kg)(E)||"number"==typeof S.delay,"No delay reference for delay expression '".concat(E,"' was found on machine '").concat(e.id,"'"))}return f&&S.to!==i.i.Internal&&("entry"===u?m.push(S):f(S,v,c)),S;case o.Rm:var _=g(p,v,c);return null==f||f(_,v,c),_;case o.Sw:if(!(V=null===(w=p.conds.find((function(n){var r=(0,s.Z8)(n.cond,e.options.guards);return!r||(0,s.re)(e,r,v,c,f?void 0:t)})))||void 0===w?void 0:w.actions))return[];var x=(0,r.zs)(R(e,t,v,c,[{type:u,actions:d((0,s.$r)(V),e.options.actions)}],f,h),2),L=x[0],C=x[1];return v=C,null==y||y.push(v),L;case o.LM:var V;if(!(V=p.get(v,c.data)))return[];var T=(0,r.zs)(R(e,t,v,c,[{type:u,actions:d((0,s.$r)(V),e.options.actions)}],f,h),2),O=T[0],I=T[1];return v=I,null==y||y.push(v),O;case o.ds:return _=function(e,t,n){var r=(0,s.Tn)(e.activity)?e.activity(t,n.data):e.activity,o="string"==typeof r?{id:r}:r;return{type:i.Q.Stop,activity:o}}(p,v,c),null==f||f(_,n,c),_;case o.kp:v=(0,s.r_)(v,c,[p],f?void 0:t),null==y||y.push(v);break;default:var P=l(p,e.options.actions),A=P.exec;if(f)f(P,v,c);else if(A&&y){var k=y.length-1,N=(0,r.Cl)((0,r.Cl)({},P),{exec:function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];A.apply(void 0,(0,r.fX)([y[k]],(0,r.zs)(t),!1))}});P=N}return P}}return[(0,s.Bq)(u.map((function(e){var t,n,i=[];try{for(var o=(0,r.Ju)(e.actions),s=o.next();!s.done;s=o.next()){var a=s.value,u=w(e.type,a);u&&(i=i.concat(u))}}catch(e){t={error:e}}finally{try{s&&!s.done&&(n=o.return)&&n.call(o)}finally{if(t)throw t.error}}return m.forEach((function(e){f(e,v,c)})),m.length=0,i}))),v]}},4096:(e,t,n)=>{"use strict";n.d(t,{$D:()=>s,AD:()=>r,hS:()=>o,xP:()=>i});var r=".",i={},o="xstate.guard",s=""},7044:(e,t,n)=>{"use strict";n.d(t,{p:()=>r});var r=!0},8772:(e,t,n)=>{"use strict";n.d(t,{G:()=>i});var r=[],i=function(e,t){r.push(e);var n=t(e);return r.pop(),n}},1943:(e,t,n)=>{"use strict";n.d(t,{BJ:()=>g,D0:()=>u,IQ:()=>v,Ki:()=>c,Xh:()=>p,_W:()=>f,d2:()=>o,i0:()=>a,iU:()=>y,rz:()=>s,zy:()=>h});var r=n(4123),i=n(932),o=function(e){return"atomic"===e.type||"final"===e.type};function s(e){return Object.keys(e.states).map((function(t){return e.states[t]}))}function a(e){return s(e).filter((function(e){return"history"!==e.type}))}function c(e){var t=[e];return o(e)?t:t.concat((0,i.Bq)(a(e).map(c)))}function u(e,t){var n,i,o,s,c,u,l,f,h=d(new Set(e)),p=new Set(t);try{for(var g=(0,r.Ju)(p),v=g.next();!v.done;v=g.next())for(var y=(R=v.value).parent;y&&!p.has(y);)p.add(y),y=y.parent}catch(e){n={error:e}}finally{try{v&&!v.done&&(i=g.return)&&i.call(g)}finally{if(n)throw n.error}}var m=d(p);try{for(var w=(0,r.Ju)(p),b=w.next();!b.done;b=w.next())if("compound"!==(R=b.value).type||m.get(R)&&m.get(R).length){if("parallel"===R.type)try{for(var S=(c=void 0,(0,r.Ju)(a(R))),E=S.next();!E.done;E=S.next()){var _=E.value;p.has(_)||(p.add(_),h.get(_)?h.get(_).forEach((function(e){return p.add(e)})):_.initialStateNodes.forEach((function(e){return p.add(e)})))}}catch(e){c={error:e}}finally{try{E&&!E.done&&(u=S.return)&&u.call(S)}finally{if(c)throw c.error}}}else h.get(R)?h.get(R).forEach((function(e){return p.add(e)})):R.initialStateNodes.forEach((function(e){return p.add(e)}))}catch(e){o={error:e}}finally{try{b&&!b.done&&(s=w.return)&&s.call(w)}finally{if(o)throw o.error}}try{for(var x=(0,r.Ju)(p),L=x.next();!L.done;L=x.next()){var R;for(y=(R=L.value).parent;y&&!p.has(y);)p.add(y),y=y.parent}}catch(e){l={error:e}}finally{try{L&&!L.done&&(f=x.return)&&f.call(x)}finally{if(l)throw l.error}}return p}function l(e,t){var n=t.get(e);if(!n)return{};if("compound"===e.type){var r=n[0];if(!r)return{};if(o(r))return r.key}var i={};return n.forEach((function(e){i[e.key]=l(e,t)})),i}function d(e){var t,n,i=new Map;try{for(var o=(0,r.Ju)(e),s=o.next();!s.done;s=o.next()){var a=s.value;i.has(a)||i.set(a,[]),a.parent&&(i.has(a.parent)||i.set(a.parent,[]),i.get(a.parent).push(a))}}catch(e){t={error:e}}finally{try{s&&!s.done&&(n=o.return)&&n.call(o)}finally{if(t)throw t.error}}return i}function f(e,t){return l(e,d(u([e],t)))}function h(e,t){return Array.isArray(e)?e.some((function(e){return e===t})):e instanceof Set&&e.has(t)}function p(e){return(0,r.fX)([],(0,r.zs)(new Set((0,i.Bq)((0,r.fX)([],(0,r.zs)(e.map((function(e){return e.ownEvents}))),!1)))),!1)}function g(e,t){return"compound"===t.type?a(t).some((function(t){return"final"===t.type&&h(e,t)})):"parallel"===t.type&&a(t).every((function(t){return g(e,t)}))}function v(e){return void 0===e&&(e=[]),e.reduce((function(e,t){return void 0!==t.meta&&(e[t.id]=t.meta),e}),{})}function y(e){return new Set((0,i.Bq)(e.map((function(e){return e.tags}))))}},6792:(e,t,n)=>{"use strict";var r,i;n.d(t,{Q:()=>r,i:()=>i}),function(e){e.Start="xstate.start",e.Stop="xstate.stop",e.Raise="xstate.raise",e.Send="xstate.send",e.Cancel="xstate.cancel",e.NullEvent="",e.Assign="xstate.assign",e.After="xstate.after",e.DoneState="done.state",e.DoneInvoke="done.invoke",e.Log="xstate.log",e.Init="xstate.init",e.Invoke="xstate.invoke",e.ErrorExecution="error.execution",e.ErrorCommunication="error.communication",e.ErrorPlatform="error.platform",e.ErrorCustom="xstate.error",e.Update="xstate.update",e.Pure="xstate.pure",e.Choose="xstate.choose"}(r||(r={})),function(e){e.Parent="#_parent",e.Internal="#_internal"}(i||(i={}))},932:(e,t,n)=>{"use strict";n.d(t,{$X:()=>L,$r:()=>E,A9:()=>_,AT:()=>F,Ae:()=>y,Ai:()=>M,BY:()=>T,Bq:()=>b,En:()=>B,Gx:()=>K,HK:()=>l,Kg:()=>k,LG:()=>g,M7:()=>x,R8:()=>I,R_:()=>z,Tn:()=>A,VQ:()=>m,WV:()=>G,Xd:()=>W,Z8:()=>N,_3:()=>j,_J:()=>f,at:()=>h,bm:()=>w,cv:()=>H,cy:()=>P,ft:()=>q,jB:()=>C,jK:()=>U,lx:()=>R,oc:()=>$,r_:()=>O,re:()=>J,rp:()=>v,s7:()=>D,vd:()=>d,zr:()=>p});var r,i=n(4123),o=n(6792),s=n(4178),a=n(4096),c=n(7044),u=n(3721);function l(e,t,n){void 0===n&&(n=a.AD);var r=h(e,n),i=h(t,n);return k(i)?!!k(r)&&i===r:k(r)?r in i:Object.keys(r).every((function(e){return e in i&&l(r[e],i[e])}))}function d(e){try{return k(e)||"number"==typeof e?"".concat(e):e.type}catch(e){throw new Error("Events must be strings or objects with a string event.type property.")}}function f(e,t){try{return P(e)?e:e.toString().split(t)}catch(t){throw new Error("'".concat(e,"' is not a valid state path."))}}function h(e,t){return"object"==typeof(n=e)&&"value"in n&&"context"in n&&"event"in n&&"_event"in n?e.value:P(e)?p(e):"string"!=typeof e?e:p(f(e,t));var n}function p(e){if(1===e.length)return e[0];for(var t={},n=t,r=0;r<e.length-1;r++)r===e.length-2?n[e[r]]=e[r+1]:(n[e[r]]={},n=n[e[r]]);return t}function g(e,t){for(var n={},r=Object.keys(e),i=0;i<r.length;i++){var o=r[i];n[o]=t(e[o],o,e,i)}return n}function v(e,t,n){var r,o,s={};try{for(var a=(0,i.Ju)(Object.keys(e)),c=a.next();!c.done;c=a.next()){var u=c.value,l=e[u];n(l)&&(s[u]=t(l,u,e))}}catch(e){r={error:e}}finally{try{c&&!c.done&&(o=a.return)&&o.call(a)}finally{if(r)throw r.error}}return s}var y=function(e){return function(t){var n,r,o=t;try{for(var s=(0,i.Ju)(e),a=s.next();!a.done;a=s.next())o=o[a.value]}catch(e){n={error:e}}finally{try{a&&!a.done&&(r=s.return)&&r.call(s)}finally{if(n)throw n.error}}return o}};function m(e,t){return function(n){var r,o,s=n;try{for(var a=(0,i.Ju)(e),c=a.next();!c.done;c=a.next()){var u=c.value;s=s[t][u]}}catch(e){r={error:e}}finally{try{c&&!c.done&&(o=a.return)&&o.call(a)}finally{if(r)throw r.error}}return s}}function w(e){return e?k(e)?[[e]]:b(Object.keys(e).map((function(t){var n=e[t];return"string"==typeof n||n&&Object.keys(n).length?w(e[t]).map((function(e){return[t].concat(e)})):[[t]]}))):[[]]}function b(e){var t;return(t=[]).concat.apply(t,(0,i.fX)([],(0,i.zs)(e),!1))}function S(e){return P(e)?e:[e]}function E(e){return void 0===e?[]:S(e)}function _(e,t,n){var r,o;if(A(e))return e(t,n.data);var s={};try{for(var a=(0,i.Ju)(Object.keys(e)),c=a.next();!c.done;c=a.next()){var u=c.value,l=e[u];A(l)?s[u]=l(t,n.data):s[u]=l}}catch(e){r={error:e}}finally{try{c&&!c.done&&(o=a.return)&&o.call(a)}finally{if(r)throw r.error}}return s}function x(e){return/^(done|error)\./.test(e)}function L(e){return e instanceof Promise||!(null===e||!A(e)&&"object"!=typeof e||!A(e.then))}function R(e){return null!==e&&"object"==typeof e&&"transition"in e&&"function"==typeof e.transition}function C(e,t){var n,r,o=(0,i.zs)([[],[]],2),s=o[0],a=o[1];try{for(var c=(0,i.Ju)(e),u=c.next();!u.done;u=c.next()){var l=u.value;t(l)?s.push(l):a.push(l)}}catch(e){n={error:e}}finally{try{u&&!u.done&&(r=c.return)&&r.call(c)}finally{if(n)throw n.error}}return[s,a]}function V(e,t){return g(e.states,(function(e,n){if(e){var r=(k(t)?void 0:t[n])||(e?e.current:void 0);if(r)return{current:r,states:V(e,r)}}}))}function T(e,t){return{current:t,states:V(e,t)}}function O(e,t,n,r){c.p||I(!!e,"Attempting to update undefined context");var o=e?n.reduce((function(e,n){var o,s,a=n.assignment,c={state:r,action:n,_event:t},u={};if(A(a))u=a(e,t.data,c);else try{for(var l=(0,i.Ju)(Object.keys(a)),d=l.next();!d.done;d=l.next()){var f=d.value,h=a[f];u[f]=A(h)?h(e,t.data,c):h}}catch(e){o={error:e}}finally{try{d&&!d.done&&(s=l.return)&&s.call(l)}finally{if(o)throw o.error}}return Object.assign({},e,u)}),e):e;return o}var I=function(){};function P(e){return Array.isArray(e)}function A(e){return"function"==typeof e}function k(e){return"string"==typeof e}function N(e,t){if(e)return k(e)?{type:a.hS,name:e,predicate:t?t[e]:void 0}:A(e)?{type:a.hS,name:e.name,predicate:e}:e}function F(e){try{return"subscribe"in e&&A(e.subscribe)}catch(e){return!1}}c.p||(I=function(e,t){var n=e instanceof Error?e:void 0;if((n||!e)&&void 0!==u){var r=["Warning: ".concat(t)];n&&r.push(n),u.warn.apply(u,r)}});var D=function(){return"function"==typeof Symbol&&Symbol.observable||"@@observable"}();function M(e){return!!e&&"__xstatenode"in e}function j(e){return!!e&&"function"==typeof e.send}function U(e,t){return k(e)||"number"==typeof e?(0,i.Cl)({type:e},t):e}function q(e,t){if(!k(e)&&"$$type"in e&&"scxml"===e.$$type)return e;var n=U(e);return(0,i.Cl)({name:n.type,data:n,$$type:"scxml",type:"external"},t)}function $(e,t){return S(t).map((function(t){return void 0===t||"string"==typeof t||M(t)?{target:t,event:e}:(0,i.Cl)((0,i.Cl)({},t),{event:e})}))}function z(e){if(void 0!==e&&e!==a.$D)return E(e)}function B(e,t,n){if(!c.p){var r=e.stack?" Stacktrace was '".concat(e.stack,"'"):"";if(e===t)u.error("Missing onError handler for invocation '".concat(n,"', error was '").concat(e,"'.").concat(r));else{var i=t.stack?" Stacktrace was '".concat(t.stack,"'"):"";u.error("Missing onError handler and/or unhandled exception/promise rejection for invocation '".concat(n,"'. ")+"Original error: '".concat(e,"'. ").concat(r," Current error is '").concat(t,"'.").concat(i))}}}function J(e,t,n,r,i){var o=e.options.guards,s={state:i,cond:t,_event:r};if(t.type===a.hS)return((null==o?void 0:o[t.name])||t.predicate)(n,r.data,s);var c=null==o?void 0:o[t.type];if(!c)throw new Error("Guard '".concat(t.type,"' is not implemented on machine '").concat(e.id,"'."));return c(n,r.data,s)}function W(e){return"string"==typeof e?{type:e}:e}function G(e,t,n){var r=function(){},i="object"==typeof e,o=i?e:null;return{next:((i?e.next:e)||r).bind(o),error:((i?e.error:t)||r).bind(o),complete:((i?e.complete:n)||r).bind(o)}}function H(e,t){return"".concat(e,":invocation[").concat(t,"]")}function K(e){return(e.type===s.xl||e.type===s.tN&&e.to===o.i.Internal)&&"number"!=typeof e.delay}(r={})[D]=function(){return this},r[Symbol.observable]=function(){return this}},2782:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */
t.__assign=function(){return t.__assign=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},t.__assign.apply(this,arguments)},t.__read=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s},t.__rest=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},t.__spreadArray=function(e,t,n){if(n||2===arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))},t.__values=function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}},8760:(e,t,n)=>{"use strict";var r=n(2782),i={timeout:1e4};t.f=function(e,t,n){var o=r.__assign(r.__assign({},i),n);return new Promise((function(n,r){var i=!1,s=o.timeout===1/0?void 0:setTimeout((function(){c.unsubscribe(),r(new Error("Timeout of ".concat(o.timeout," ms exceeded")))}),o.timeout),a=function(){clearTimeout(s),i=!0,null==c||c.unsubscribe()},c=e.subscribe({next:function(e){t(e)&&(a(),n(e))},error:function(e){a(),r(e)},complete:function(){a(),r(new Error("Actor terminated without satisfying predicate"))}});i&&c.unsubscribe()}))}},4627:(e,t,n)=>{n.r(t);var r=__kbnBundles__.get("plugin/data/public");Object.defineProperties(t,Object.getOwnPropertyDescriptors(r))},7546:(e,t,n)=>{n.r(t);var r=__kbnBundles__.get("plugin/embeddable/public");Object.defineProperties(t,Object.getOwnPropertyDescriptors(r))},2137:(e,t,n)=>{n.r(t);var r=__kbnBundles__.get("plugin/kibanaReact/common");Object.defineProperties(t,Object.getOwnPropertyDescriptors(r))},409:(e,t,n)=>{n.r(t);var r=__kbnBundles__.get("plugin/kibanaReact/public");Object.defineProperties(t,Object.getOwnPropertyDescriptors(r))},1215:(e,t,n)=>{n.r(t);var r=__kbnBundles__.get("plugin/kibanaUtils/public");Object.defineProperties(t,Object.getOwnPropertyDescriptors(r))},2082:(e,t,n)=>{e.exports=n(2497)(29290)},3721:(e,t,n)=>{e.exports=n(2497)(4971)},3185:(e,t,n)=>{e.exports=n(2497)(51858)},8915:(e,t,n)=>{e.exports=n(2497)(67493)},6350:(e,t,n)=>{e.exports=n(2497)(79981)},3059:e=>{"use strict";e.exports=__kbnSharedDeps__.ElasticCharts},1319:e=>{"use strict";e.exports=__kbnSharedDeps__.ElasticEui},6791:e=>{"use strict";e.exports=__kbnSharedDeps__.EmotionReact},3782:e=>{"use strict";e.exports=__kbnSharedDeps__.IoTs},6744:e=>{"use strict";e.exports=__kbnSharedDeps__.KbnAnalytics},6494:e=>{"use strict";e.exports=__kbnSharedDeps__.KbnDatemath},5964:e=>{"use strict";e.exports=__kbnSharedDeps__.KbnEsQuery},5008:e=>{"use strict";e.exports=__kbnSharedDeps__.KbnI18n},5879:e=>{"use strict";e.exports=__kbnSharedDeps__.KbnI18nReact},770:e=>{"use strict";e.exports=__kbnSharedDeps__.Lodash},1783:e=>{"use strict";e.exports=__kbnSharedDeps__.Moment},4286:e=>{"use strict";e.exports=__kbnSharedDeps__.React},190:e=>{"use strict";e.exports=__kbnSharedDeps__.Rxjs},1941:e=>{"use strict";e.exports=__kbnSharedDeps__.TsLib},2497:e=>{"use strict";e.exports=__kbnSharedDeps_npm__}},n={};function r(e){var i=n[e];if(void 0!==i)return i.exports;var o=n[e]={exports:{}};return t[e](o,o.exports,r),o.exports}r.m=t,r.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return r.d(t,{a:t}),t},r.d=(e,t)=>{for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.f={},r.e=e=>Promise.all(Object.keys(r.f).reduce(((t,n)=>(r.f[n](e,t),t)),[])),r.u=e=>"logsShared.chunk."+e+".js",r.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),e={},r.l=(t,n,i,o)=>{if(e[t])e[t].push(n);else{var s,a;if(void 0!==i)for(var c=document.getElementsByTagName("script"),u=0;u<c.length;u++){var l=c[u];if(l.getAttribute("src")==t){s=l;break}}s||(a=!0,(s=document.createElement("script")).charset="utf-8",s.timeout=120,r.nc&&s.setAttribute("nonce",r.nc),s.src=t),e[t]=[n];var d=(n,r)=>{s.onerror=s.onload=null,clearTimeout(f);var i=e[t];if(delete e[t],s.parentNode&&s.parentNode.removeChild(s),i&&i.forEach((e=>e(r))),n)return n(r)},f=setTimeout(d.bind(null,void 0,{type:"timeout",target:s}),12e4);s.onerror=d.bind(null,s.onerror),s.onload=d.bind(null,s.onload),a&&document.head.appendChild(s)}},r.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{var e;r.g.importScripts&&(e=r.g.location+"");var t=r.g.document;if(!e&&t&&(t.currentScript&&"SCRIPT"===t.currentScript.tagName.toUpperCase()&&(e=t.currentScript.src),!e)){var n=t.getElementsByTagName("script");if(n.length)for(var i=n.length-1;i>-1&&(!e||!/^http(s?):/.test(e));)e=n[i--].src}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),r.p=e})(),(()=>{var e={985:0};r.f.j=(t,n)=>{var i=r.o(e,t)?e[t]:void 0;if(0!==i)if(i)n.push(i[2]);else{var o=new Promise(((n,r)=>i=e[t]=[n,r]));n.push(i[2]=o);var s=r.p+r.u(t),a=new Error;r.l(s,(n=>{if(r.o(e,t)&&(0!==(i=e[t])&&(e[t]=void 0),i)){var o=n&&("load"===n.type?"missing":n.type),s=n&&n.target&&n.target.src;a.message="Loading chunk "+t+" failed.\n("+o+": "+s+")",a.name="ChunkLoadError",a.type=o,a.request=s,i[1](a)}}),"chunk-"+t,t)}};var t=(t,n)=>{var i,o,[s,a,c]=n,u=0;if(s.some((t=>0!==e[t]))){for(i in a)r.o(a,i)&&(r.m[i]=a[i]);c&&c(r)}for(t&&t(n);u<s.length;u++)o=s[u],r.o(e,o)&&e[o]&&e[o][0](),e[o]=0},n=self.logsShared_bundle_jsonpfunction=self.logsShared_bundle_jsonpfunction||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))})(),r(7173),__kbnBundles__.define("plugin/logsShared/public",r,3800),__kbnBundles__.define("plugin/logsShared/common",r,5850)})();