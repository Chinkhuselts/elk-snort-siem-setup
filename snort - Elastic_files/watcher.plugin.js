/*! Copyright Elasticsearch B.V. and/or licensed to Elasticsearch B.V. under one or more contributor license agreements.
 * Licensed under the Elastic License 2.0; you may not use this file except in compliance with the Elastic License 2.0. */(()=>{var e,t={319:(e,t,a)=>{"use strict";a.d(t,{mw:()=>n,uR:()=>s,TH:()=>o,wP:()=>i,os:()=>c,OQ:()=>b,Bq:()=>l,EW:()=>u,$Z:()=>p,bw:()=>h,jG:()=>f,SY:()=>m,rQ:()=>g,Yk:()=>_});const n={SIMULATE:"simulate",FORCE_SIMULATE:"force_simulate",EXECUTE:"execute",FORCE_EXECUTE:"force_execute",SKIP:"skip"};var r=a(8);const s={OK:r.i18n.translate("xpack.watcher.constants.actionStates.okStateText",{defaultMessage:"OK"}),ACKNOWLEDGED:r.i18n.translate("xpack.watcher.constants.actionStates.acknowledgedStateText",{defaultMessage:"Acknowledged"}),THROTTLED:r.i18n.translate("xpack.watcher.constants.actionStates.throttledStateText",{defaultMessage:"Throttled"}),ERROR:r.i18n.translate("xpack.watcher.constants.actionStates.errorStateText",{defaultMessage:"Error"}),CONFIG_ERROR:r.i18n.translate("xpack.watcher.constants.actionStates.configErrorStateText",{defaultMessage:"Config error"}),UNKNOWN:r.i18n.translate("xpack.watcher.constants.actionStates.unknownStateText",{defaultMessage:"Unknown"})},o={EMAIL:"email",WEBHOOK:"webhook",INDEX:"index",LOGGING:"logging",SLACK:"slack",JIRA:"jira",PAGERDUTY:"pagerduty",UNKNOWN:"unknown/invalid"},i={COUNT:"count",AVERAGE:"avg",SUM:"sum",MIN:"min",MAX:"max"},c={GREATER_THAN:">",GREATER_THAN_OR_EQUALS:">=",BETWEEN:"between",LESS_THAN:"<",LESS_THAN_OR_EQUALS:"<="},l={initialPageSize:10,pageSizeOptions:[10,50,100]},u={ID:"watcher",MINIMUM_LICENSE_REQUIRED:"gold",getI18nName:e=>e.translate("xpack.watcher.appName",{defaultMessage:"Watcher"})},d=6e4,p={WATCH_LIST:d,WATCH_HISTORY:d,WATCH_VISUALIZATION:d},h={API_ROOT:"/api/watcher"},f={ASCENDING:"asc",DESCENDING:"desc"},m={SECOND:"s",MINUTE:"m",HOUR:"h",DAY:"d"},g=(r.i18n.translate("xpack.watcher.constants.watchStateComments.partiallyThrottledStateCommentText",{defaultMessage:"Partially throttled"}),r.i18n.translate("xpack.watcher.constants.watchStateComments.throttledStateCommentText",{defaultMessage:"Throttled"}),r.i18n.translate("xpack.watcher.constants.watchStateComments.partiallyAcknowledgedStateCommentText",{defaultMessage:"Partially acknowledged"}),r.i18n.translate("xpack.watcher.constants.watchStateComments.acknowledgedStateCommentText",{defaultMessage:"Acknowledged"}),r.i18n.translate("xpack.watcher.constants.watchStateComments.executionFailingStateCommentText",{defaultMessage:"Execution failing"}),{INACTIVE:r.i18n.translate("xpack.watcher.constants.watchStates.inactiveStateText",{defaultMessage:"Inactive"}),ACTIVE:r.i18n.translate("xpack.watcher.constants.watchStates.activeStateText",{defaultMessage:"Active"}),ERROR:r.i18n.translate("xpack.watcher.constants.watchStates.errorStateText",{defaultMessage:"Error"}),CONFIG_ERROR:r.i18n.translate("xpack.watcher.constants.watchStates.configErrorStateText",{defaultMessage:"Config error"})}),_={JSON:"json",THRESHOLD:"threshold",MONITORING:"monitoring"},b={ERR_PROP_MISSING:"ERR_PROP_MISSING"}},428:(e,t,a)=>{"use strict";a.r(t),a.d(t,{plugin:()=>c}),a(11);var n=a(915),r=a(8);const s=__kbnSharedDeps__.Rxjs;var o=a(319);const i=e=>{const{state:t,message:a}=e.check(o.EW.ID,o.EW.MINIMUM_LICENSE_REQUIRED);return{valid:"valid"===t&&e.getFeature(o.EW.ID).isAvailable,message:a}};class WatcherUIPlugin{constructor(){(0,n.default)(this,"capabilities$",new s.Subject)}setup({notifications:e,uiSettings:t,getStartServices:n},{licensing:o,management:c,data:l,home:u,charts:d,licenseManagement:p}){const h=c.sections.section.insightsAndAlerting,f=r.i18n.translate("xpack.watcher.sections.watchList.managementSection.watcherDisplayName",{defaultMessage:"Watcher"}),m=h.registerApp({id:"watcher",title:f,order:5,mount:async({element:r,setBreadcrumbs:c,history:u})=>{const[h]=await n(),{chrome:{docTitle:m},docLinks:g,application:_,executionContext:b,settings:w,...S}=h;m.change(f);const{renderApp:v}=await a.e(323).then(a.bind(a,323)),{TimeBuckets:x}=await a.e(368).then(a.bind(a,368)),T=v({licenseStatus$:o.license$.pipe((0,s.skip)(1),(0,s.map)(i)),element:r,toasts:e.toasts,settings:w,docLinks:g,setBreadcrumbs:c,chartsTheme:d.theme,createTimeBuckets:()=>new x(t,l),history:u,getUrlForApp:_.getUrlForApp,licenseManagementLocator:null==p?void 0:p.locator,executionContext:b,...S});return()=>{m.reset(),T()}}}),g={id:"watcher",title:"Watcher",category:"admin",description:r.i18n.translate("xpack.watcher.watcherDescription",{defaultMessage:"Detect changes in your data by creating, managing, and monitoring alerts."}),icon:"watchesApp",path:"/app/management/insightsAndAlerting/watcher/watches",showOnHomePage:!1};u.featureCatalogue.register(g),(0,s.combineLatest)([o.license$.pipe((0,s.first)(),(0,s.map)(i)),this.capabilities$]).subscribe((([{valid:e},t])=>{var a;e&&!0===(null===(a=t.management.insightsAndAlerting)||void 0===a?void 0:a.watcher)?m.enable():m.disable()}))}start(e){this.capabilities$.next(e.application.capabilities)}stop(){}}const c=()=>new WatcherUIPlugin},467:(e,t,a)=>{"use strict";a.d(t,{A:()=>i});var n=a(721),r=a.n(n),s=a(186),o=a.n(s)()(r());o.push([e.id,".watcherThresholdWatchActionDropdownContainer{flex-direction:row;justify-content:flex-end}.watcherThresholdWatchActionContextMenuItem,.watcherThresholdWatchInBetweenComparatorText{align-self:center}.watcherThresholdAlertAggFieldContainer{width:300px}",""]);const i=o},784:(e,t,a)=>{"use strict";a.d(t,{A:()=>i});var n=a(721),r=a.n(n),s=a(186),o=a.n(s)()(r());o.push([e.id,".watcherThresholdWatchActionDropdownContainer{flex-direction:row;justify-content:flex-end}.watcherThresholdWatchActionContextMenuItem,.watcherThresholdWatchInBetweenComparatorText{align-self:center}.watcherThresholdAlertAggFieldContainer{width:300px}",""]);const i=o},186:e=>{"use strict";e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var a="",n=void 0!==t[5];return t[4]&&(a+="@supports (".concat(t[4],") {")),t[2]&&(a+="@media ".concat(t[2]," {")),n&&(a+="@layer".concat(t[5].length>0?" ".concat(t[5]):""," {")),a+=e(t),n&&(a+="}"),t[2]&&(a+="}"),t[4]&&(a+="}"),a})).join("")},t.i=function(e,a,n,r,s){"string"==typeof e&&(e=[[null,e,void 0]]);var o={};if(n)for(var i=0;i<this.length;i++){var c=this[i][0];null!=c&&(o[c]=!0)}for(var l=0;l<e.length;l++){var u=[].concat(e[l]);n&&o[u[0]]||(void 0!==s&&(void 0===u[5]||(u[1]="@layer".concat(u[5].length>0?" ".concat(u[5]):""," {").concat(u[1],"}")),u[5]=s),a&&(u[2]?(u[1]="@media ".concat(u[2]," {").concat(u[1],"}"),u[2]=a):u[2]=a),r&&(u[4]?(u[1]="@supports (".concat(u[4],") {").concat(u[1],"}"),u[4]=r):u[4]="".concat(r)),t.push(u))}},t}},721:e=>{"use strict";e.exports=function(e){return e[1]}},680:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>_});var n=a(264),r=a.n(n),s=a(449),o=a.n(s),i=a(811),c=a.n(i),l=a(272),u=a.n(l),d=a(332),p=a.n(d),h=a(745),f=a.n(h),m=a(467),g={};g.styleTagTransform=f(),g.setAttributes=u(),g.insert=c().bind(null,"head"),g.domAPI=o(),g.insertStyleElement=p(),r()(m.A,g);const _=m.A&&m.A.locals?m.A.locals:void 0},641:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>_});var n=a(264),r=a.n(n),s=a(449),o=a.n(s),i=a(811),c=a.n(i),l=a(272),u=a.n(l),d=a(332),p=a.n(d),h=a(745),f=a.n(h),m=a(784),g={};g.styleTagTransform=f(),g.setAttributes=u(),g.insert=c().bind(null,"head"),g.domAPI=o(),g.insertStyleElement=p(),r()(m.A,g);const _=m.A&&m.A.locals?m.A.locals:void 0},264:e=>{"use strict";var t=[];function a(e){for(var a=-1,n=0;n<t.length;n++)if(t[n].identifier===e){a=n;break}return a}function n(e,n){for(var s={},o=[],i=0;i<e.length;i++){var c=e[i],l=n.base?c[0]+n.base:c[0],u=s[l]||0,d="".concat(l," ").concat(u);s[l]=u+1;var p=a(d),h={css:c[1],media:c[2],sourceMap:c[3],supports:c[4],layer:c[5]};if(-1!==p)t[p].references++,t[p].updater(h);else{var f=r(h,n);n.byIndex=i,t.splice(i,0,{identifier:d,updater:f,references:1})}o.push(d)}return o}function r(e,t){var a=t.domAPI(t);return a.update(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap&&t.supports===e.supports&&t.layer===e.layer)return;a.update(e=t)}else a.remove()}}e.exports=function(e,r){var s=n(e=e||[],r=r||{});return function(e){e=e||[];for(var o=0;o<s.length;o++){var i=a(s[o]);t[i].references--}for(var c=n(e,r),l=0;l<s.length;l++){var u=a(s[l]);0===t[u].references&&(t[u].updater(),t.splice(u,1))}s=c}}},811:e=>{"use strict";var t={};e.exports=function(e,a){var n=function(e){if(void 0===t[e]){var a=document.querySelector(e);if(window.HTMLIFrameElement&&a instanceof window.HTMLIFrameElement)try{a=a.contentDocument.head}catch(e){a=null}t[e]=a}return t[e]}(e);if(!n)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");n.appendChild(a)}},332:e=>{"use strict";e.exports=function(e){var t=document.createElement("style");return e.setAttributes(t,e.attributes),e.insert(t,e.options),t}},272:(e,t,a)=>{"use strict";e.exports=function(e){var t=a.nc;t&&e.setAttribute("nonce",t)}},449:e=>{"use strict";e.exports=function(e){if("undefined"==typeof document)return{update:function(){},remove:function(){}};var t=e.insertStyleElement(e);return{update:function(a){!function(e,t,a){var n="";a.supports&&(n+="@supports (".concat(a.supports,") {")),a.media&&(n+="@media ".concat(a.media," {"));var r=void 0!==a.layer;r&&(n+="@layer".concat(a.layer.length>0?" ".concat(a.layer):""," {")),n+=a.css,r&&(n+="}"),a.media&&(n+="}"),a.supports&&(n+="}");var s=a.sourceMap;s&&"undefined"!=typeof btoa&&(n+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(s))))," */")),t.styleTagTransform(n,e,t.options)}(t,e,a)},remove:function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(t)}}}},745:e=>{"use strict";e.exports=function(e,t){if(t.styleSheet)t.styleSheet.cssText=e;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(e))}}},707:(e,t,a)=>{a.p=window.__kbnPublicPath__.watcher},11:(e,t,a)=>{switch(window.__kbnThemeTag__){case"v8dark":return a(680);case"v8light":return a(641)}},627:(e,t,a)=>{a.r(t);var n=__kbnBundles__.get("plugin/data/public");Object.defineProperties(t,Object.getOwnPropertyDescriptors(n))},744:(e,t,a)=>{a.r(t);var n=__kbnBundles__.get("plugin/esUiShared/public");Object.defineProperties(t,Object.getOwnPropertyDescriptors(n))},374:(e,t,a)=>{a.r(t);var n=__kbnBundles__.get("plugin/fieldFormats/common");Object.defineProperties(t,Object.getOwnPropertyDescriptors(n))},409:(e,t,a)=>{a.r(t);var n=__kbnBundles__.get("plugin/kibanaReact/public");Object.defineProperties(t,Object.getOwnPropertyDescriptors(n))},915:(e,t,a)=>{e.exports=a(497)(67493)},59:e=>{"use strict";e.exports=__kbnSharedDeps__.ElasticCharts},700:e=>{"use strict";e.exports=__kbnSharedDeps__.ElasticEui},791:e=>{"use strict";e.exports=__kbnSharedDeps__.EmotionReact},424:e=>{"use strict";e.exports=__kbnSharedDeps__.KbnCodeEditor},494:e=>{"use strict";e.exports=__kbnSharedDeps__.KbnDatemath},8:e=>{"use strict";e.exports=__kbnSharedDeps__.KbnI18n},879:e=>{"use strict";e.exports=__kbnSharedDeps__.KbnI18nReact},482:e=>{"use strict";e.exports=__kbnSharedDeps__.KbnReactKibanaContextRender},193:e=>{"use strict";e.exports=__kbnSharedDeps__.KbnSharedUxRouter},770:e=>{"use strict";e.exports=__kbnSharedDeps__.Lodash},783:e=>{"use strict";e.exports=__kbnSharedDeps__.Moment},488:e=>{"use strict";e.exports=__kbnSharedDeps__.MomentTimezone},286:e=>{"use strict";e.exports=__kbnSharedDeps__.React},874:e=>{"use strict";e.exports=__kbnSharedDeps__.ReactDom},493:e=>{"use strict";e.exports=__kbnSharedDeps__.ReactRouterDom},79:e=>{"use strict";e.exports=__kbnSharedDeps__.SaferLodashSet},472:e=>{"use strict";e.exports=__kbnSharedDeps__.Uuid},497:e=>{"use strict";e.exports=__kbnSharedDeps_npm__}},a={};function n(e){var r=a[e];if(void 0!==r)return r.exports;var s=a[e]={id:e,exports:{}};return t[e].call(s.exports,s,s.exports,n),s.exports}n.m=t,n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var a in t)n.o(t,a)&&!n.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})},n.f={},n.e=e=>Promise.all(Object.keys(n.f).reduce(((t,a)=>(n.f[a](e,t),t)),[])),n.u=e=>"watcher.chunk."+e+".js",n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),e={},n.l=(t,a,r,s)=>{if(e[t])e[t].push(a);else{var o,i;if(void 0!==r)for(var c=document.getElementsByTagName("script"),l=0;l<c.length;l++){var u=c[l];if(u.getAttribute("src")==t){o=u;break}}o||(i=!0,(o=document.createElement("script")).charset="utf-8",o.timeout=120,n.nc&&o.setAttribute("nonce",n.nc),o.src=t),e[t]=[a];var d=(a,n)=>{o.onerror=o.onload=null,clearTimeout(p);var r=e[t];if(delete e[t],o.parentNode&&o.parentNode.removeChild(o),r&&r.forEach((e=>e(n))),a)return a(n)},p=setTimeout(d.bind(null,void 0,{type:"timeout",target:o}),12e4);o.onerror=d.bind(null,o.onerror),o.onload=d.bind(null,o.onload),i&&document.head.appendChild(o)}},n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{var e;n.g.importScripts&&(e=n.g.location+"");var t=n.g.document;if(!e&&t&&(t.currentScript&&"SCRIPT"===t.currentScript.tagName.toUpperCase()&&(e=t.currentScript.src),!e)){var a=t.getElementsByTagName("script");if(a.length)for(var r=a.length-1;r>-1&&(!e||!/^http(s?):/.test(e));)e=a[r--].src}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),n.p=e})(),(()=>{var e={541:0};n.f.j=(t,a)=>{var r=n.o(e,t)?e[t]:void 0;if(0!==r)if(r)a.push(r[2]);else{var s=new Promise(((a,n)=>r=e[t]=[a,n]));a.push(r[2]=s);var o=n.p+n.u(t),i=new Error;n.l(o,(a=>{if(n.o(e,t)&&(0!==(r=e[t])&&(e[t]=void 0),r)){var s=a&&("load"===a.type?"missing":a.type),o=a&&a.target&&a.target.src;i.message="Loading chunk "+t+" failed.\n("+s+": "+o+")",i.name="ChunkLoadError",i.type=s,i.request=o,r[1](i)}}),"chunk-"+t,t)}};var t=(t,a)=>{var r,s,[o,i,c]=a,l=0;if(o.some((t=>0!==e[t]))){for(r in i)n.o(i,r)&&(n.m[r]=i[r]);c&&c(n)}for(t&&t(a);l<o.length;l++)s=o[l],n.o(e,s)&&e[s]&&e[s][0](),e[s]=0},a=self.watcher_bundle_jsonpfunction=self.watcher_bundle_jsonpfunction||[];a.forEach(t.bind(null,0)),a.push=t.bind(null,a.push.bind(a))})(),n.nc=void 0,n(707),__kbnBundles__.define("plugin/watcher/public",n,428)})();