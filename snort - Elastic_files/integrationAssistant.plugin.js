/*! Copyright Elasticsearch B.V. and/or licensed to Elasticsearch B.V. under one or more contributor license agreements.
 * Licensed under the Elastic License 2.0; you may not use this file except in compliance with the Elastic License 2.0. */(()=>{var e,t,n={934:(e,t,n)=>{"use strict";n.r(t),n.d(t,{plugin:()=>g});var r=n(8915);const i=__kbnSharedDeps__.Rxjs;var o=n(1319),s=n(4286),a=n.n(s),p=n(6791);const l=a().lazy((()=>n.e(843).then(n.bind(n,4932)).then((e=>({default:e.CreateIntegration}))))),d=e=>a().memo((function(){return(0,p.jsx)(s.Suspense,{fallback:(0,p.jsx)(o.EuiLoadingSpinner,{size:"l"})},(0,p.jsx)(l,{services:e}))})),c=a().lazy((()=>n.e(180).then(n.bind(n,6180)).then((e=>({default:e.CreateIntegrationCardButton})))));var u=n(719);const _=Object.freeze({generateCel:!1}),h=Object.keys(_),m=e=>h.includes(e);class IntegrationAssistantPlugin{constructor(e){(0,r.default)(this,"telemetry",new u.Y),(0,r.default)(this,"renderUpselling$",new i.BehaviorSubject(void 0)),(0,r.default)(this,"config",void 0),(0,r.default)(this,"experimentalFeatures",void 0),this.initializerContext=e,this.config=this.initializerContext.config.get(),this.experimentalFeatures=(e=>{const t={..._};for(const n of e)m(n)&&(t[n]=!0);return{..._,...t}})(this.config.enableExperimental||[]),u.Z.init(this.experimentalFeatures)}setup(e){return this.telemetry.setup(e.analytics),this.config=this.config,{}}start(e,t){const n={...e,...t,telemetry:this.telemetry.start(),renderUpselling$:this.renderUpselling$.asObservable()};return{components:{CreateIntegration:d(n),CreateIntegrationCardButton:a().memo((function(e){return(0,p.jsx)(s.Suspense,{fallback:(0,p.jsx)(o.EuiLoadingSpinner,{size:"l"})},(0,p.jsx)(c,e))}))},renderUpselling:e=>{this.renderUpselling$.next(e)}}}stop(){}}function g(e){return new IntegrationAssistantPlugin(e)}},719:(e,t,n)=>{"use strict";n.d(t,{Z:()=>ExperimentalFeaturesService,Y:()=>Telemetry});var r=n(8915),i=n(746);const o={[i.S.UploadIntegrationZipComplete]:{integrationName:{type:"keyword",_meta:{description:"The name of the integration in the zip file that was uploaded",optional:!0}},errorMessage:{type:"text",_meta:{description:"The error message if the upload failed",optional:!0}}},[i.S.IntegrationAssistantOpen]:{sessionId:{type:"keyword",_meta:{description:"The ID to identify all the events the same session",optional:!1}}},[i.S.IntegrationAssistantStepComplete]:{sessionId:{type:"keyword",_meta:{description:"The ID to identify all the events the same session",optional:!1}},step:{type:"long",_meta:{description:"The step number",optional:!1}},stepName:{type:"keyword",_meta:{description:"The name of the step",optional:!1}},durationMs:{type:"long",_meta:{description:"Time spent in the current step",optional:!1}},sessionElapsedTime:{type:"long",_meta:{description:"Total time spent in the current generation session",optional:!1}}},[i.S.IntegrationAssistantGenerationComplete]:{sessionId:{type:"keyword",_meta:{description:"The ID to identify all the events the same session",optional:!1}},sampleRows:{type:"long",_meta:{description:"The number of log rows provided as sample data",optional:!1}},durationMs:{type:"long",_meta:{description:"Time spent in the generation process",optional:!1}},actionTypeId:{type:"keyword",_meta:{description:"The connector action type ID",optional:!1}},model:{type:"keyword",_meta:{description:"The model used to generate the integration",optional:!1}},provider:{type:"keyword",_meta:{description:"The provider of the LLM",optional:!1}},errorMessage:{type:"text",_meta:{description:"The error message if the generation failed",optional:!0}}},[i.S.IntegrationAssistantCelGenerationComplete]:{sessionId:{type:"keyword",_meta:{description:"The ID to identify all the events the same session",optional:!1}},durationMs:{type:"long",_meta:{description:"Time spent in the generation process",optional:!1}},actionTypeId:{type:"keyword",_meta:{description:"The connector action type ID",optional:!1}},model:{type:"keyword",_meta:{description:"The model used to generate the integration",optional:!1}},provider:{type:"keyword",_meta:{description:"The provider of the LLM",optional:!1}},errorMessage:{type:"text",_meta:{description:"The error message if the generation failed",optional:!0}}},[i.S.IntegrationAssistantComplete]:{sessionId:{type:"keyword",_meta:{description:"The ID to identify all the events the same session",optional:!1}},durationMs:{type:"long",_meta:{description:"Total time spent in the workflow",optional:!1}},integrationName:{type:"keyword",_meta:{description:"The name of the integration",optional:!1}},integrationDescription:{type:"keyword",_meta:{description:"The description of the integration",optional:!1}},dataStreamName:{type:"keyword",_meta:{description:"The name of the data stream used for the integration",optional:!1}},inputTypes:{type:"array",items:{type:"keyword",_meta:{description:"The input type used for the integration",optional:!1}}},actionTypeId:{type:"keyword",_meta:{description:"The connector action type ID",optional:!1}},model:{type:"keyword",_meta:{description:"The model used to generate the integration",optional:!1}},provider:{type:"keyword",_meta:{description:"The provider of the LLM",optional:!1}},errorMessage:{type:"text",_meta:{description:"The error message if the workflow failed",optional:!0}}}};class Telemetry{constructor(){(0,r.default)(this,"analytics",void 0)}setup(e){this.analytics=e,Object.entries(o).forEach((([t,n])=>{const r={eventType:t,schema:n};e.registerEventType(r)}))}start(){var e;const t=null===(e=this.analytics)||void 0===e?void 0:e.reportEvent.bind(this.analytics);if(!t)throw new Error("The Telemetry.setup() method has not been invoked, be sure to call it during the plugin setup.");return{reportEvent:t}}}class ExperimentalFeaturesService{static init(e){this.experimentalFeatures=e}static get(){return this.experimentalFeatures||this.throwUninitializedError(),this.experimentalFeatures}static throwUninitializedError(){throw new Error("Experimental features service not initialized")}}(0,r.default)(ExperimentalFeaturesService,"experimentalFeatures",void 0)},746:(e,t,n)=>{"use strict";n.d(t,{S:()=>r});let r=function(e){return e.UploadIntegrationZipComplete="upload_integration_zip_complete",e.IntegrationAssistantOpen="integration_assistant_open",e.IntegrationAssistantStepComplete="integration_assistant_step_complete",e.IntegrationAssistantGenerationComplete="integration_assistant_generation_complete",e.IntegrationAssistantCelGenerationComplete="integration_assistant_cel_generation_complete",e.IntegrationAssistantComplete="integration_assistant_complete",e}({})},9593:(e,t,n)=>{n.p=window.__kbnPublicPath__.integrationAssistant},6728:(e,t,n)=>{n.r(t);var r=__kbnBundles__.get("plugin/actions/common");Object.defineProperties(t,Object.getOwnPropertyDescriptors(r))},5296:(e,t,n)=>{n.r(t);var r=__kbnBundles__.get("plugin/esUiShared/static/forms/components");Object.defineProperties(t,Object.getOwnPropertyDescriptors(r))},791:(e,t,n)=>{n.r(t);var r=__kbnBundles__.get("plugin/esUiShared/static/forms/helpers");Object.defineProperties(t,Object.getOwnPropertyDescriptors(r))},2602:(e,t,n)=>{n.r(t);var r=__kbnBundles__.get("plugin/esUiShared/static/forms/hook_form_lib");Object.defineProperties(t,Object.getOwnPropertyDescriptors(r))},409:(e,t,n)=>{n.r(t);var r=__kbnBundles__.get("plugin/kibanaReact/public");Object.defineProperties(t,Object.getOwnPropertyDescriptors(r))},1215:(e,t,n)=>{n.r(t);var r=__kbnBundles__.get("plugin/kibanaUtils/public");Object.defineProperties(t,Object.getOwnPropertyDescriptors(r))},2218:(e,t,n)=>{n.r(t);var r=__kbnBundles__.get("plugin/stackConnectors/public/common");Object.defineProperties(t,Object.getOwnPropertyDescriptors(r))},1701:(e,t,n)=>{n.r(t);var r=__kbnBundles__.get("plugin/triggersActionsUi/public/common/constants");Object.defineProperties(t,Object.getOwnPropertyDescriptors(r))},8915:(e,t,n)=>{e.exports=n(2497)(67493)},5927:e=>{"use strict";e.exports=__kbnSharedDeps__.Classnames},1319:e=>{"use strict";e.exports=__kbnSharedDeps__.ElasticEui},6791:e=>{"use strict";e.exports=__kbnSharedDeps__.EmotionReact},9424:e=>{"use strict";e.exports=__kbnSharedDeps__.KbnCodeEditor},5008:e=>{"use strict";e.exports=__kbnSharedDeps__.KbnI18n},5879:e=>{"use strict";e.exports=__kbnSharedDeps__.KbnI18nReact},911:e=>{"use strict";e.exports=__kbnSharedDeps__.KbnMonaco},193:e=>{"use strict";e.exports=__kbnSharedDeps__.KbnSharedUxRouter},1060:e=>{"use strict";e.exports=__kbnSharedDeps__.LodashFp},4286:e=>{"use strict";e.exports=__kbnSharedDeps__.React},3530:e=>{"use strict";e.exports=__kbnSharedDeps__.ReactQuery},1493:e=>{"use strict";e.exports=__kbnSharedDeps__.ReactRouterDom},1941:e=>{"use strict";e.exports=__kbnSharedDeps__.TsLib},9472:e=>{"use strict";e.exports=__kbnSharedDeps__.Uuid},2497:e=>{"use strict";e.exports=__kbnSharedDeps_npm__}},r={};function i(e){var t=r[e];if(void 0!==t)return t.exports;var o=r[e]={id:e,loaded:!1,exports:{}};return n[e].call(o.exports,o,o.exports,i),o.loaded=!0,o.exports}i.m=n,i.amdD=function(){throw new Error("define cannot be used indirect")},i.amdO={},i.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return i.d(t,{a:t}),t},i.d=(e,t)=>{for(var n in t)i.o(t,n)&&!i.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},i.f={},i.e=e=>Promise.all(Object.keys(i.f).reduce(((t,n)=>(i.f[n](e,t),t)),[])),i.u=e=>"integrationAssistant.chunk."+e+".js",i.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),i.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),e={},t="@kbn/integration-assistant-plugin:",i.l=(n,r,o,s)=>{if(e[n])e[n].push(r);else{var a,p;if(void 0!==o)for(var l=document.getElementsByTagName("script"),d=0;d<l.length;d++){var c=l[d];if(c.getAttribute("src")==n||c.getAttribute("data-webpack")==t+o){a=c;break}}a||(p=!0,(a=document.createElement("script")).charset="utf-8",a.timeout=120,i.nc&&a.setAttribute("nonce",i.nc),a.setAttribute("data-webpack",t+o),a.src=n),e[n]=[r];var u=(t,r)=>{a.onerror=a.onload=null,clearTimeout(_);var i=e[n];if(delete e[n],a.parentNode&&a.parentNode.removeChild(a),i&&i.forEach((e=>e(r))),t)return t(r)},_=setTimeout(u.bind(null,void 0,{type:"timeout",target:a}),12e4);a.onerror=u.bind(null,a.onerror),a.onload=u.bind(null,a.onload),p&&document.head.appendChild(a)}},i.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),(()=>{var e;i.g.importScripts&&(e=i.g.location+"");var t=i.g.document;if(!e&&t&&(t.currentScript&&"SCRIPT"===t.currentScript.tagName.toUpperCase()&&(e=t.currentScript.src),!e)){var n=t.getElementsByTagName("script");if(n.length)for(var r=n.length-1;r>-1&&(!e||!/^http(s?):/.test(e));)e=n[r--].src}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),i.p=e})(),(()=>{i.b=document.baseURI||self.location.href;var e={781:0};i.f.j=(t,n)=>{var r=i.o(e,t)?e[t]:void 0;if(0!==r)if(r)n.push(r[2]);else{var o=new Promise(((n,i)=>r=e[t]=[n,i]));n.push(r[2]=o);var s=i.p+i.u(t),a=new Error;i.l(s,(n=>{if(i.o(e,t)&&(0!==(r=e[t])&&(e[t]=void 0),r)){var o=n&&("load"===n.type?"missing":n.type),s=n&&n.target&&n.target.src;a.message="Loading chunk "+t+" failed.\n("+o+": "+s+")",a.name="ChunkLoadError",a.type=o,a.request=s,r[1](a)}}),"chunk-"+t,t)}};var t=(t,n)=>{var r,o,[s,a,p]=n,l=0;if(s.some((t=>0!==e[t]))){for(r in a)i.o(a,r)&&(i.m[r]=a[r]);p&&p(i)}for(t&&t(n);l<s.length;l++)o=s[l],i.o(e,o)&&e[o]&&e[o][0](),e[o]=0},n=self.integrationAssistant_bundle_jsonpfunction=self.integrationAssistant_bundle_jsonpfunction||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))})(),i.nc=void 0,i(9593),__kbnBundles__.define("plugin/integrationAssistant/public",i,934)})();