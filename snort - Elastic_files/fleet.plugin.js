/*! Copyright Elasticsearch B.V. and/or licensed to Elasticsearch B.V. under one or more contributor license agreements.
 * Licensed under the Elastic License 2.0; you may not use this file except in compliance with the Elastic License 2.0. */(()=>{var e,t,a={24156:(e,t,a)=>{"use strict";a.r(t),a.d(t,{APP_WRAPPER_CLASS:()=>n,DEFAULT_APP_CATEGORIES:()=>r});const n="kbnAppWrapper";var i=a(75008);const r=Object.freeze({kibana:{id:"kibana",label:i.i18n.translate("core.ui.kibanaNavList.label",{defaultMessage:"Analytics"}),euiIconType:"logoKibana",order:1e3},enterpriseSearch:{id:"enterpriseSearch",label:i.i18n.translate("core.ui.searchNavList.label",{defaultMessage:"Elasticsearch"}),order:2e3,euiIconType:"logoEnterpriseSearch"},observability:{id:"observability",label:i.i18n.translate("core.ui.observabilityNavList.label",{defaultMessage:"Observability"}),euiIconType:"logoObservability",order:3e3},security:{id:"securitySolution",label:i.i18n.translate("core.ui.securityNavList.label",{defaultMessage:"Security"}),order:4e3,euiIconType:"logoSecurity"},management:{id:"management",label:i.i18n.translate("core.ui.managementNavList.label",{defaultMessage:"Management"}),order:5e3,euiIconType:"managementApp"}})},47400:(e,t,a)=>{"use strict";a.d(t,{SX:()=>i,aN:()=>n});const n="elastic-api-version",i="elasticInternalOrigin"},85228:(e,t,a)=>{"use strict";a.d(t,{Pv:()=>l});var n=a(84286),i=a(22874),r=a.n(i),s=a(20482),o=a(96791);const l=(e,t)=>a=>(r().render((0,o.jsx)(s.KibanaRenderContextProvider,t,e),a),()=>r().unmountComponentAtNode(a));a(68915),a(75008),n.Component},15006:(e,t,a)=>{"use strict";a.d(t,{V:()=>_});var n=a(84286),i=a.n(n),r=a(3185),s=a(77880),o=a(96791);const l=i().createContext(null),c=({children:e,...t})=>{const{navigateToUrl:a,currentAppId:n}=t;return(0,o.jsx)(l.Provider,{value:{navigateToUrl:a,currentAppId:n}},e)},u=({children:e,coreStart:t})=>{const{navigateToUrl:a,currentAppId$:n}=t.application,i=(0,s.A)(n,void 0);return(0,o.jsx)(l.Provider,{value:{navigateToUrl:a,currentAppId:i}},e)},p={name:"h42ud6",styles:"display:inherit;height:inherit;width:inherit;flex:1;flex-flow:column nowrap"},d=({children:e,navigateToUrl:t,currentAppId:a,...i})=>{const s=(0,n.useRef)(null),l=(0,n.useCallback)((e=>(({event:e,container:t,navigateToUrl:a,currentAppId:n})=>{if(!t||!n)return;const i=((e,t)=>{let a=e;do{var n,i;if("a"===(null===(n=a)||void 0===n?void 0:n.tagName.toLowerCase()))return a;const e=null===(i=a)||void 0===i?void 0:i.parentElement;if(!e||e===document.body||e===t)break;a=e}while(parent||parent!==document.body||parent!==t)})(e.target,t);if(!i)return;const r=i.href,s=""===i.target||"_self"===i.target,o=0===e.button;r&&s&&o&&!e.defaultPrevented&&!(e=>e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)(e)&&(e.preventDefault(),a(i.href))})({event:e,currentAppId:a,navigateToUrl:t,container:s.current})),[a,t]);return(0,o.jsx)("div",(0,r.default)({onClick:l,ref:s,css:p,"data-test-subj":"kbnRedirectAppLink"},i),e)},g=({children:e,...t})=>(0,o.jsx)(d,(0,r.default)({},function(){const e=(0,n.useContext)(l);if(!e)throw new Error("RedirectAppLinksContext is missing.  Ensure your component or React root is wrapped with RedirectAppLinksProvider.");return e}(),t),e),_=({children:e,...t})=>{if(void 0!==t.coreStart){const{coreStart:a,...n}=t,i=(0,o.jsx)(g,n,e);return(0,o.jsx)(u,{coreStart:a},i)}const{navigateToUrl:a,currentAppId:n,...i}=t,r=(0,o.jsx)(g,i,e);return(0,o.jsx)(c,{currentAppId:n,navigateToUrl:a},r)}},53228:(e,t,a)=>{"use strict";a.d(t,{Jc:()=>P,O9:()=>c,PF:()=>h,PI:()=>u,RY:()=>R,VB:()=>r,XP:()=>T,Xn:()=>I,Z$:()=>d,a9:()=>b,ay:()=>A,cO:()=>o,eJ:()=>y,fA:()=>i,gx:()=>g,if:()=>s,k7:()=>l,lR:()=>S,lT:()=>E,li:()=>m,nE:()=>p,ng:()=>_,yt:()=>f});var n=a(69056);const i="epm-packages",r="epm-packages-assets",s="system",o="elastic_agent",l="fleet_server",c="endpoint",u="apm",p="synthetics",d="kubernetes",g="cloud_security_posture",_="kspm",E="cspm",f="vuln_mgmt",m="cloud_defend",v="cloudbeat",h=new Set([u,"pf-host-agent","pf-elastic-symbolizer","pf-elastic-collector","fleet-server",m,`${m}/control`,v,`${v}/cis_k8s`,`${v}/cis_eks`,`${v}/cis_aws`,`${v}/cis_gcp`,`${v}/cis_azure`,`${v}/vuln_mgmt_aws`]),T="data_stream.dataset",P="generic",y=[c,u,p,g],A=[c,u,p],I=[u,p,g],b={Logs:"logs",Metrics:"metrics",Traces:"traces"},S=(Object.values(b),{Installed:"installed",Installing:"installing",InstallFailed:"install_failed",NotInstalled:"not_installed"}),R=[...Object.values(n.v0),...Object.values(n.Ip)];new Set(R)},4408:(e,t,a)=>{"use strict";a.d(t,{rWg:()=>me,vgs:()=>ve,wAX:()=>ye,Qnv:()=>Ae,EP_:()=>Te,MDy:()=>he,etU:()=>Pe,QFY:()=>C,AhM:()=>x,LZ9:()=>R,XpO:()=>M,eEq:()=>F,CgZ:()=>I,F$W:()=>z,QRt:()=>at,D3b:()=>m,SZL:()=>q,d40:()=>tt,kec:()=>V,cM3:()=>D,BoD:()=>$,m9R:()=>A,VBR:()=>Se.VB,GKU:()=>we,G3l:()=>O,K$s:()=>He,XPn:()=>Se.XP,KMo:()=>E,eEC:()=>De,OHG:()=>X,QXv:()=>Q,VDX:()=>L,y_r:()=>Ce,Adt:()=>qe,PBo:()=>Ve,Ald:()=>Re,uGT:()=>nt,ZCu:()=>b,NCp:()=>o,LW$:()=>_,gF9:()=>We,LfS:()=>Ke,DT$:()=>ze,MdD:()=>Qe,PIK:()=>Se.PI,lil:()=>Se.li,ytS:()=>Se.yt,lT_:()=>Se.lT,ngP:()=>Se.ng,gxp:()=>Se.gx,WP8:()=>w,cOw:()=>Se.cO,O9u:()=>Se.O9,w1x:()=>st,Z$H:()=>Se.Z$,IIb:()=>P,YZe:()=>rt,SIe:()=>T,twQ:()=>Me,k7N:()=>Se.k7,nEC:()=>Se.nE,ifV:()=>Se.if,ir0:()=>U,JcQ:()=>Se.Jc,PFn:()=>Se.PF,ayO:()=>Se.ay,ybs:()=>i,A7z:()=>n.A7,JNT:()=>v,HDJ:()=>de,k55:()=>xe,mm9:()=>G,RNf:()=>Ie,gIc:()=>be,zJ0:()=>ee,vpA:()=>Y,l7o:()=>W,DYj:()=>Je,pfJ:()=>_e,xPW:()=>fe,MVu:()=>Ee,qdg:()=>Xe,AmR:()=>h,Lmx:()=>J,P8p:()=>ge,fAG:()=>Se.fA,iVx:()=>l,wVD:()=>f,s_d:()=>n.s_,yRu:()=>N,y5U:()=>Ne,VbR:()=>j,lyu:()=>Fe,uhU:()=>ue,tPK:()=>Ze,Z24:()=>Ue,VE:()=>Z,AQD:()=>y,V$5:()=>k,WaW:()=>it,pPy:()=>Ye,YUM:()=>S,eWz:()=>et,O82:()=>B,OjG:()=>K,a9e:()=>Se.a9,RY_:()=>Se.RY,lRn:()=>Se.lR,NAW:()=>oe,NB8:()=>ae,jZS:()=>te,zPI:()=>ne,BwZ:()=>re,N9h:()=>ie,y6d:()=>ce,HV8:()=>pe,LXo:()=>se,i36:()=>le,gf:()=>H});var n=a(40069);const i=".kibana_ingest",r="/internal/fleet",s="/api/fleet",o=`${s}/epm`,l=`${s}/package_policies`,c=`${s}/agent_policies`,u=`${s}/kubernetes`,p=`${o}/packages`,d=`${p}/{pkgkey}`,g=`${p}/{pkgName}/{pkgVersion}`,_={BULK_INSTALL_PATTERN:`${p}/_bulk`,LIST_PATTERN:p,INSTALLED_LIST_PATTERN:`${o}/packages/installed`,LIMITED_LIST_PATTERN:`${p}/limited`,INFO_PATTERN:g,DATA_STREAMS_PATTERN:`${o}/data_streams`,INSTALL_FROM_REGISTRY_PATTERN:g,INSTALL_BY_UPLOAD_PATTERN:p,CUSTOM_INTEGRATIONS_PATTERN:`${o}/custom_integrations`,DELETE_PATTERN:g,INSTALL_KIBANA_ASSETS_PATTERN:`${g}/kibana_assets`,DELETE_KIBANA_ASSETS_PATTERN:`${g}/kibana_assets`,FILEPATH_PATTERN:`${g}/{filePath*}`,CATEGORIES_PATTERN:`${o}/categories`,VERIFICATION_KEY_ID:`${o}/verification_key_id`,STATS_PATTERN:`${p}/{pkgName}/stats`,BULK_ASSETS_PATTERN:`${o}/bulk_assets`,INPUTS_PATTERN:`${o}/templates/{pkgName}/{pkgVersion}/inputs`,INFO_PATTERN_DEPRECATED:d,INSTALL_FROM_REGISTRY_PATTERN_DEPRECATED:d,DELETE_PATTERN_DEPRECATED:d,REAUTHORIZE_TRANSFORMS:`${g}/transforms/authorize`},E={LIST_PATTERN:`${s}/data_streams`},f={LIST_PATTERN:`${l}`,BULK_GET_PATTERN:`${l}/_bulk_get`,INFO_PATTERN:`${l}/{packagePolicyId}`,CREATE_PATTERN:`${l}`,UPDATE_PATTERN:`${l}/{packagePolicyId}`,DELETE_PATTERN:`${l}/delete`,UPGRADE_PATTERN:`${l}/upgrade`,DRYRUN_PATTERN:`${l}/upgrade/dryrun`,ORPHANED_INTEGRATION_POLICIES:`${r}/orphaned_integration_policies`},m={LIST_PATTERN:`${c}`,BULK_GET_PATTERN:`${c}/_bulk_get`,INFO_PATTERN:`${c}/{agentPolicyId}`,CREATE_PATTERN:`${c}`,UPDATE_PATTERN:`${c}/{agentPolicyId}`,COPY_PATTERN:`${c}/{agentPolicyId}/copy`,DELETE_PATTERN:`${c}/delete`,FULL_INFO_PATTERN:`${c}/{agentPolicyId}/full`,FULL_INFO_DOWNLOAD_PATTERN:`${c}/{agentPolicyId}/download`},v={K8S_DOWNLOAD_PATTERN:`${u}/download`,K8S_INFO_PATTERN:`${u}`},h={LIST_PATTERN:`${s}/outputs`,INFO_PATTERN:`${s}/outputs/{outputId}`,UPDATE_PATTERN:`${s}/outputs/{outputId}`,DELETE_PATTERN:`${s}/outputs/{outputId}`,CREATE_PATTERN:`${s}/outputs`,GET_OUTPUT_HEALTH_PATTERN:`${s}/outputs/{outputId}/health`,LOGSTASH_API_KEY_PATTERN:`${s}/logstash_api_keys`},T={LIST_PATTERN:`${s}/fleet_server_hosts`,CREATE_PATTERN:`${s}/fleet_server_hosts`,INFO_PATTERN:`${s}/fleet_server_hosts/{itemId}`,UPDATE_PATTERN:`${s}/fleet_server_hosts/{itemId}`,DELETE_PATTERN:`${s}/fleet_server_hosts/{itemId}`,POLICY_STATUS_PATTERN:`${s}/fleet_server_policy_status`},P={LIST_PATTERN:`${s}/proxies`,CREATE_PATTERN:`${s}/proxies`,INFO_PATTERN:`${s}/proxies/{itemId}`,UPDATE_PATTERN:`${s}/proxies/{itemId}`,DELETE_PATTERN:`${s}/proxies/{itemId}`},y={INFO_PATTERN:`${s}/settings`,UPDATE_PATTERN:`${s}/settings`,ENROLLMENT_INFO_PATTERN:`${r}/settings/enrollment`,SPACE_INFO_PATTERN:`${s}/space_settings`,SPACE_UPDATE_PATTERN:`${s}/space_settings`},A={HEALTH_CHECK_PATTERN:`${s}/health_check`,CHECK_PERMISSIONS_PATTERN:`${s}/check-permissions`,GENERATE_SERVICE_TOKEN_PATTERN:`${s}/service_tokens`,AGENT_POLICIES_SPACES:`${r}/agent_policies_spaces`,GENERATE_SERVICE_TOKEN_PATTERN_DEPRECATED:`${s}/service-tokens`},I={LIST_PATTERN:`${s}/agents`,INFO_PATTERN:`${s}/agents/{agentId}`,UPDATE_PATTERN:`${s}/agents/{agentId}`,BULK_UPDATE_AGENT_TAGS_PATTERN:`${s}/agents/bulk_update_agent_tags`,DELETE_PATTERN:`${s}/agents/{agentId}`,CHECKIN_PATTERN:`${s}/agents/{agentId}/checkin`,ACKS_PATTERN:`${s}/agents/{agentId}/acks`,ACTIONS_PATTERN:`${s}/agents/{agentId}/actions`,CANCEL_ACTIONS_PATTERN:`${s}/agents/actions/{actionId}/cancel`,UNENROLL_PATTERN:`${s}/agents/{agentId}/unenroll`,BULK_UNENROLL_PATTERN:`${s}/agents/bulk_unenroll`,REASSIGN_PATTERN:`${s}/agents/{agentId}/reassign`,BULK_REASSIGN_PATTERN:`${s}/agents/bulk_reassign`,REQUEST_DIAGNOSTICS_PATTERN:`${s}/agents/{agentId}/request_diagnostics`,BULK_REQUEST_DIAGNOSTICS_PATTERN:`${s}/agents/bulk_request_diagnostics`,AVAILABLE_VERSIONS_PATTERN:`${s}/agents/available_versions`,STATUS_PATTERN:`${s}/agent_status`,DATA_PATTERN:`${s}/agent_status/data`,STATUS_PATTERN_DEPRECATED:`${s}/agent-status`,UPGRADE_PATTERN:`${s}/agents/{agentId}/upgrade`,BULK_UPGRADE_PATTERN:`${s}/agents/bulk_upgrade`,ACTION_STATUS_PATTERN:`${s}/agents/action_status`,LIST_TAGS_PATTERN:`${s}/agents/tags`,LIST_UPLOADS_PATTERN:`${s}/agents/{agentId}/uploads`,GET_UPLOAD_FILE_PATTERN:`${s}/agents/files/{fileId}/{fileName}`,DELETE_UPLOAD_FILE_PATTERN:`${s}/agents/files/{fileId}`},b={CREATE_PATTERN:`${s}/enrollment_api_keys`,LIST_PATTERN:`${s}/enrollment_api_keys`,INFO_PATTERN:`${s}/enrollment_api_keys/{keyId}`,DELETE_PATTERN:`${s}/enrollment_api_keys/{keyId}`,CREATE_PATTERN_DEPRECATED:`${s}/enrollment-api-keys`,LIST_PATTERN_DEPRECATED:`${s}/enrollment-api-keys`,INFO_PATTERN_DEPRECATED:`${s}/enrollment-api-keys/{keyId}`,DELETE_PATTERN_DEPRECATED:`${s}/enrollment-api-keys/{keyId}`},S={LIST_PATTERN:`${s}/uninstall_tokens`,INFO_PATTERN:`${s}/uninstall_tokens/{uninstallTokenId}`},R={INFO_PATTERN:`${s}/agents/setup`,CREATE_PATTERN:`${s}/agents/setup`},k=`${s}/setup`,N={RESET_PATTERN:`${r}/reset_preconfigured_agent_policies`,RESET_ONE_PATTERN:`${r}/reset_preconfigured_agent_policies/{agentPolicyId}`},L={LIST_PATTERN:`${s}/agent_download_sources`,INFO_PATTERN:`${s}/agent_download_sources/{sourceId}`,CREATE_PATTERN:`${s}/agent_download_sources`,UPDATE_PATTERN:`${s}/agent_download_sources/{sourceId}`,DELETE_PATTERN:`${s}/agent_download_sources/{sourceId}`},O=`${r}/create_standalone_agent_api_key`,w={INDEX_PATTERN:`${r}/debug/index`,SAVED_OBJECTS_PATTERN:`${r}/debug/saved_objects`,SAVED_OBJECT_NAMES_PATTERN:`${r}/debug/saved_object_names`},$={public:{v1:"2023-10-31"},internal:{v1:"1"}},x="fleet-agents",D=3e4,C=".fleet-agents",M=".fleet-actions",F=".fleet-actions-results",U=["STARTING","CONFIGURING","HEALTHY","DEGRADED","FAILED","STOPPING","STOPPED"],B=`${x}.local_metadata.elastic.agent.unprivileged: true`,j=`not ${x}.local_metadata.elastic.agent.unprivileged: true`,G="ingest-agent-policies",V="fleet-agent-policies",q=".fleet-policies",K={Active:"active",Inactive:"inactive"},W="platinum",Q=750,z=["error","warning","info","debug"],X="info",J="ingest-outputs",H={Elasticsearch:"elasticsearch",Logstash:"logstash",Kafka:"kafka",RemoteElasticsearch:"remote_elasticsearch"},Z=(H.Elasticsearch,"es-default-output"),Y="platinum",ee="enterprise",te={None:"none",Snappy:"snappy",Lz4:"lz4",Gzip:"gzip"},ae={Userpass:"user_pass",Ssl:"ssl",Kerberos:"kerberos",None:"none"},ne={Plaintext:"plaintext",Encryption:"encryption"},ie={Plain:"PLAIN",ScramSha256:"SCRAM-SHA-256",ScramSha512:"SCRAM-SHA-512"},re={Random:"random",RoundRobin:"round_robin",Hash:"hash"},se={Static:"static",Dynamic:"dynamic"},oe={Commit:1,Replica:-1,DoNotWait:0},le={Full:"full",None:"none",Strict:"strict",Certificate:"certificate"},ce=["0.8.2.0","0.8.2.1","0.8.2.2","0.9.0.0","0.9.0.1","0.10.0.0","0.10.0.1","0.10.1.0","0.10.1.1","0.10.2.0","0.10.2.1","0.10.2.2","0.11.0.0","0.11.0.1","0.11.0.2","0.11.0.3","1.0.0","1.0.1","1.0.2","1.1.0","1.1.1","2.0.0","2.0.1","2.1.0","2.1.1","2.2.0","2.2.1","2.2.2","2.3.0","2.3.1","2.4.0","2.4.1","2.5.0","2.5.1","2.6.0"],ue=["bulk_max_size","compression_level","connection_idle_timeout","queue.mem.events","queue.mem.flush.min_events","queue.mem.flush.timeout","worker"],pe=[{id:se.Static,label:"Static Topic","data-test-subj":"kafkaTopicStaticRadioButton"},{id:se.Dynamic,label:"Dynamic Topic","data-test-subj":"kafkaTopicDynamicRadioButton"}],de=["data_stream.type","data_stream.dataset","data_stream.namespace","@timestamp","event.dataset"],ge=[H.Elasticsearch,H.RemoteElasticsearch],_e=["monitor","manage_own_api_key"],Ee=["auto_configure","create_doc"],fe=["logs-*-*","metrics-*-*","traces-*-*","synthetics-*-*",".logs-endpoint.diagnostic.collection-*",".logs-endpoint.action.responses-*","profiling-*",".profiling-*"],me=3600,ve=["logs","metrics"],he="organization",Te="division",Pe="team",ye=[H.Elasticsearch],Ae=["tcp","udp","filestream","http_endpoint","winlog","o365audit","gcp-pubsub","azure-eventhub","logfile","aws-s3","streaming"],Ie="ingest-package-policies",be="enterprise";var Se=a(53228);const Re=".fleet-enrollment-api-keys";var ke=a(30770);const Ne="fleet-preconfiguration-deletion-record",Le="latest",Oe=Se.eJ.map((e=>({name:e,version:Le}))),we=Se.Xn.map((e=>({name:e,version:Le}))),$e=[Se.if,Se.cO,Se.k7].map((e=>({name:e,version:Le}))),xe=(0,ke.uniqBy)([...we,...$e,...Oe],(({name:e})=>e)),De="https://artifacts.elastic.co/downloads/",Ce="ingest-download-sources",Me="fleet-fleet-server-host",Fe=/^(http[s]?|socks5):\/\/[^\s$.?#].[^\s]*$/gm,Ue="default-fleet-server";var Be=a(69433),je=a(24156);const Ge="siemV2",Ve=(0,Be.deepFreeze)({readSecuritySolution:{appId:Ge,privilegeSplit:"/",privilegeType:"ui",privilegeName:"show"},writeSecuritySolution:{appId:Ge,privilegeSplit:"/",privilegeType:"ui",privilegeName:"crud"},writeEndpointList:{appId:je.DEFAULT_APP_CATEGORIES.security.id,privilegeSplit:"-",privilegeType:"api",privilegeName:"writeEndpointList"},readEndpointList:{appId:je.DEFAULT_APP_CATEGORIES.security.id,privilegeSplit:"-",privilegeType:"api",privilegeName:"readEndpointList"},writeTrustedApplications:{appId:je.DEFAULT_APP_CATEGORIES.security.id,privilegeSplit:"-",privilegeType:"api",privilegeName:"writeTrustedApplications"},readTrustedApplications:{appId:je.DEFAULT_APP_CATEGORIES.security.id,privilegeSplit:"-",privilegeType:"api",privilegeName:"readTrustedApplications"},writeHostIsolationExceptions:{appId:je.DEFAULT_APP_CATEGORIES.security.id,privilegeSplit:"-",privilegeType:"api",privilegeName:"writeHostIsolationExceptions"},readHostIsolationExceptions:{appId:je.DEFAULT_APP_CATEGORIES.security.id,privilegeSplit:"-",privilegeType:"api",privilegeName:"readHostIsolationExceptions"},accessHostIsolationExceptions:{appId:je.DEFAULT_APP_CATEGORIES.security.id,privilegeSplit:"-",privilegeType:"api",privilegeName:"accessHostIsolationExceptions"},deleteHostIsolationExceptions:{appId:je.DEFAULT_APP_CATEGORIES.security.id,privilegeSplit:"-",privilegeType:"api",privilegeName:"deleteHostIsolationExceptions"},writeBlocklist:{appId:je.DEFAULT_APP_CATEGORIES.security.id,privilegeSplit:"-",privilegeType:"api",privilegeName:"writeBlocklist"},readBlocklist:{appId:je.DEFAULT_APP_CATEGORIES.security.id,privilegeSplit:"-",privilegeType:"api",privilegeName:"readBlocklist"},writeEventFilters:{appId:je.DEFAULT_APP_CATEGORIES.security.id,privilegeSplit:"-",privilegeType:"api",privilegeName:"writeEventFilters"},readEventFilters:{appId:je.DEFAULT_APP_CATEGORIES.security.id,privilegeSplit:"-",privilegeType:"api",privilegeName:"readEventFilters"},writePolicyManagement:{appId:je.DEFAULT_APP_CATEGORIES.security.id,privilegeSplit:"-",privilegeType:"api",privilegeName:"writePolicyManagement"},readPolicyManagement:{appId:je.DEFAULT_APP_CATEGORIES.security.id,privilegeSplit:"-",privilegeType:"api",privilegeName:"readPolicyManagement"},writeActionsLogManagement:{appId:je.DEFAULT_APP_CATEGORIES.security.id,privilegeSplit:"-",privilegeType:"api",privilegeName:"writeActionsLogManagement"},readActionsLogManagement:{appId:je.DEFAULT_APP_CATEGORIES.security.id,privilegeSplit:"-",privilegeType:"api",privilegeName:"readActionsLogManagement"},writeHostIsolation:{appId:je.DEFAULT_APP_CATEGORIES.security.id,privilegeSplit:"-",privilegeType:"api",privilegeName:"writeHostIsolation"},writeHostIsolationRelease:{appId:je.DEFAULT_APP_CATEGORIES.security.id,privilegeSplit:"-",privilegeType:"api",privilegeName:"writeHostIsolationRelease"},writeProcessOperations:{appId:je.DEFAULT_APP_CATEGORIES.security.id,privilegeSplit:"-",privilegeType:"api",privilegeName:"writeProcessOperations"},writeFileOperations:{appId:je.DEFAULT_APP_CATEGORIES.security.id,privilegeSplit:"-",privilegeType:"api",privilegeName:"writeFileOperations"},writeExecuteOperations:{appId:je.DEFAULT_APP_CATEGORIES.security.id,privilegeSplit:"-",privilegeType:"api",privilegeName:"writeExecuteOperations"},writeScanOperations:{appId:je.DEFAULT_APP_CATEGORIES.security.id,privilegeSplit:"-",privilegeType:"api",privilegeName:"writeScanOperations"},writeWorkflowInsights:{appId:je.DEFAULT_APP_CATEGORIES.security.id,privilegeSplit:"-",privilegeType:"api",privilegeName:"writeWorkflowInsights"},readWorkflowInsights:{appId:je.DEFAULT_APP_CATEGORIES.security.id,privilegeSplit:"-",privilegeType:"api",privilegeName:"readWorkflowInsights"}}),qe=(0,Be.deepFreeze)({showEndpointExceptions:{appId:je.DEFAULT_APP_CATEGORIES.security.id,privilegeSplit:"-",privilegeType:"api",privilegeName:"showEndpointExceptions"},crudEndpointExceptions:{appId:je.DEFAULT_APP_CATEGORIES.security.id,privilegeSplit:"-",privilegeType:"api",privilegeName:"crudEndpointExceptions"}}),Ke=".fleet-fileds-fromhost-meta-*",We=".fleet-fileds-fromhost-data-*",Qe=".fleet-fileds-tohost-meta-*",ze=".fleet-fileds-tohost-data-*",Xe=(Object.keys({elastic_agent:{name:"agent",fromHost:!0,toHost:!1},endpoint:{name:"endpoint",fromHost:!0,toHost:!0}}),"fleet-message-signing-keys"),Je={APM_LOCATOR:"APM_LOCATOR",DASHBOARD_APP:"DASHBOARD_APP_LOCATOR",DISCOVER_APP_LOCATOR:"DISCOVER_APP_LOCATOR"},He={ELASTIC_AGENT_OVERVIEW:"elastic_agent-a148dc70-6b3c-11ed-98de-67bdecd21824",ELASTIC_AGENT_AGENT_INFO:"elastic_agent-0600ffa0-6b5e-11ed-98de-67bdecd21824",ELASTIC_AGENT_AGENT_METRICS:"elastic_agent-f47f18cc-9c7d-4278-b2ea-a6dee816d395",ELASTIC_AGENT_INTEGRATIONS:"elastic_agent-1a4e7280-6b5e-11ed-98de-67bdecd21824"},Ze="8.10.0",Ye="fleet-uninstall-tokens",et="?",tt={properties:{agent_features:{properties:{name:{type:"keyword"},enabled:{type:"boolean"}}},data_output_id:{type:"keyword"},description:{type:"text"},download_source_id:{type:"keyword"},fleet_server_host_id:{type:"keyword"},inactivity_timeout:{type:"integer"},is_default:{type:"boolean"},is_default_fleet_server:{type:"boolean"},is_managed:{type:"boolean"},is_preconfigured:{type:"keyword"},is_protected:{type:"boolean"},monitoring_enabled:{type:"keyword",index:!1},monitoring_output_id:{type:"keyword"},name:{type:"keyword"},namespace:{type:"keyword"},revision:{type:"integer"},schema_version:{type:"version"},status:{type:"keyword"},unenroll_timeout:{type:"integer"},updated_at:{type:"date"},updated_by:{type:"keyword"}}},at={properties:{access_api_key_id:{type:"keyword"},action_seq_no:{type:"integer"},active:{type:"boolean"},agent:{properties:{id:{type:"keyword"},version:{type:"keyword"}}},default_api_key:{type:"keyword"},default_api_key_id:{type:"keyword"},enrollment_id:{type:"keyword"},enrolled_at:{type:"date"},last_checkin:{type:"date"},last_checkin_message:{type:"text",properties:{keyword:{type:"keyword"}}},last_checkin_status:{type:"keyword"},last_updated:{type:"date"},local_metadata:{properties:{elastic:{properties:{agent:{properties:{build:{properties:{original:{type:"text",properties:{keyword:{type:"keyword"}}}}},id:{type:"keyword"},log_level:{type:"keyword"},snapshot:{type:"boolean"},upgradeable:{type:"boolean"},version:{type:"text",properties:{keyword:{type:"keyword"}}},unprivileged:{type:"boolean"}}}}},host:{properties:{architecture:{type:"keyword"},hostname:{type:"text",properties:{keyword:{type:"keyword"}}},id:{type:"keyword"},ip:{type:"text",properties:{keyword:{type:"keyword"}}},mac:{type:"text",properties:{keyword:{type:"keyword"}}},name:{type:"text",properties:{keyword:{type:"keyword"}}}}},os:{properties:{family:{type:"keyword"},full:{type:"text",properties:{keyword:{type:"keyword"}}},kernel:{type:"text",properties:{keyword:{type:"keyword"}}},name:{type:"text",properties:{keyword:{type:"keyword"}}},platform:{type:"keyword"},version:{type:"text",properties:{keyword:{type:"keyword"}}}}}}},namespaces:{type:"keyword"},packages:{type:"keyword"},policy_output_permissions_hash:{type:"keyword"},policy_coordinator_idx:{type:"integer"},policy_id:{type:"keyword"},policy_revision_idx:{type:"integer"},type:{type:"keyword"},tags:{type:"keyword"},unenrolled_at:{type:"date"},unenrollment_started_at:{type:"date"},unenrolled_reason:{type:"keyword"},unhealthy_reason:{type:"keyword"},updated_at:{type:"date"},upgrade_started_at:{type:"date"},upgraded_at:{type:"date"},upgrade_status:{type:"keyword"},upgrade_details:{properties:{target_version:{type:"text",fields:{keyword:{type:"keyword"}}},action_id:{type:"keyword"},state:{type:"keyword"},metadata:{properties:{scheduled_at:{type:"date"},download_percent:{type:"double"},download_rate:{type:"double"},failed_state:{type:"keyword"},error_msg:{type:"text",fields:{keyword:{type:"keyword"}}},retry_error_msg:{type:"text",fields:{keyword:{type:"keyword"}}},retry_until:{type:"date"}}}}},status:{type:"keyword"}}},nt={properties:{active:{type:"boolean"},api_key:{type:"keyword"},api_key_id:{type:"keyword"},created_at:{type:"date"},expire_at:{type:"date"},name:{type:"keyword"},policy_id:{type:"keyword"},updated_at:{type:"date"}}},it=1e4,rt=".fleet-artifacts",st="fleet-enrollment-api-keys"},40069:(e,t,a)=>{"use strict";a.d(t,{A7:()=>i,A8:()=>r,s_:()=>n});const n="fleet",i="integrations",r="elasticsearch"},74631:(e,t,a)=>{"use strict";a.d(t,{bM:()=>OutputInvalidError});var n=a(68915);class FleetError extends Error{constructor(e,t){super(e),(0,n.default)(this,"attributes",void 0),this.meta=t,this.name=this.constructor.name}}class OutputInvalidError extends FleetError{}},5850:(e,t,a)=>{"use strict";a.r(t),a.d(t,{AGENTS_INDEX:()=>n.QFY,AGENTS_PREFIX:()=>n.AhM,AGENTS_SETUP_API_ROUTES:()=>n.LZ9,AGENT_ACTIONS_INDEX:()=>n.XpO,AGENT_ACTIONS_RESULTS_INDEX:()=>n.eEq,AGENT_API_ROUTES:()=>n.CgZ,AGENT_POLICY_API_ROUTES:()=>n.D3b,AGENT_POLICY_INDEX:()=>n.SZL,AGENT_POLICY_SAVED_OBJECT_TYPE:()=>n.kec,AGENT_UPDATE_LAST_CHECKIN_INTERVAL_MS:()=>n.cM3,API_VERSIONS:()=>n.BoD,APP_API_ROUTES:()=>n.m9R,ASSETS_SAVED_OBJECT_TYPE:()=>n.VBR,DASHBOARD_LOCATORS_IDS:()=>n.K$s,ENDPOINT_PRIVILEGES:()=>n.PBo,EPM_API_ROUTES:()=>n.LW$,ElasticsearchAssetType:()=>r.Ip,FLEET_APM_PACKAGE:()=>n.PIK,FLEET_CLOUD_DEFEND_PACKAGE:()=>n.lil,FLEET_CLOUD_SECURITY_POSTURE_CNVM_POLICY_TEMPLATE:()=>n.ytS,FLEET_CLOUD_SECURITY_POSTURE_CSPM_POLICY_TEMPLATE:()=>n.lT_,FLEET_CLOUD_SECURITY_POSTURE_KSPM_POLICY_TEMPLATE:()=>n.ngP,FLEET_CLOUD_SECURITY_POSTURE_PACKAGE:()=>n.gxp,FLEET_ELASTIC_AGENT_PACKAGE:()=>n.cOw,FLEET_ENDPOINT_PACKAGE:()=>n.O9u,FLEET_ENROLLMENT_API_PREFIX:()=>n.w1x,FLEET_KUBERNETES_PACKAGE:()=>n.Z$H,FLEET_SERVER_ARTIFACTS_INDEX:()=>n.YZe,FLEET_SERVER_PACKAGE:()=>n.k7N,FLEET_SYNTHETICS_PACKAGE:()=>n.nEC,FLEET_SYSTEM_PACKAGE:()=>n.ifV,FleetServerAgentComponentStatuses:()=>n.ir0,INTEGRATIONS_PLUGIN_ID:()=>n.A7z,INVALID_NAMESPACE_CHARACTERS:()=>i.bx,LEGACY_AGENT_POLICY_SAVED_OBJECT_TYPE:()=>n.mm9,MESSAGE_SIGNING_KEYS_SAVED_OBJECT_TYPE:()=>n.qdg,OUTPUT_SAVED_OBJECT_TYPE:()=>n.Lmx,PACKAGES_SAVED_OBJECT_TYPE:()=>n.fAG,PACKAGE_POLICY_API_ROOT:()=>n.iVx,PACKAGE_POLICY_API_ROUTES:()=>n.wVD,PACKAGE_POLICY_SAVED_OBJECT_TYPE:()=>n.RNf,PLUGIN_ID:()=>n.s_d,PRECONFIGURATION_DELETION_RECORD_SAVED_OBJECT_TYPE:()=>n.y5U,SETUP_API_ROUTE:()=>n.V$5,SO_SEARCH_LIMIT:()=>n.WaW,UNINSTALL_TOKENS_SAVED_OBJECT_TYPE:()=>n.pPy,agentPolicyRouteService:()=>i.M5,agentPolicyStatuses:()=>n.OjG,agentRouteService:()=>i.AQ,appRoutesService:()=>i.RI,epmRouteService:()=>i.P_,fleetSetupRouteService:()=>i.Gg,getFileDataIndexName:()=>i.g1,getFileMetadataIndexName:()=>i.xF,getSortConfig:()=>i.D$,isValidDataset:()=>i.zc,isValidNamespace:()=>i.RE,packagePolicyRouteService:()=>i.Jg,removeSOAttributes:()=>i.u7,setupRouteService:()=>i.Sx});var n=a(4408),i=a(7975),r=a(19573)},97877:(e,t,a)=>{"use strict";a.d(t,{Rm:()=>o,UH:()=>r,ob:()=>s,oe:()=>l,w0:()=>u});var n=a(21254),i=a(4408);function r(e){return e&&""!==e&&e!==n.DEFAULT_SPACE_ID?`${e}-fleet-server-policy`:"fleet-server-policy"}function s(e){var t;return(null===(t=e.package_policies)||void 0===t?void 0:t.some((e=>{var t;return(null===(t=e.package)||void 0===t?void 0:t.name)===i.k7N})))||!!e.has_fleet_server}function o(e){return c(e,i.nEC)}function l(e){return c(e,i.O9u)}function c(e,t){var a;return!!e.package_policies&&(null===(a=e.package_policies)||void 0===a?void 0:a.some((e=>{var a;return(null===(a=e.package)||void 0===a?void 0:a.name)===t})))}function u(e,t){return 1===e.length?e[0].namespace:null!=t?t:"default"}},30135:(e,t,a)=>{"use strict";function n(e){var t,a;return e.unenrollment_started_at&&!e.unenrolled_at?"unenrolling":"error"===(null===(t=e.last_checkin_status)||void 0===t?void 0:t.toLowerCase())?"error":"degraded"===(null===(a=e.last_checkin_status)||void 0===a?void 0:a.toLowerCase())?"degraded":!("policy_revision"in e?e.policy_revision:"policy_revision_idx"in e?e.policy_revision_idx:void 0)||e.upgrade_started_at&&!e.upgraded_at?"updating":void 0}function i(){return"status:unenrolled"}function r(){return"status:online"}function s(){return"(status:error or status:degraded)"}function o(){return"status:offline"}function l(){return"(status:updating or status:unenrolling or status:enrolling)"}function c(){return"status:inactive"}a.r(t),a.d(t,{AGENT_UPDATING_TIMEOUT_HOURS:()=>u,buildKueryForErrorAgents:()=>s,buildKueryForInactiveAgents:()=>c,buildKueryForOfflineAgents:()=>o,buildKueryForOnlineAgents:()=>r,buildKueryForUnenrolledAgents:()=>i,buildKueryForUpdatingAgents:()=>l,getPreviousAgentStatusForOfflineAgents:()=>n,isAgentInFailedUpgradeState:()=>d,isStuckInUpdating:()=>p});const u=2;function p(e){var t,a;return"offline"!==e.status&&e.active&&d(e)||"updating"===e.status&&!!e.upgrade_started_at&&!e.upgraded_at&&(a=e.upgrade_started_at,Date.now()-Date.parse(a)>60*u*60*1e3)&&!(null!==(t=e.upgrade_details)&&void 0!==t&&t.state)}function d(e){var t;return"UPG_FAILED"===(null===(t=e.upgrade_details)||void 0===t?void 0:t.state)}},83424:(e,t,a)=>{"use strict";a.d(t,{b:()=>r});var n=a(4408);const i=1209600;function r(e={}){return{name:"",description:"",namespace:"default",monitoring_enabled:Object.values(n.a9e),inactivity_timeout:i,is_protected:!1,...e}}},7975:(e,t,a)=>{"use strict";a.d(t,{Qv:()=>H.Qv,ir:()=>T,bx:()=>z,XU:()=>LicenseService,dS:()=>ee,M5:()=>s,AQ:()=>c,db:()=>Le,RI:()=>_,W_:()=>oe,nB:()=>o,xw:()=>h,LO:()=>H.LO,tE:()=>G,zh:()=>ae,f$:()=>v,ed:()=>E,P_:()=>i,Je:()=>w,II:()=>p,i2:()=>d,Gg:()=>l,T9:()=>U,bN:()=>we.b,hP:()=>Ne.hP,cg:()=>Pe,w9:()=>Ae,g1:()=>be,xF:()=>Ie,Ri:()=>Me,w0:()=>Oe.w0,sW:()=>de,df:()=>he,Fl:()=>N,A:()=>k,zm:()=>H.zm,U5:()=>Re,FE:()=>ye,E6:()=>Te,vN:()=>x,uo:()=>I,Ls:()=>A,D$:()=>Be,pk:()=>$,fx:()=>te,vJ:()=>H.vJ,_3:()=>H._3,Bv:()=>Fe,Ht:()=>X,r5:()=>S,vp:()=>R,Rh:()=>j,Fc:()=>Se,KM:()=>y,zc:()=>W,RE:()=>K,E9:()=>ke,jj:()=>u,Jg:()=>r,eE:()=>M,HP:()=>C,oe:()=>Oe.oe,ob:()=>Oe.ob,Rm:()=>Oe.Rm,u7:()=>Ue,B4:()=>g,Sx:()=>m,CB:()=>pe,T4:()=>f,bS:()=>re,nb:()=>se,nt:()=>le});var n=a(4408);const i={getVerificationKeyIdPath:()=>n.LW$.VERIFICATION_KEY_ID,getCategoriesPath:()=>n.LW$.CATEGORIES_PATTERN,getListPath:()=>n.LW$.LIST_PATTERN,getListLimitedPath:()=>n.LW$.LIMITED_LIST_PATTERN,getInfoPath:(e,t)=>t?n.LW$.INFO_PATTERN.replace("{pkgName}",e).replace("{pkgVersion}",t):n.LW$.INFO_PATTERN.replace("{pkgName}",e).replace("/{pkgVersion}",""),getStatsPath:e=>n.LW$.STATS_PATTERN.replace("{pkgName}",e),getFilePath:e=>`${n.NCp}${e.replace("/package","/packages")}`,getInstallPath:(e,t)=>n.LW$.INSTALL_FROM_REGISTRY_PATTERN.replace("{pkgName}",e).replace("{pkgVersion}",t).replace(/\/$/,""),getBulkInstallPath:()=>n.LW$.BULK_INSTALL_PATTERN,getRemovePath:(e,t)=>n.LW$.DELETE_PATTERN.replace("{pkgName}",e).replace("{pkgVersion}",t).replace(/\/$/,""),getInstallKibanaAssetsPath:(e,t)=>n.LW$.INSTALL_KIBANA_ASSETS_PATTERN.replace("{pkgName}",e).replace("{pkgVersion}",t).replace(/\/$/,""),getUpdatePath:(e,t)=>n.LW$.INFO_PATTERN.replace("{pkgName}",e).replace("{pkgVersion}",t),getReauthorizeTransformsPath:(e,t)=>n.LW$.REAUTHORIZE_TRANSFORMS.replace("{pkgName}",e).replace("{pkgVersion}",t).replace(/\/$/,""),getBulkAssetsPath:()=>n.LW$.BULK_ASSETS_PATTERN,getInputsTemplatesPath:(e,t)=>n.LW$.INPUTS_PATTERN.replace("{pkgName}",e).replace("{pkgVersion}",t)},r={getListPath:()=>n.wVD.LIST_PATTERN,getInfoPath:e=>n.wVD.INFO_PATTERN.replace("{packagePolicyId}",e),getCreatePath:()=>n.wVD.CREATE_PATTERN,getUpdatePath:e=>n.wVD.UPDATE_PATTERN.replace("{packagePolicyId}",e),getDeletePath:()=>n.wVD.DELETE_PATTERN,getUpgradePath:()=>n.wVD.UPGRADE_PATTERN,getDryRunPath:()=>n.wVD.DRYRUN_PATTERN,getOrphanedIntegrationPoliciesPath:()=>n.wVD.ORPHANED_INTEGRATION_POLICIES},s={getListPath:()=>n.D3b.LIST_PATTERN,getBulkGetPath:()=>n.D3b.BULK_GET_PATTERN,getInfoPath:e=>n.D3b.INFO_PATTERN.replace("{agentPolicyId}",e),getCreatePath:()=>n.D3b.CREATE_PATTERN,getUpdatePath:e=>n.D3b.UPDATE_PATTERN.replace("{agentPolicyId}",e),getCopyPath:e=>n.D3b.COPY_PATTERN.replace("{agentPolicyId}",e),getDeletePath:()=>n.D3b.DELETE_PATTERN,getInfoFullPath:e=>n.D3b.FULL_INFO_PATTERN.replace("{agentPolicyId}",e),getInfoFullDownloadPath:e=>n.D3b.FULL_INFO_DOWNLOAD_PATTERN.replace("{agentPolicyId}",e),getK8sInfoPath:()=>n.JNT.K8S_INFO_PATTERN,getK8sFullDownloadPath:()=>n.JNT.K8S_DOWNLOAD_PATTERN,getResetOnePreconfiguredAgentPolicyPath:e=>n.yRu.RESET_ONE_PATTERN.replace("{agentPolicyId}",e),getResetAllPreconfiguredAgentPolicyPath:()=>n.yRu.RESET_PATTERN},o={getListPath:()=>n.KMo.LIST_PATTERN},l={getFleetSetupPath:()=>n.LZ9.INFO_PATTERN,postFleetSetupPath:()=>n.LZ9.CREATE_PATTERN},c={getInfoPath:e=>n.CgZ.INFO_PATTERN.replace("{agentId}",e),getUpdatePath:e=>n.CgZ.UPDATE_PATTERN.replace("{agentId}",e),getBulkUpdateTagsPath:()=>n.CgZ.BULK_UPDATE_AGENT_TAGS_PATTERN,getUnenrollPath:e=>n.CgZ.UNENROLL_PATTERN.replace("{agentId}",e),getBulkUnenrollPath:()=>n.CgZ.BULK_UNENROLL_PATTERN,getReassignPath:e=>n.CgZ.REASSIGN_PATTERN.replace("{agentId}",e),getBulkReassignPath:()=>n.CgZ.BULK_REASSIGN_PATTERN,getUpgradePath:e=>n.CgZ.UPGRADE_PATTERN.replace("{agentId}",e),getBulkUpgradePath:()=>n.CgZ.BULK_UPGRADE_PATTERN,getActionStatusPath:()=>n.CgZ.ACTION_STATUS_PATTERN,getCancelActionPath:e=>n.CgZ.CANCEL_ACTIONS_PATTERN.replace("{actionId}",e),getListPath:()=>n.CgZ.LIST_PATTERN,getStatusPath:()=>n.CgZ.STATUS_PATTERN,getIncomingDataPath:()=>n.CgZ.DATA_PATTERN,getCreateActionPath:e=>n.CgZ.ACTIONS_PATTERN.replace("{agentId}",e),getListTagsPath:()=>n.CgZ.LIST_TAGS_PATTERN,getAvailableVersionsPath:()=>n.CgZ.AVAILABLE_VERSIONS_PATTERN,getRequestDiagnosticsPath:e=>n.CgZ.REQUEST_DIAGNOSTICS_PATTERN.replace("{agentId}",e),getBulkRequestDiagnosticsPath:()=>n.CgZ.BULK_REQUEST_DIAGNOSTICS_PATTERN,getListAgentUploads:e=>n.CgZ.LIST_UPLOADS_PATTERN.replace("{agentId}",e),getAgentFileDownloadLink:(e,t)=>n.CgZ.GET_UPLOAD_FILE_PATTERN.replace("{fileId}",e).replace("{fileName}",t),getAgentFileDeletePath:e=>n.CgZ.DELETE_UPLOAD_FILE_PATTERN.replace("{fileId}",e),getAgentsByActionsPath:()=>n.CgZ.LIST_PATTERN},u={getInfoPath:e=>n.AmR.INFO_PATTERN.replace("{outputId}",e),getUpdatePath:e=>n.AmR.UPDATE_PATTERN.replace("{outputId}",e),getListPath:()=>n.AmR.LIST_PATTERN,getDeletePath:e=>n.AmR.DELETE_PATTERN.replace("{outputId}",e),getCreatePath:()=>n.AmR.CREATE_PATTERN,getCreateLogstashApiKeyPath:()=>n.AmR.LOGSTASH_API_KEY_PATTERN,getOutputHealthPath:e=>n.AmR.GET_OUTPUT_HEALTH_PATTERN.replace("{outputId}",e)},p={getInfoPath:e=>n.IIb.INFO_PATTERN.replace("{itemId}",e),getUpdatePath:e=>n.IIb.UPDATE_PATTERN.replace("{itemId}",e),getListPath:()=>n.IIb.LIST_PATTERN,getDeletePath:e=>n.IIb.DELETE_PATTERN.replace("{itemId}",e),getCreatePath:()=>n.IIb.CREATE_PATTERN},d={getInfoPath:e=>n.SIe.INFO_PATTERN.replace("{itemId}",e),getUpdatePath:e=>n.SIe.UPDATE_PATTERN.replace("{itemId}",e),getListPath:()=>n.SIe.LIST_PATTERN,getDeletePath:e=>n.SIe.DELETE_PATTERN.replace("{itemId}",e),getCreatePath:()=>n.SIe.CREATE_PATTERN,getPolicyStatusPath:()=>n.SIe.POLICY_STATUS_PATTERN},g={getInfoPath:()=>n.AQD.INFO_PATTERN,getUpdatePath:()=>n.AQD.UPDATE_PATTERN,getEnrollmentInfoPath:()=>n.AQD.ENROLLMENT_INFO_PATTERN,getSpaceInfoPath:()=>n.AQD.SPACE_INFO_PATTERN},_={getCheckPermissionsPath:()=>n.m9R.CHECK_PERMISSIONS_PATTERN,getRegenerateServiceTokenPath:()=>n.m9R.GENERATE_SERVICE_TOKEN_PATTERN,postHealthCheckPath:()=>n.m9R.HEALTH_CHECK_PATTERN,getAgentPoliciesSpacesPath:()=>n.m9R.AGENT_POLICIES_SPACES},E={getListPath:()=>n.ZCu.LIST_PATTERN,getCreatePath:()=>n.ZCu.CREATE_PATTERN,getInfoPath:e=>n.ZCu.INFO_PATTERN.replace("{keyId}",e),getDeletePath:e=>n.ZCu.DELETE_PATTERN.replace("{keyId}",e)},f={getListPath:()=>n.YUM.LIST_PATTERN,getInfoPath:e=>n.YUM.INFO_PATTERN.replace("{uninstallTokenId}",e)},m={getSetupPath:()=>n.V$5},v={getInfoPath:e=>n.VDX.INFO_PATTERN.replace("{sourceId}",e),getUpdatePath:e=>n.VDX.UPDATE_PATTERN.replace("{sourceId}",e),getListPath:()=>n.VDX.LIST_PATTERN,getDeletePath:e=>n.VDX.DELETE_PATTERN.replace("{sourceId}",e),getCreatePath:()=>n.VDX.CREATE_PATTERN},h={getIndexPath:()=>n.WP8.INDEX_PATTERN,getSavedObjectsPath:()=>n.WP8.SAVED_OBJECTS_PATTERN,getSavedObjectNamesPath:()=>n.WP8.SAVED_OBJECT_NAMES_PATTERN};var T=a(30135),P=a(30770);function y(e){var t,a,n;return(null===(t=e.agent)||void 0===t||null===(a=t.privileges)||void 0===a?void 0:a.root)||(null===(n=e.data_streams)||void 0===n?void 0:n.some((e=>{var t,a;return null===(t=e.agent)||void 0===t||null===(a=t.privileges)||void 0===a?void 0:a.root})))}function A(e){var t,a,n,i;return null!==(t=e.agent)&&void 0!==t&&null!==(a=t.privileges)&&void 0!==a&&a.root?[]:null!==(n=null===(i=e.data_streams)||void 0===i?void 0:i.filter((e=>{var t,a;return null===(t=e.agent)||void 0===t||null===(a=t.privileges)||void 0===a?void 0:a.root})).map((e=>({name:e.name,title:e.title}))))&&void 0!==n?n:[]}function I(e){return(0,P.uniqBy)(e.map((e=>e.package)).filter((e=>e&&e.requires_root||!1)),(e=>e.name)).map((e=>({name:e.name,title:e.title})))}const b={name:n.XPn,type:"text",title:"Dataset name",description:"Set the name for your dataset. Once selected a dataset cannot be changed without creating a new integration policy. You can't use `-` in the name of a dataset and only valid characters for [Elasticsearch index names](https://www.elastic.co/guide/en/elasticsearch/reference/current/docs-index_.html) are permitted.\n",multi:!1,required:!0,show_user:!0};function S(e){return"input"in e}function R(e){return!S(e)}const k=e=>R(e)?e.inputs||[]:[{type:e.input,title:e.title,description:e.description}],N=(e,t)=>{if("input"!==e.type)return e.data_streams||[];const a=e.policy_templates;return a&&0!==a.length?a.map((a=>{const n=t||O(e,a),i={type:a.type,dataset:n,title:a.title+" Dataset",release:e.release||"ga",package:e.name,path:n,elasticsearch:e.elasticsearch||{},streams:[{input:a.input,vars:L(a.vars,a.name),template_path:a.template_path,title:a.title,description:a.title,enabled:!0}]};return"input"===e.type&&(i.elasticsearch={...i.elasticsearch,dynamic_dataset:!0,dynamic_namespace:!0}),i})):[]},L=(e,t)=>{const a=null!=e?e:[];return a.find((e=>e.name===b.name))?a:[...a,{...b,...t&&{default:t}}]},O=(e,t)=>e.name+"."+t.name;function w(e,t,a){switch(e||"all"){case"combined_policy":return[t];case"individual_policies":return[...a&&a.length>1?a:[]];default:return[t,...a&&a.length>1?a:[]]}}const $=(e,t,a=[])=>{const n=[],i=N(t);return(a.length?i.filter((e=>a.includes(e.path))):i).forEach((t=>{(t.streams||[]).forEach((a=>{a.input===e&&n.push({...a,data_stream:{type:t.type,dataset:t.dataset}})}))})),n},x=(e,t,a=[])=>{const n=[],i=N(t);return(a.length?i.filter((e=>a.includes(e.path))):i).forEach((t=>{(t.streams||[]).forEach((a=>{a.input===e&&n.push({...a,data_stream:{...t}})}))})),n},D=(e,t)=>{const a={value:!t.default&&t.multi?[]:t.default};return t.type&&(a.type=t.type),e[t.name]=a,e},C=(e,t)=>{var a;const n=ae(e),i=[],r={};return null===(a=e.policy_templates)||void 0===a||a.forEach((e=>{const t=k(e);null==t||t.forEach((t=>{const a=`${e.name}-${t.type}`,n={...t,...R(e)&&e.data_streams?{data_streams:e.data_streams}:{},policy_template:e.name};r[a]=n}))})),Object.values(r).forEach((a=>{var r;const s=[];let o={};const l=$(a.type,e,a.data_streams).map((e=>{const t={enabled:!1!==e.enabled,data_stream:e.data_stream};return e.vars&&e.vars.length&&(t.vars=e.vars.reduce(D,{})),t}));null!==(r=a.vars)&&void 0!==r&&r.length&&(o=a.vars.reduce(D,{})),s.push(...l);let c=!s.length||!!s.find((e=>e.enabled));c&&n&&t&&t!==a.policy_template&&(c=!1);const u={type:a.type,policy_template:a.policy_template,enabled:c,streams:s};Object.keys(o).length&&(u.vars=o),i.push(u)})),i},M=(e,t,a="",n,i,r)=>{var s,o;Array.isArray(t)||(t=[t]);const l="installationInfo"in e?null===(s=e.installationInfo)||void 0===s?void 0:s.experimental_data_stream_features:void 0,c={name:n||`${e.name}-1`,namespace:a,description:i,package:{name:e.name,title:e.title,version:e.version,...l?{experimental_data_stream_features:l}:void 0},enabled:!0,policy_id:t[0],policy_ids:t,inputs:C(e,r),vars:void 0};return null!==(o=e.vars)&&void 0!==o&&o.length&&(c.vars=e.vars.reduce(D,{})),c},F=["id","name","revision","dataset","type","outputs","fleet","output_permissions","agent","inputs","enabled","use_output","meta","input","download","signed"],U=(e,t,a)=>{var n;const i=t(e,{skipInvalid:!0,sortKeys:B}),r=a?function(e,t){const a=new RegExp(/\$\{API_KEY}/,"g");return e.replace(a,`'${t}'`)}(i,a):i;return null!=e&&null!==(n=e.secret_references)&&void 0!==n&&n.length?function(e,t){let a=t;return e.map((e=>e.id)).forEach(((e,t)=>{const n=new RegExp(`\\$co\\.elastic\\.secret\\{${e}\\}`,"g");a=a.replace(n,`\${SECRET_${t}}`)})),a}(e.secret_references,r):r};function B(e,t){const a=F.indexOf(e),n=F.indexOf(t);return a>=0&&n<0?-1:a<0&&n>=0?1:a-n}const j=e=>(e.policy_templates||[]).some((e=>!1===e.multiple)),G=(e,t)=>{if(!e.package_policies)throw new Error("Unable to read full package policy information");return e.package_policies.map((e=>{var t;return(null===(t=e.package)||void 0===t?void 0:t.name)||""})).includes(t)};var V=a(75008),q=a(23469).Buffer;function K(e,t,a){if(!e.trim()&&t)return{valid:!0};const{valid:n,error:i}=Q(e,"Namespace",t);if(!n)return{valid:n,error:i};for(const t of a||[]){var r;if(!e.trim().startsWith(t))return 1===(null==a?void 0:a.length)?{valid:!1,error:V.i18n.translate("xpack.fleet.namespaceValidation.notAllowedPrefixError",{defaultMessage:"Namespace should start with {allowedNamespacePrefixes}",values:{allowedNamespacePrefixes:null==a?void 0:a[0]}})}:{valid:!1,error:V.i18n.translate("xpack.fleet.namespaceValidation.notAllowedPrefixesError",{defaultMessage:"Namespace should start with one of these prefixes {allowedNamespacePrefixes}",values:{allowedNamespacePrefixes:null!==(r=null==a?void 0:a.join(", "))&&void 0!==r?r:""}})}}return{valid:!0}}function W(e,t){const{valid:a,error:n}=Q(e,"Dataset",t);return a&&(e.startsWith("_")||e.startsWith("."))?{valid:!1,error:V.i18n.translate("xpack.fleet.datasetValidation.datasetStartsWithUnderscoreErrorMessage",{defaultMessage:"Dataset cannot start with an underscore or dot"})}:{valid:a,error:n}}function Q(e,t,a){return e.trim()||a?e!==e.toLowerCase()?{valid:!1,error:V.i18n.translate("xpack.fleet.namespaceValidation.lowercaseErrorMessage",{defaultMessage:"{type} must be lowercase",values:{type:t}})}:z.test(e)?{valid:!1,error:V.i18n.translate("xpack.fleet.namespaceValidation.invalidCharactersErrorMessage",{defaultMessage:"{type} contains invalid characters",values:{type:t}})}:"function"==typeof Blob&&new Blob([e]).size>100||"function"==typeof q&&q.from(e).length>100?{valid:!1,error:V.i18n.translate("xpack.fleet.namespaceValidation.tooLongErrorMessage",{defaultMessage:"{type} cannot be more than 100 bytes",values:{type:t}})}:{valid:!0}:{valid:!1,error:V.i18n.translate("xpack.fleet.namespaceValidation.requiredErrorMessage",{defaultMessage:"{type} is required",values:{type:t}})}}const z=/[\*\\/\?"<>|\s,#:-]+/;function X(e){const t=new URL(e[0]),a=t.protocol,n=t.pathname;return e.some((e=>{const t=new URL(e),i=t.protocol,r=t.pathname;return a!==i||n!==r}))}var J=a(68915);class LicenseService{constructor(){(0,J.default)(this,"observable",null),(0,J.default)(this,"subscription",null),(0,J.default)(this,"licenseInformation",null)}updateInformation(e){this.licenseInformation=e}start(e){this.observable=e,this.subscription=this.observable.subscribe(this.updateInformation.bind(this))}stop(){this.subscription&&this.subscription.unsubscribe()}getLicenseInformation(){return this.licenseInformation}getLicenseInformation$(){return this.observable}isGoldPlus(){return this.hasAtLeast("gold")}isPlatinum(){return this.hasAtLeast("platinum")}isEnterprise(){return this.hasAtLeast("enterprise")}hasAtLeast(e){var t,a,n;return(null===(t=this.licenseInformation)||void 0===t?void 0:t.isAvailable)&&(null===(a=this.licenseInformation)||void 0===a?void 0:a.isActive)&&(null===(n=this.licenseInformation)||void 0===n?void 0:n.hasAtLeast(e))}}var H=a(88366),Z=a(23833),Y=a.n(Z);const ee="8.7.0";function te(e){var t,a,n;if(!e.active)return!1;if("string"!=typeof(null==e||null===(t=e.local_metadata)||void 0===t||null===(a=t.elastic)||void 0===a||null===(n=a.agent)||void 0===n?void 0:n.version))return!1;const i=e.local_metadata.elastic.agent.version;return Y()(i,ee)}const ae=e=>(e.policy_templates||[]).length>1;var ne=a(69433),ie=a(43721);const re=(e,t,a,n)=>{var i;const r=ae(t),s={name:null,description:null,namespace:null,inputs:{},vars:{}};if(e.name.trim()||(s.name=[V.i18n.translate("xpack.fleet.packagePolicyValidation.nameRequiredErrorMessage",{defaultMessage:"Name is required"})]),null!=e&&e.namespace){const t=K(null==e?void 0:e.namespace,!0,null==n?void 0:n.allowedNamespacePrefixes);!t.valid&&t.error&&(s.namespace=[t.error])}const o=(0,P.keyBy)(t.vars||[],"name"),l=Object.entries(e.vars||{});if(l.length&&(s.vars=l.reduce(((e,[t,n])=>(e[t]=se(n,o[t],t,a),e)),{})),null==t||null===(i=t.policy_templates)||void 0===i||!i.length||function(e){return!e.policy_templates||0===e.policy_templates.length||!e.policy_templates.find((e=>S(e)||e.inputs&&e.inputs.length>0))}(t))return s.inputs={},s;const c=t.policy_templates.reduce(((e,t)=>(k(t).forEach((a=>{const n=r?`${t.name}-${a.type}`:a.type;(a.vars||[]).length&&(e[n]=(0,P.keyBy)(a.vars||[],"name"))})),e)),{}),u=N(t).reduce(((e,t)=>{var a;return null===(a=t.streams)||void 0===a||a.forEach((a=>{e[`${t.dataset}-${a.input}`]=a})),e}),{}),p=Object.entries(u).reduce(((e,[t,a])=>(e[t]=(0,P.keyBy)(a.vars||[],"name"),e)),{}),d=Object.entries(u).reduce(((e,[t,a])=>(e[t]=a.required_vars,e)),{});return e.inputs.forEach((e=>{if(!e.vars&&!e.streams)return;const n=r?`${e.policy_template}-${e.type}`:e.type,i={vars:void 0,streams:{}},o=Object.entries(e.vars||{});o.length?i.vars=o.reduce(((t,[i,r])=>{var s;return t[i]=e.enabled?se(r,(null!==(s=c[n])&&void 0!==s?s:{})[i],i,a):null,t}),{}):delete i.vars,e.streams.length?e.streams.forEach((n=>{const r={},s=p[`${n.data_stream.dataset}-${e.type}`];if(s&&Object.keys(s).length&&(r.vars=Object.keys(s).reduce(((i,r)=>{var o;const l=null==n||null===(o=n.vars)||void 0===o?void 0:o[r];return i[r]=e.enabled&&n.enabled?se(l,s[r],r,a,t.type):null,i}),{})),n.vars&&n.enabled){const t=((e,t)=>{const a={};if(!t||!e.vars||!e.enabled)return null;let n=!1;for(const[r,s]of Object.entries(t)){var i;a[r]=(null==s?void 0:s.map((e=>({name:e.name,invalid:!0}))))||[],a[r]&&s.forEach((t=>{if(e.vars&&e.vars[t.name]){const n=e.vars[t.name];n&&(!t.value&&n.value||t.value&&n.value&&t.value===n.value)&&(a[r]=a[r].filter((e=>e.name!==t.name)))}})),0===(null===(i=a[r])||void 0===i?void 0:i.length)&&(n=!0)}return n?null:a})(n,d[`${n.data_stream.dataset}-${e.type}`]);t&&(r.required_vars=t)}i.streams[n.data_stream.dataset]=r})):delete i.streams,(i.vars||i.streams)&&(s.inputs[n]=i)})),0===Object.entries(s.inputs).length&&(s.inputs={}),s},se=(e,t,a,i,r)=>{const s=[],o=null==e?void 0:e.value;let l=o;if("string"==typeof o&&(l=o.trim()),void 0===t)return ie.debug(`No variable definition for ${a} found`),null;if(t.required&&(void 0===l||"yaml"===t.type&&""===l)&&s.push(V.i18n.translate("xpack.fleet.packagePolicyValidation.requiredErrorMessage",{defaultMessage:"{fieldName} is required",values:{fieldName:t.title||t.name}})),!0===t.secret&&l&&!0===l.isSecretRef)return void 0===l.id||""===l.id||"string"!=typeof l.id?(s.push(V.i18n.translate("xpack.fleet.packagePolicyValidation.invalidSecretReference",{defaultMessage:"Secret reference is invalid, id must be a string"})),s):null;if("yaml"===t.type)try{l=i(o)}catch(e){s.push(V.i18n.translate("xpack.fleet.packagePolicyValidation.invalidYamlFormatErrorMessage",{defaultMessage:"Invalid YAML format"}))}if(t.multi)return l&&!Array.isArray(l)?(s.push(V.i18n.translate("xpack.fleet.packagePolicyValidation.invalidArrayErrorMessage",{defaultMessage:"Invalid format for {fieldName}: expected array",values:{fieldName:t.title||t.name}})),s):(t.required&&Array.isArray(l)&&("text"===t.type&&l.some((e=>"string"==typeof e&&""===e.trim()))||0===l.length)&&s.push(V.i18n.translate("xpack.fleet.packagePolicyValidation.requiredErrorMessage",{defaultMessage:"{fieldName} is required",values:{fieldName:t.title||t.name}})),"text"===t.type&&l&&l.filter((e=>/^[*&]/.test(e))).length>0&&s.push(V.i18n.translate("xpack.fleet.packagePolicyValidation.quoteStringErrorMessage",{defaultMessage:"Strings starting with special YAML characters like * or & need to be enclosed in double quotes."})),"integer"===t.type&&l&&l.filter((e=>!Number.isInteger(Number(e)))).length>0&&s.push(V.i18n.translate("xpack.fleet.packagePolicyValidation.invalidIntegerMultiErrorMessage",{defaultMessage:"Invalid integer"})),s.length?s:null);var c;if("text"===t.type&&l&&!Array.isArray(l)&&/^[*&]/.test(l)&&s.push(V.i18n.translate("xpack.fleet.packagePolicyValidation.quoteStringErrorMessage",{defaultMessage:"Strings starting with special YAML characters like * or & need to be enclosed in double quotes."})),"bool"===t.type&&l&&!["true","false"].includes(l.toString())&&s.push(V.i18n.translate("xpack.fleet.packagePolicyValidation.boolValueError",{defaultMessage:"Boolean values must be either true or false"})),"integer"===t.type&&l&&!Array.isArray(l)&&(Number.isInteger(Number(l))||s.push(V.i18n.translate("xpack.fleet.packagePolicyValidation.invalidIntegerErrorMessage",{defaultMessage:"Invalid integer"}))),"select"===t.type&&void 0!==l&&(null!==(c=t.options)&&void 0!==c&&c.map((e=>e.value)).includes(l)||s.push(V.i18n.translate("xpack.fleet.packagePolicyValidation.invalidSelectValueErrorMessage",{defaultMessage:"Invalid value for select type"}))),a===n.XPn&&"input"===r&&void 0!==l){const{valid:e,error:t}=W(l.dataset?l.dataset:l,!1);!e&&t&&s.push(t)}return s.length?s:null},oe=e=>{const t=(0,ne.getFlattenedObject)(e);return(Object.values(t).filter((e=>Boolean(e)))||[]).length},le=e=>oe(e)>0;var ce=a(79881),ue=a.n(ce);function pe(e){if(!e.includes("-"))return{pkgName:e,pkgVersion:""};const t=e.includes("-")?e.substr(0,e.indexOf("-")):e;if(""===t)throw new Error("Package key parsing failed: package name was empty");const a=e.substr(e.indexOf("-")+1);if(!ue()(a))throw new Error("Package key parsing failed: package version was not a valid semver");return{pkgName:t,pkgVersion:a}}function de(e,t){const a=new RegExp(`${e}-(\\d+)`);return`${e}-${Math.max(...(null!=t?t:[]).filter((e=>Boolean(e.name.match(a)))).map((e=>parseInt(e.name.match(a)[1],10))),0)+1}`}var ge=a(99308),_e=a.n(ge),Ee=a(60362),fe=a.n(Ee);function me(e){const t=(0,P.uniq)(e).filter((e=>{var t;return void 0!==(null===(t=fe()(e))||void 0===t?void 0:t.version)}));return t.length>1?t.sort(((e,t)=>_e()(e,t)?1:-1)):t}function ve(e){const t=me(e);return t.length>=1?t[t.length-1]:""}function he(e){const t=me(e);return t.length>=1?t[0]:""}function Te(e){const t=`${e.type}-${e.dataset.toLowerCase()}`;return e.hidden?`.${t}`:t}function Pe(e,t){return`${Te(e)}${null!=t?t:""}`}const ye=({dataStream:e,packageVersion:t})=>`${e.type}-${e.dataset.toLowerCase()}-${t}`,Ae=e=>`${e.type}-${e.dataset.toLowerCase()}@custom`,Ie=(e,t=!1)=>{const a=t?n.MdD:n.LfS;if(-1!==a.indexOf("*"))return a.replace("*",e);throw new Error(`Unable to define integration file data index. No '*' in index pattern: ${a}`)},be=(e,t=!1)=>{const a=t?n.DT$:n.gF9;if(-1!==a.indexOf("*"))return a.replace("*",e);throw new Error(`Unable to define integration file data index. No '*' in index pattern: ${a}`)};function Se(e){return e.startsWith("0")||e.includes("-")}function Re(e){return e.startsWith("0")||e.includes("-preview")?"preview":e.includes("-rc")?"rc":e.includes("-")?"beta":"ga"}function ke(e){return"experimental"===e?"preview":e}var Ne=a(2912);function Le(e){return{healthy:e.online,unhealthy:e.error+e.degraded,inactive:e.inactive,offline:e.offline,updating:e.updating+e.enrolling+e.unenrolling,unenrolled:e.unenrolled}}var Oe=a(97877),we=a(83424),$e=a(91034),xe=a.n($e),De=a(69406),Ce=a.n(De);a(74631);const Me=(e,t,a=!1)=>{const n=ve(t.map((e=>e.local_metadata.elastic.agent.version)));if(n&&e)try{if(!a&&_e()(e,n)&&!(0,H.LO)(e,n))return`Cannot upgrade to version ${e} because it is higher than the latest fleet server version ${n}.`;const t=xe()(n)>xe()(e),i=xe()(n)===xe()(e)&&Ce()(n)>=Ce()(e);if(a&&!t&&!i)return`Cannot force upgrade to version ${e} because it does not satisfy the major and minor of the latest fleet server version ${n}.`}catch(e){return e.message}},Fe=(e,t,a=!1)=>{if(0===t.length)return!0;const n=ve(t.map((e=>e.local_metadata.elastic.agent.version)));if(!n||!e)return!1;try{if(!a&&_e()(e,n)&&!(0,H.LO)(e,n))return!1;const t=xe()(n)>xe()(e),i=xe()(n)===xe()(e)&&Ce()(n)>=Ce()(e);if(a&&!t&&!i)return!1}catch(e){return!1}return!0};function Ue(e){return e.replace(/attributes\./g,"").replace(/fleet-agents\./g,"")}function Be(e,t){const a="enrolled_at"===e&&"desc"===t?[{"local_metadata.host.hostname.keyword":{order:"asc"}}]:[];return[{[e]:{order:t}},...a]}},88366:(e,t,a)=>{"use strict";a.d(t,{LO:()=>R,PV:()=>P,Qv:()=>E,_3:()=>T,vJ:()=>h,zm:()=>A});var n=a(60362),i=a.n(n),r=a(2083),s=a.n(r),o=a(99308),l=a.n(o),c=a(23833),u=a.n(c),p=a(81409),d=a.n(p),g=a(51783),_=a.n(g);const E=10,f="8.12.0",m="agent version is not valid.",v="latest version is not valid.";function h(e,t){var a,n,i;return t&&T(e)&&(null==e||null===(a=e.local_metadata)||void 0===a||null===(n=a.elastic)||void 0===n||null===(i=n.agent)||void 0===i?void 0:i.version)&&y(e.local_metadata.elastic.agent.version,t)}function T(e){var t,a,n;return!(e.unenrollment_started_at||e.unenrolled_at||null===(t=e.local_metadata)||void 0===t||null===(a=t.elastic)||void 0===a||null===(n=a.agent)||void 0===n||!n.upgradeable||S(e)||function(e){var t;return"UPG_WATCHING"===(null===(t=e.upgrade_details)||void 0===t?void 0:t.state)}(e)||b(e).hasBeenUpgradedRecently)}function P(e,t){var a,n,i;if(!T(e))return!1;let r;return"string"==typeof(null==e||null===(a=e.local_metadata)||void 0===a||null===(n=a.elastic)||void 0===n||null===(i=n.agent)||void 0===i?void 0:i.version)&&(r=e.local_metadata.elastic.agent.version,!!t&&I(r,t))}const y=(e,t)=>{const a=i()(e);if(!a)throw new Error(`${m}`);const n=i()(t);if(!n)throw new Error(`${v}`);return s()(a,n)},A=(e,t,a)=>{var n,r,o;let c;if("string"!=typeof(null==e||null===(n=e.local_metadata)||void 0===n||null===(r=n.elastic)||void 0===r||null===(o=r.agent)||void 0===o?void 0:o.version))return"agent version is missing.";if(c=e.local_metadata.elastic.agent.version,e.unenrolled_at)return"agent has been unenrolled.";if(e.unenrollment_started_at)return"agent is being unenrolled.";if(!e.local_metadata.elastic.agent.upgradeable)return"agent cannot be upgraded through Fleet. It may be running in a container or it is not installed as a service.";if(S(e))return"agent is already being upgraded.";if(b(e).hasBeenUpgradedRecently){const t=b(e).timeToWaitMins;return`agent was upgraded ${b(e).elapsedMinsSinceUpgrade} minutes ago, please wait ${t} minutes before attempting the upgrade again.`}const u=i()(c);if(!u)return m;if(void 0!==a){const e=i()(a);if(!e)return"the selected version is not valid.";if(d()(u,e))return"agent is already running on the selected version.";if(s()(e,u))return"agent does not support downgrades.";if(l()(e,u))return}const p=i()(t);return p?l()(u,p)?"agent is running on a version greater than the latest available version.":void 0:v},I=(e,t)=>{const a=i()(e,{includePrerelease:!0});if(!a)throw new Error(`${m}`);const n=i()(t,{includePrerelease:!0});return!n||(d()(a,n)?1===n.compareBuild(a):l()(n,a))};function b(e){const t=u()(e.local_metadata.elastic.agent.version,f);if(!e.upgraded_at||t)return{hasBeenUpgradedRecently:!1,timeToWaitMs:0,timeToWaitMins:0,elapsedMinsSinceUpgrade:0};const a=Date.now()-Date.parse(e.upgraded_at),n=_().duration(a,"milliseconds").asMinutes(),i=Math.ceil(n),r=6e4*E-a,s=a/6e4<E,o=_().duration(r,"milliseconds").asMinutes();return{hasBeenUpgradedRecently:s,timeToWaitMs:r,elapsedMinsSinceUpgrade:i,timeToWaitMins:Math.ceil(o)}}function S(e){return e.upgrade_details?"UPG_FAILED"!==e.upgrade_details.state:e.upgrade_started_at&&!e.upgraded_at}const R=(e,t,a=!0)=>{const[n,i,r]=e.split("."),[s,o,l]=t.split(".");return n===s&&i===o&&(a?r>=l:r>l)}},2912:(e,t,a)=>{"use strict";a.d(t,{$N:()=>p,ce:()=>l,hP:()=>o,lX:()=>u,o8:()=>c});var n=a(30770),i=a(69433),r=a(4408);const s=[r.k7N,r.nEC,r.PIK];function o(e){return e.has_fleet_server||e.package_policies&&e.package_policies.some((e=>{var t,a;return(null===(t=e.package)||void 0===t?void 0:t.name)&&s.includes(null===(a=e.package)||void 0===a?void 0:a.name)}))?[r.gf.Elasticsearch]:e.supports_agentless?r.wAX:Object.values(r.gf)}function l(e){return e.supports_agentless?r.wAX:Object.values(r.gf)}function c(e,t){if(!e||""===e)return!1;const a=t(e);if(!(0,n.isObject)(a))return"string"==typeof a&&r.uhU.some((e=>a.includes(e)));const s=(0,n.isObject)(a)?(0,i.getFlattenedObject)(a):{};return r.uhU.some((e=>Object.keys(s).includes(e)))}function u(e,t){return c(e,t)?"custom":"balanced"}function p(e){return r.P8p.includes(e)}},19573:(e,t,a)=>{"use strict";a.d(t,{Ip:()=>n.Ip,qP:()=>n.qP,bg:()=>n.bg,m_:()=>i,SS:()=>n.SS,jO:()=>r});var n=a(69056);let i=function(e){return e.CPU="CPU",e}({});const r=Object.entries},69056:(e,t,a)=>{"use strict";a.d(t,{Ip:()=>s,qP:()=>n,bg:()=>i,v0:()=>r,SS:()=>o});let n=function(e){return e.installed="installed",e.notInstalled="not_installed",e.installing="installing",e.reinstalling="reinstalling",e.uninstalling="uninstalling",e}({}),i=function(e){return e.dashboard="dashboard",e.lens="lens",e.visualization="visualization",e.search="search",e.indexPattern="index_pattern",e.map="map",e.mlModule="ml_module",e.securityAIPrompt="security_ai_prompt",e.securityRule="security_rule",e.cloudSecurityPostureRuleTemplate="csp_rule_template",e.osqueryPackAsset="osquery_pack_asset",e.osquerySavedQuery="osquery_saved_query",e.tag="tag",e}({}),r=function(e){return e.dashboard="dashboard",e.lens="lens",e.visualization="visualization",e.search="search",e.indexPattern="index-pattern",e.map="map",e.mlModule="ml-module",e.securityAIPrompt="security-ai-prompt",e.securityRule="security-rule",e.cloudSecurityPostureRuleTemplate="csp-rule-template",e.osqueryPackAsset="osquery-pack-asset",e.osquerySavedQuery="osquery-saved-query",e.tag="tag",e}({}),s=function(e){return e.index="index",e.indexTemplate="index_template",e.componentTemplate="component_template",e.ingestPipeline="ingest_pipeline",e.ilmPolicy="ilm_policy",e.dataStreamIlmPolicy="data_stream_ilm_policy",e.transform="transform",e.mlModel="ml_model",e}({}),o=function(e){return e.AGENTLESS="agentless",e.AGENT_BASED="agent-based",e}({})},42413:(e,t,a)=>{"use strict";a.d(t,{A7:()=>n.A7,Ah:()=>n.Ah,Al:()=>n.Al,DY:()=>n.DY,EG:()=>n.EG,MW:()=>n.MW,QF:()=>n.QF,QR:()=>n.QR,W:()=>n.W,X5:()=>n.X5,Z8:()=>n.Z8,d4:()=>n.d4,f$:()=>n.f$,fh:()=>n.fh,k7:()=>n.k7,ke:()=>n.ke,mm:()=>n.mm,o7:()=>n.o7,s_:()=>n.s_,tn:()=>n.tn,uG:()=>n.uG,w1:()=>n.w1,yb:()=>n.yb});var n=a(46048)},51155:(e,t,a)=>{"use strict";a.d(t,{qfp:()=>n.qfp,QOw:()=>n.QOw,aOH:()=>n.aOH,iGT:()=>n.iGT,g4O:()=>n.g4O,K8T:()=>n.K8T,tH2:()=>n.tH2,Fjq:()=>n.Fjq,IDi:()=>n.IDi,DGx:()=>n.DGx,PTz:()=>n.PTz,iF6:()=>n.iF6,kJl:()=>n.kJl,AtM:()=>n.AtM,H_o:()=>n.H_o,A$L:()=>n.A$L,taj:()=>n.taj,mwZ:()=>n.mwZ,D7A:()=>n.D7A,TOj:()=>n.TOj,pE1:()=>n.pE1,Ot1:()=>n.Ot1,cjL:()=>n.cjL,RYf:()=>n.RYf,cnO:()=>n.cnO,Wwg:()=>n.Wwg,n_W:()=>n.n_W,uWX:()=>n.uWX,voy:()=>n.voy,vKr:()=>n.vKr,nFK:()=>n.nFK,d1z:()=>n.d1z,eK3:()=>n.eK3,Ag1:()=>n.Ag1,aGY:()=>n.aGY,PCk:()=>n.PCk,W1E:()=>n.W1E,IaD:()=>n.IaD,BoF:()=>n.BoF,TR6:()=>n.TR6,OQl:()=>n.OQl,nXS:()=>n.nXS,WAz:()=>n.WAz,Q8y:()=>n.Q8y,wtt:()=>n.wtt,q34:()=>n.q34,$n5:()=>n.$n5,_Zd:()=>n._Zd,Iq8:()=>n.Iq8,yX1:()=>n.yX1,h_h:()=>n.h_h,QUw:()=>n.QUw,aJz:()=>n.aJz,DRU:()=>n.DRU,YLO:()=>n.YLO,nJY:()=>n.nJY,SBA:()=>n.SBA,RUT:()=>n.RUT,waY:()=>n.waY,S6i:()=>n.S6i,o6X:()=>n.o6X,DTC:()=>n.DTC,FA$:()=>n.FA$,liT:()=>n.liT,aCR:()=>n.aCR,lAN:()=>n.lAN,xEL:()=>n.xEL,Jip:()=>n.Jip,w$b:()=>n.w$b,w4G:()=>n.w4G,Vg9:()=>n.Vg9,W$e:()=>n.W$e,i0:()=>n.i0,Bs_:()=>n.Bs_,E7K:()=>n.E7K,VPR:()=>n.VPR,gCF:()=>n.gCF,JhS:()=>n.JhS,iO7:()=>n.iO7,ifo:()=>c,SEu:()=>d,whI:()=>n.whI,U6y:()=>n.U6y,UKg:()=>n.UKg,e3j:()=>n.e3j,OmG:()=>n.OmG,z1:()=>n.z1,Dc7:()=>n.Dc7,GER:()=>n.GER,YI3:()=>n.YI3,Wdf:()=>n.Wdf,$sk:()=>n.$sk,BOQ:()=>n.BOQ,DEc:()=>n.DEc,FM:()=>n.FM,SFz:()=>n.SFz,c3w:()=>n.c3w,lse:()=>n.lse,qyb:()=>n.qyb,OVZ:()=>n.OVZ,rXq:()=>n.rXq,ZJQ:()=>n.ZJQ,M4K:()=>n.M4K,Eiq:()=>n.Eiq,E1o:()=>n.E1o,UyQ:()=>n.UyQ,il9:()=>n.il9,ZwD:()=>n.ZwD,Gez:()=>n.Gez,g7J:()=>n.g7J,hhZ:()=>n.hhZ,kt3:()=>n.kt3,Q14:()=>n.Q14,RR_:()=>n.RR_,iEg:()=>n.iEg,phy:()=>n.phy,hp:()=>n.hp,WQC:()=>n.WQC,B6B:()=>n.B6B,Zd9:()=>n.Zd9,RIP:()=>n.RIP,YZM:()=>n.YZM,aOf:()=>n.aOf,KEg:()=>n.KEg,WeA:()=>n.WeA,MbH:()=>n.MbH,fWy:()=>n.fWy,zmo:()=>n.zmo,C11:()=>n.C11});var n=a(73476),i=a(75008),r=a(42413);const s={href:r.tn.base()[1],text:i.i18n.translate("xpack.fleet.breadcrumbs.appTitle",{defaultMessage:"Fleet"}),deepLinkId:"fleet"},o={href:r.tn.integrations()[1],text:i.i18n.translate("xpack.fleet.breadcrumbs.integrationsAppTitle",{defaultMessage:"Integrations"}),useIntegrationsBasePath:!0,deepLinkId:"integrations"},l={base:()=>[s],policies:()=>[s,{text:i.i18n.translate("xpack.fleet.breadcrumbs.policiesPageTitle",{defaultMessage:"Agent policies"})}],policies_list:()=>[s,{text:i.i18n.translate("xpack.fleet.breadcrumbs.policiesPageTitle",{defaultMessage:"Agent policies"})}],policy_details:({policyName:e})=>[s,{href:r.tn.policies()[1],text:i.i18n.translate("xpack.fleet.breadcrumbs.policiesPageTitle",{defaultMessage:"Agent policies"})},{text:e}],add_integration_to_policy:({pkgTitle:e,pkgkey:t,integration:a})=>[o,{href:r.tn.integration_details_overview({pkgkey:t,integration:a})[1],text:e,useIntegrationsBasePath:!0},{text:i.i18n.translate("xpack.fleet.breadcrumbs.addPackagePolicyPageTitle",{defaultMessage:"Add integration"})}],edit_integration:({policyName:e,policyId:t})=>[s,{href:r.tn.policies()[1],text:i.i18n.translate("xpack.fleet.breadcrumbs.policiesPageTitle",{defaultMessage:"Agent policies"})},{href:r.tn.policy_details({policyId:t})[1],text:e},{text:i.i18n.translate("xpack.fleet.breadcrumbs.editPackagePolicyPageTitle",{defaultMessage:"Edit integration"})}],upgrade_package_policy:({policyName:e,policyId:t})=>[s,{href:r.tn.policies()[1],text:i.i18n.translate("xpack.fleet.breadcrumbs.policiesPageTitle",{defaultMessage:"Agent policies"})},{href:r.tn.policy_details({policyId:t})[1],text:e},{text:i.i18n.translate("xpack.fleet.breadcrumbs.upgradePackagePolicyPageTitle",{defaultMessage:"Upgrade integration "})}],agent_list:()=>[s,{text:i.i18n.translate("xpack.fleet.breadcrumbs.agentsPageTitle",{defaultMessage:"Agents"})}],agent_details:({agentHost:e})=>[s,{href:r.tn.agent_list({})[1],text:i.i18n.translate("xpack.fleet.breadcrumbs.agentsPageTitle",{defaultMessage:"Agents"})},{text:e}],enrollment_tokens:()=>[s,{text:i.i18n.translate("xpack.fleet.breadcrumbs.enrollmentTokensPageTitle",{defaultMessage:"Enrollment tokens"})}],uninstall_tokens:()=>[s,{text:i.i18n.translate("xpack.fleet.breadcrumbs.uninstallTokensPageTitle",{defaultMessage:"Uninstall tokens"})}],data_streams:()=>[s,{text:i.i18n.translate("xpack.fleet.breadcrumbs.datastreamsPageTitle",{defaultMessage:"Data streams"})}],settings:()=>[s,{text:i.i18n.translate("xpack.fleet.breadcrumbs.settingsPageTitle",{defaultMessage:"Settings"})}]};function c(e,t={}){var a;const{chrome:i,http:s,application:o}=(0,n.WeA)(),c=(null===(a=l[e])||void 0===a?void 0:a.call(l,t).map((e=>{const t=e.href?s.basePath.prepend(`${e.useIntegrationsBasePath?r.o7:r.fh}${e.href}`):void 0;return{...e,href:t,onClick:t?e=>{e.metaKey||e.altKey||e.ctrlKey||e.shiftKey||(e.preventDefault(),o.navigateToUrl(t))}:void 0}})))||[],u=[...c].reverse().map((e=>e.text));i.docTitle.change(u),i.setBreadcrumbs(c)}a(49358),a(42485);var u=a(13530);async function p(){let e;try{var t;const i=await(0,n.nXS)(!0);var a;null!==(t=i.data)&&void 0!==t&&t.success||(e=(null===(a=i.data)||void 0===a?void 0:a.error)||"REQUEST_ERROR")}catch(t){e="REQUEST_ERROR"}return{error:e}}const d=()=>{const{data:e,isInitialLoading:t}=(0,u.useQuery)(["fetch-check-permissions"],p);return{isPermissionsLoading:t,permissionsError:null==e?void 0:e.error}}},49358:(e,t,a)=>{"use strict";a.d(t,{V:()=>s});var n=a(61777),i=a(98183),r=a(42413);const s=e=>{const t=(0,i.qN)(r.DY.APM_LOCATOR),{error:a,loading:s,value:o}=(0,n.A)((()=>{if(!(e=>Boolean("apm"===e.package))(e)||!t)return Promise.resolve();if(e.serviceDetails){const{serviceName:a,environment:n}=e.serviceDetails;return t.getUrl({serviceName:a,serviceOverviewTab:"logs"===e.type?"errors":e.type,query:{environment:n}})}return t.getUrl({serviceName:void 0})}));return{isSuccessful:!a&&!s,href:o}}},42485:(e,t,a)=>{"use strict";a.d(t,{m:()=>s});var n=a(84286),i=a(75008),r=a(51155);const s=()=>{const{notifications:e}=(0,r.WeA)(),[t,a]=(0,n.useState)(),[s,o]=(0,n.useState)(!1);return{serviceToken:t,isLoadingServiceToken:s,generateServiceToken:(0,n.useCallback)((async t=>{o(!0);try{const{data:e}=await(0,r.cjL)(t);null!=e&&e.value&&a(null==e?void 0:e.value)}catch(t){e.toasts.addError(t,{title:i.i18n.translate("xpack.fleet.errorGeneratingTokenTitleText",{defaultMessage:"Error generating token"})})}finally{o(!1)}}),[e.toasts])}}},54588:(e,t,a)=>{"use strict";a.d(t,{$:()=>s,S:()=>o});var n=a(1493),i=a(13530),r=a(51155);function s(e){const{params:{packagePolicyId:t,policyId:a}}=(0,n.useRouteMatch)(),{getHref:i}=(0,r.iEg)();return`${t&&a?i("edit_integration",{policyId:a,packagePolicyId:t}):i("integration_policy_edit",{packagePolicyId:t})}${e?`?datastreamId=${encodeURIComponent(e)}`:""}`}function o(e,t=!0){const{data:a,isLoading:n}=(0,i.useQuery)(["indexTemplateExists",e],(()=>(0,r.w4G)({path:`/api/index_management/index_templates/${e}`,method:"get"})),{enabled:t});return n?{isLoading:!0}:{exists:!!a,isLoading:!1}}},42679:(e,t,a)=>{"use strict";a.d(t,{T:()=>p});var n=a(84286),i=a(81319),r=a(75879),s=a(75008),o=a(7975),l=a(51155),c=a(54588),u=a(96791);const p=({packageInputStream:e,packageInfo:t,customDataset:a})=>{const p=a?{...e.data_stream,dataset:a}:e.data_stream,d=(0,c.$)(e.id),{application:g,docLinks:_}=(0,l.WeA)(),{componentTemplateItems:E,hasCustom:f,isLoading:m}=function(e){const t=(0,l.DEc)((0,o.cg)(e,"@custom")),a=!!t.data,i=(0,n.useMemo)((()=>[{templateName:(0,o.cg)(e,"@package"),canEdit:!1},...a?[{templateName:(0,o.cg)(e,"@custom"),canEdit:!0}]:[]]),[e,a]);return{isLoading:t.isLoading,hasCustom:a,componentTemplateItems:i}}(p);return(0,u.jsx)(i.EuiFlexGroup,{direction:"column",gutterSize:"xs",alignItems:"flexStart"},(0,u.jsx)(i.EuiFlexItem,{grow:!1},(0,u.jsx)(i.EuiTitle,{size:"xxxs"},(0,u.jsx)("h5",null,(0,u.jsx)(r.FormattedMessage,{id:"xpack.fleet.packagePolicyEditor.datastreamMappings.title",defaultMessage:"Mappings"})))),(0,u.jsx)(i.EuiFlexItem,{grow:!1},(0,u.jsx)(i.EuiText,{color:"subdued",size:"xs"},(0,u.jsx)(r.FormattedMessage,{id:"xpack.fleet.packagePolicyEditor.datastreamMappings.description",defaultMessage:"Mapping is the process of defining how a document, and the fields it contains, are stored and indexed. If you are adding new fields through custom ingest pipeline, we recommend addition of a mapping for those in the component template. {learnMoreLink}",values:{learnMoreLink:(0,u.jsx)(i.EuiLink,{href:_.links.fleet.datastreams,external:!0},(0,u.jsx)(r.FormattedMessage,{id:"xpack.fleet.packagePolicyEditor.datastreamMappings.learnMoreLink",defaultMessage:"Learn more"}))}}))),(0,u.jsx)(i.EuiFlexItem,{grow:!1},(0,u.jsx)(i.EuiBasicTable,{items:E,columns:[{field:"templateName",name:""},{width:"60px",actions:[{icon:"pencil",type:"icon",description:s.i18n.translate("xpack.fleet.packagePolicyEditor.datastreamMappings.editBtn",{defaultMessage:"Edit mappings"}),"data-test-subj":"datastreamEditMappingsBtn",name:"edit",isPrimary:!0,onClick:async e=>{const t=g.getUrlForApp("management",{path:`/data/index_management/edit_component_template/${e.templateName}`});g.navigateToUrl(`${t}?step=mappings&redirect_path=${d}`)},available:({canEdit:e})=>!!e},{icon:"inspect",type:"icon",description:s.i18n.translate("xpack.fleet.packagePolicyEditor.datastreamMappings.inspectBtn",{defaultMessage:"Inspect mappings"}),name:"inspect","data-test-subj":"datastreamInspectMappingsBtn",isPrimary:!0,onClick:async e=>{const t=g.getUrlForApp("management",{path:`/data/index_management/component_templates/${e.templateName}`});g.navigateToUrl(`${t}?redirect_path=${d}`)}}]}]})),!m&&!f&&(0,u.jsx)(i.EuiFlexItem,{grow:!1},(0,u.jsx)(i.EuiSpacer,{size:"xs"}),(0,u.jsx)(i.EuiButtonEmpty,{size:"xs",flush:"left",iconType:"plusInCircle","data-test-subj":"datastreamAddCustomComponentTemplateBtn",onClick:async()=>{const e=g.getUrlForApp("management",{path:"/data/index_management/create_component_template"}),t=(0,o.cg)(p,"@custom");g.navigateToUrl(`${e}?name=${t}&step=mappings&redirect_path=${d}`)}},(0,u.jsx)(r.FormattedMessage,{id:"xpack.fleet.packagePolicyEditor.datastreamMappings.addCustomButn",defaultMessage:"Add custom mappings"}))))}},84089:(e,t,a)=>{"use strict";a.d(t,{L:()=>d});var n=a(84286),i=a(75008),r=a(81319),s=a(75879),o=a(51155),l=a(7975),c=a(54588),u=a(96791);function p(e,t=!1){return{pipelineName:e,canEdit:t}}const d=({packageInputStream:e,packageInfo:t,customDataset:a})=>{const d=a?{...e.data_stream,dataset:a}:e.data_stream,{application:g,share:_,docLinks:E}=(0,o.WeA)(),f=_.url.locators.get("INGEST_PIPELINES_APP_LOCATOR"),m=(0,c.$)(e.id),{pipelines:v,addPipelineUrl:h,hasCustom:T,isLoading:P}=function(e,t,a){var i;const[r,s]=(0,n.useState)(""),{share:c}=(0,o.WeA)(),u=c.url.locators.get("INGEST_PIPELINES_APP_LOCATOR"),d=(0,l.FE)({dataStream:t,packageVersion:e.version}),g=(0,l.w9)(t),_=(0,o.il9)(g),E=(0,n.useMemo)((()=>_.data?[p(d),p(g,!0)]:[p(d)]),[d,g,_.data]);return(0,n.useEffect)((()=>{!async function(){if(!u)return;const e=await u.getUrl({page:"pipeline_create"});s(`${e}?name=${g}&redirect_path=${a}`)}()}),[g,a,u]),{isLoading:_.isLoading,hasCustom:!_.isLoading&&404!==(null===(i=_.error)||void 0===i?void 0:i.statusCode),pipelines:E,addPipelineUrl:r}}(t,d,m);return d?(0,u.jsx)(r.EuiFlexGroup,{direction:"column",gutterSize:"xs",alignItems:"flexStart"},(0,u.jsx)(r.EuiFlexItem,{grow:!1},(0,u.jsx)(r.EuiTitle,{size:"xxxs"},(0,u.jsx)("h5",null,(0,u.jsx)(s.FormattedMessage,{id:"xpack.fleet.packagePolicyEditor.datastreamIngestPipelinesTitle",defaultMessage:"Ingest pipelines"})))),(0,u.jsx)(r.EuiFlexItem,{grow:!1},(0,u.jsx)(r.EuiText,{color:"subdued",size:"xs"},(0,u.jsx)(s.FormattedMessage,{id:"xpack.fleet.packagePolicyEditor.datastreamIngestPipelinesLabel",defaultMessage:"Ingest pipelines perform common transformations on the ingested data. We recommend modifying only the custom ingest pipeline. These pipelines are shared between integration policies of the same integration type. Hence, any modifications to the ingest pipelines would affect all the integration policies. {learnMoreLink}",values:{learnMoreLink:(0,u.jsx)(r.EuiLink,{href:E.links.fleet.datastreams,external:!0},(0,u.jsx)(s.FormattedMessage,{id:"xpack.fleet.packagePolicyEdotpr.datastreamIngestPipelines.learnMoreLink",defaultMessage:"Learn more"}))}}))),(0,u.jsx)(r.EuiFlexItem,{grow:!1},(0,u.jsx)(r.EuiBasicTable,{loading:P,items:v,columns:[{field:"pipelineName",name:""},{width:"60px",actions:[{icon:"pencil",type:"icon",description:i.i18n.translate("xpack.fleet.packagePolicyEditor.datastreamIngestPipelines.editBtn",{defaultMessage:"Edit pipeline"}),"data-test-subj":"datastreamEditPipelineBtn",name:"edit",isPrimary:!0,onClick:async e=>{if(!f)return;const t=await f.getUrl({page:"pipeline_edit",pipelineId:e.pipelineName});g.navigateToUrl(`${t}?redirect_path=${m}`)},available:({canEdit:e})=>e},{icon:"inspect",type:"icon",description:i.i18n.translate("xpack.fleet.packagePolicyEditor.datastreamIngestPipelines.inspectBtn",{defaultMessage:"Inspect pipeline"}),name:"inspect","data-test-subj":"datastreamInspectPipelineBtn",isPrimary:!0,onClick:async e=>{if(!f)return;const t=await f.getUrl({page:"pipeline_list"});g.navigateToUrl(`${t}?pipeline=${e.pipelineName}&redirect_path=${m}`)}}]}]})),!P&&!T&&(0,u.jsx)(r.EuiFlexItem,{grow:!1},(0,u.jsx)(r.EuiSpacer,{size:"xs"}),(0,u.jsx)(r.EuiButtonEmpty,{size:"xs",flush:"left",iconType:"plusInCircle","data-test-subj":"datastreamAddCustomIngestPipelineBtn",href:h},(0,u.jsx)(s.FormattedMessage,{id:"xpack.fleet.packagePolicyEditor.datastreamIngestPipelines.addCustomButn",defaultMessage:"Add custom pipeline"})))):null}},53684:(e,t,a)=>{"use strict";a.d(t,{G0:()=>n.G0,Jg:()=>n.Jg,Ku:()=>n.Ku,M5:()=>n.M5,P_:()=>n.P_,Rh:()=>n.Rh,T9:()=>n.T9,W_:()=>n.W_,ZX:()=>n.ZX,Zb:()=>n.Zb,_3:()=>n._3,bS:()=>n.bS,eE:()=>n.eE,i2:()=>n.i2,ir:()=>n.ir,nb:()=>n.nb,nt:()=>n.nt,ob:()=>n.ob,tE:()=>n.tE,zh:()=>n.zh});var n=a(74892)},75483:(e,t,a)=>{"use strict";a.d(t,{L:()=>p});var n=a(85228),i=a(84286),r=a(35146),s=a(81319),o=a(75008),l=a(75879),c=a(96791);const u=({onCancel:e,onConfirm:t,pkgName:a,docLinks:n})=>(0,c.jsx)(s.EuiConfirmModal,{title:(0,c.jsx)("span",{className:"eui-textBreakWord"},(0,c.jsx)(l.FormattedMessage,{id:"xpack.fleet.ConfirmOpenUnverifiedModal.title",defaultMessage:"View unverified integration?"})),onCancel:e,onConfirm:t,cancelButtonText:(0,c.jsx)(l.FormattedMessage,{id:"xpack.fleet.ConfirmOpenUnverifiedModal.cancelButtonLabel",defaultMessage:"Cancel"}),confirmButtonText:(0,c.jsx)(l.FormattedMessage,{id:"xpack.fleet.ConfirmOpenUnverifiedModal.confirmButtonLabel",defaultMessage:"View anyway"}),buttonColor:"danger","data-test-subj":"ConfirmOpenUnverifiedModal"},(0,c.jsx)(s.EuiCallOut,{title:o.i18n.translate("xpack.fleet.ConfirmOpenUnverifiedModal.calloutTitleWithPkg",{defaultMessage:"Integration {pkgName} has failed verification",values:{pkgName:a}}),color:"warning",iconType:"warning",children:(0,c.jsx)(l.FormattedMessage,{id:"xpack.fleet.ConfirmOpenUnverifiedModal.calloutBody",defaultMessage:"This integration contains an unsigned package of unknown authenticity and could contain malicious files. Learn more about {learnMoreLink}.",values:{learnMoreLink:(0,c.jsx)(s.EuiLink,{target:"_blank",external:!0,href:n.links.fleet.packageSignatures},(0,c.jsx)(l.FormattedMessage,{id:"xpack.fleet.ConfirmOpenUnverifiedModal.learnMoreLink",defaultMessage:"package signatures"}))}})})),p=()=>{const e=(0,r.W)();return(0,i.useCallback)((t=>(({pkgName:e,fleetServices:t})=>new Promise((a=>{const{overlays:i,docLinks:r,...s}=t,o=i.openModal((0,n.Pv)((0,c.jsx)(u,{pkgName:e,onConfirm:()=>{o.close(),a(!0)},onCancel:()=>{o.close(),a(!1)},docLinks:r}),s))})))({pkgName:t,fleetServices:e})),[e])}},29720:(e,t,a)=>{"use strict";a.d(t,{J:()=>s});var n=a(35146),i=a(74892);const r=e=>new URL(e,"http://example.com").pathname;function s(){const{http:e}=(0,n.W)();return{toSharedAssets:t=>e.basePath.prepend(`/plugins/kibanaReact/assets/${t}`),toPackageImage:(t,a,n)=>{const r=t.src?`/package/${a}/${n}${t.src}`:"path"in t&&t.path;if(r){const t=i.P_.getFilePath(r);return e.basePath.prepend(t)}},toRelativeImage:({path:t,packageName:a,version:n})=>{const s=r(t),o=`${i.P_.getInfoPath(a,n)}${s}`;return e.basePath.prepend(o)}}}},5475:(e,t,a)=>{"use strict";a.d(t,{JF:()=>r,To:()=>s,iA:()=>o});var n=a(75008),i=a(11860);const r={kibana:Object.values(i.bg),elasticsearch:Object.values(i.Ip)},s={dashboard:n.i18n.translate("xpack.fleet.epm.assetTitles.dashboards",{defaultMessage:"Dashboards"}),lens:n.i18n.translate("xpack.fleet.epm.assetTitles.lens",{defaultMessage:"Lens"}),visualization:n.i18n.translate("xpack.fleet.epm.assetTitles.visualizations",{defaultMessage:"Visualizations"}),search:n.i18n.translate("xpack.fleet.epm.assetTitles.savedSearches",{defaultMessage:"Discover sessions"}),"index-pattern":n.i18n.translate("xpack.fleet.epm.assetTitles.indexPatterns",{defaultMessage:"Data views"}),index_pattern:n.i18n.translate("xpack.fleet.epm.assetTitles.indexPatterns",{defaultMessage:"Data views"}),map:n.i18n.translate("xpack.fleet.epm.assetTitles.maps",{defaultMessage:"Maps"}),"security-ai-prompt":n.i18n.translate("xpack.fleet.epm.assetTitles.securityAIPrompt",{defaultMessage:"Security AI prompt"}),security_ai_prompt:n.i18n.translate("xpack.fleet.epm.assetTitles.securityAIPrompt",{defaultMessage:"Security AI prompt"}),"security-rule":n.i18n.translate("xpack.fleet.epm.assetTitles.securityRules",{defaultMessage:"Security rules"}),security_rule:n.i18n.translate("xpack.fleet.epm.assetTitles.securityRules",{defaultMessage:"Security rules"}),"csp-rule-template":n.i18n.translate("xpack.fleet.epm.assetTitles.cloudSecurityPostureRuleTemplate",{defaultMessage:"Benchmark rules"}),csp_rule_template:n.i18n.translate("xpack.fleet.epm.assetTitles.cloudSecurityPostureRuleTemplate",{defaultMessage:"Benchmark rules"}),"ml-module":n.i18n.translate("xpack.fleet.epm.assetTitles.mlModules",{defaultMessage:"Anomaly detection configurations"}),ml_module:n.i18n.translate("xpack.fleet.epm.assetTitles.mlModules",{defaultMessage:"Anomaly detection configurations"}),tag:n.i18n.translate("xpack.fleet.epm.assetTitles.tag",{defaultMessage:"Tags"}),"osquery-pack-asset":n.i18n.translate("xpack.fleet.epm.assetTitles.osqueryPackAssets",{defaultMessage:"Osquery packs"}),osquery_pack_asset:n.i18n.translate("xpack.fleet.epm.assetTitles.osqueryPackAssets",{defaultMessage:"Osquery packs"}),"osquery-saved-query":n.i18n.translate("xpack.fleet.epm.assetTitles.osquerySavedQuery",{defaultMessage:"Osquery saved queries"}),osquery_saved_query:n.i18n.translate("xpack.fleet.epm.assetTitles.osquerySavedQuery",{defaultMessage:"Osquery saved queries"}),ilm_policy:n.i18n.translate("xpack.fleet.epm.assetTitles.ilmPolicies",{defaultMessage:"ILM policies"}),ingest_pipeline:n.i18n.translate("xpack.fleet.epm.assetTitles.ingestPipelines",{defaultMessage:"Ingest pipelines"}),transform:n.i18n.translate("xpack.fleet.epm.assetTitles.transforms",{defaultMessage:"Transforms"}),index:n.i18n.translate("xpack.fleet.epm.assetTitles.indices",{defaultMessage:"Indices"}),index_template:n.i18n.translate("xpack.fleet.epm.assetTitles.indexTemplates",{defaultMessage:"Index templates"}),component_template:n.i18n.translate("xpack.fleet.epm.assetTitles.componentTemplates",{defaultMessage:"Component templates"}),data_stream_ilm_policy:n.i18n.translate("xpack.fleet.epm.assetTitles.dataStreamILM",{defaultMessage:"Data stream ILM policies"}),ml_model:n.i18n.translate("xpack.fleet.epm.assetTitles.mlModels",{defaultMessage:"ML models"}),view:n.i18n.translate("xpack.fleet.epm.assetTitles.views",{defaultMessage:"Views"})},o={kibana:"Kibana",elasticsearch:"Elasticsearch"}},11860:(e,t,a)=>{"use strict";a.d(t,{Ip:()=>n.Ip,bg:()=>n.bg,jO:()=>n.jO,qP:()=>n.qP});var n=a(67088)},4593:(e,t,a)=>{"use strict";a.d(t,{A:()=>d,q:()=>p});var n=a(3185),i=a(84286),r=a.n(i),s=a(26768),o=a.n(s),l=a(81319),c=a(73476);const u=o()(l.EuiIcon).withConfig({displayName:"Icon",componentId:"sc-9cx4pr-0"})(["width:'16px';margin-block-end:unset !important;"]),p=({packageName:e,integrationName:t,version:a,icons:i,tryApi:s,...o})=>{const l=(0,c.d6W)({packageName:e,integrationName:t,version:a,icons:i,tryApi:s});return r().createElement(u,(0,n.default)({size:"s",type:l},o,{loading:"lazy"}))},d=e=>{const{icons:t}=e;return t&&1===t.length&&"eui"===t[0].type?r().createElement(l.EuiIcon,(0,n.default)({size:"xl",type:t[0].src},e)):t&&1===t.length&&"svg"===t[0].type?r().createElement(l.EuiIcon,(0,n.default)({size:"xl",type:t[0].src},e,{loading:"lazy"})):r().createElement(p,e)}},46048:(e,t,a)=>{"use strict";a.d(t,{$V:()=>i.$V,A7:()=>n.A7z,Ah:()=>n.AhM,Al:()=>n.Ald,DY:()=>n.DYj,EG:()=>o,GK:()=>n.GKU,LW:()=>n.LW$,MW:()=>l,O8:()=>n.O82,OM:()=>i.OM,QF:()=>n.QFY,QR:()=>n.QRt,Vb:()=>n.VbR,Ve:()=>r,W:()=>n.WaW,X5:()=>i.X5,Z8:()=>s,d4:()=>n.d40,f$:()=>n.RNf,fh:()=>i.fh,k5:()=>n.k55,k7:()=>n.k7N,ke:()=>n.kec,mm:()=>n.mm9,o7:()=>i.o7,s_:()=>n.s_d,tn:()=>i.tn,uG:()=>n.uGT,w1:()=>n.w1x,yb:()=>n.ybs});var n=a(4408),i=a(34294);const r="log",s={IDLE_TIMEOUT:"idle_timeout",READ_TIMEOUT:"read_timeout",SHUTDOWN_TIMEOUT:"shutdown_timeout",TAIL_SAMPLING_INTERVAL:"tail_sampling_interval",WRITE_TIMEOUT:"write_timeout"},o={AGENT_ACTIVITY:"fleet.agentActivityTour",ADD_AGENT_POPOVER:"fleet.addAgentPopoverTour",INACTIVE_AGENTS:"fleet.inactiveAgentsTour",GRANULAR_PRIVILEGES:"fleet.granularPrivileges",AGENT_EXPORT_CSV:"fleet.agentExportCSVTour"},l=800},34294:(e,t,a)=>{"use strict";a.d(t,{$V:()=>o,OM:()=>l,X5:()=>s,fh:()=>i,o7:()=>r,tn:()=>c});var n=a(20151);const i="/app/fleet",r="/app/integrations",s={fleet:"/:tabId",agents:"/agents",agent_details:"/agents/:agentId/:tabId?",agent_details_logs:"/agents/:agentId/logs",agent_details_diagnostics:"/agents/:agentId/diagnostics",policies:"/policies",policies_list:"/policies",policy_details:"/policies/:policyId/:tabId?",policy_details_settings:"/policies/:policyId/settings",edit_integration:"/policies/:policyId/edit-integration/:packagePolicyId",upgrade_package_policy:"/policies/:policyId/upgrade-package-policy/:packagePolicyId",enrollment_tokens:"/enrollment-tokens",uninstall_tokens:"/uninstall-tokens",data_streams:"/data-streams",settings:"/settings",settings_create_fleet_server_hosts:"/settings/create-fleet-server-hosts",settings_edit_fleet_server_hosts:"/settings/fleet-server-hosts/:itemId",settings_create_outputs:"/settings/create-outputs",settings_edit_outputs:"/settings/outputs/:outputId",settings_create_download_sources:"/settings/create-download-sources",settings_create_fleet_proxy:"/settings/create-fleet-proxy",settings_edit_fleet_proxy:"/settings/fleet-proxies/:itemId",settings_edit_download_sources:"/settings/downloadSources/:downloadSourceId",debug:"/_debug",add_integration_to_policy:"/integrations/:pkgkey/add-integration/:integration?"},o="q",l={integrations:"/:tabId",integrations_all:"/browse/:category?/:subcategory?",integrations_installed:"/installed/:category?",integrations_installed_updates_available:"/installed/updates_available/:category?",integrations_create:"/create",integration_details:"/detail/:pkgkey/:panel?",integration_details_overview:"/detail/:pkgkey/overview",integration_details_policies:"/detail/:pkgkey/policies",integration_details_assets:"/detail/:pkgkey/assets",integration_details_settings:"/detail/:pkgkey/settings",integration_details_configs:"/detail/:pkgkey/configs",integration_details_custom:"/detail/:pkgkey/custom",integration_details_api_reference:"/detail/:pkgkey/api-reference",integration_details_language_clients:"/language_clients/:pkgkey/overview",integration_policy_edit:"/edit-integration/:packagePolicyId",integration_policy_upgrade:"/edit-integration/:packagePolicyId"},c={base:()=>[i,"/"],overview:()=>[i,"/"],integrations:()=>[r,"/"],integrations_all:({searchTerm:e,category:t,subCategory:a})=>[r,`/browse${t&&a?`/${t}/${a} `:t&&!a?`/${t}`:""}${e?`?${o}=${e}`:""}`],integrations_installed:({query:e,category:t})=>[r,`/installed${t?`/${t}`:""}${e?`?${o}=${e}`:""}`],integrations_installed_updates_available:({query:e,category:t})=>[r,`/installed/updates_available${t?`/${t}`:""}${e?`?${o}=${e}`:""}`],integration_create:()=>[r,"/create"],integration_details_overview:({pkgkey:e,integration:t})=>[r,`/detail/${e}/overview${t?`?integration=${t}`:""}`],integration_details_policies:({pkgkey:e,integration:t,addAgentToPolicyId:a})=>{const i=(0,n.stringify)({integration:t,addAgentToPolicyId:a});return[r,`/detail/${e}/policies${i?`?${i}`:""}`]},integration_details_assets:({pkgkey:e,integration:t})=>[r,`/detail/${e}/assets${t?`?integration=${t}`:""}`],integration_details_settings:({pkgkey:e,integration:t})=>[r,`/detail/${e}/settings${t?`?integration=${t}`:""}`],integration_details_configs:({pkgkey:e,integration:t})=>[r,`/detail/${e}/configs${t?`?integration=${t}`:""}`],integration_details_custom:({pkgkey:e,integration:t})=>[r,`/detail/${e}/custom${t?`?integration=${t}`:""}`],integration_details_api_reference:({pkgkey:e,integration:t})=>[r,`/detail/${e}/api-reference${t?`?integration=${t}`:""}`],integration_policy_edit:({packagePolicyId:e})=>[r,`/edit-integration/${e}`],integration_policy_upgrade:({packagePolicyId:e})=>[r,`/edit-integration/${e}`],integration_details_language_clients:({pkgkey:e})=>[r,`/language_clients/${e}/overview`],policies:()=>[i,"/policies"],policies_list:()=>[i,"/policies"],policy_details:({policyId:e,tabId:t})=>[i,`/policies/${e}${t?`/${t}`:""}`],add_integration_to_policy:({pkgkey:e,integration:t,agentPolicyId:a,useMultiPageLayout:r})=>{const s=(0,n.stringify)({...a?{policyId:a}:{},...r?{useMultiPageLayout:null}:{}});return[i,`/integrations/${e}/add-integration${t?`/${t}`:""}${s?`?${s}`:""}`]},edit_integration:({policyId:e,packagePolicyId:t})=>[i,`/policies/${e}/edit-integration/${t}`],upgrade_package_policy:({policyId:e,packagePolicyId:t})=>[i,`/policies/${e}/upgrade-package-policy/${t}`],agent_list:({kuery:e,showInactive:t})=>[i,"/agents"+(e&&t?`?kuery=${e}&showInactive=true`:t?"?showInactive=true":"")],agent_details:({agentId:e,tabId:t,logQuery:a})=>[i,`/agents/${e}${t?`/${t}`:""}${a?`?_q=${a}`:""}`],agent_details_logs:({agentId:e})=>[i,`/agents/${e}/logs`],agent_details_diagnostics:({agentId:e})=>[i,`/agents/${e}/diagnostics`],enrollment_tokens:()=>[i,"/enrollment-tokens"],uninstall_tokens:()=>[i,s.uninstall_tokens],data_streams:()=>[i,"/data-streams"],settings:()=>[i,s.settings],settings_edit_fleet_server_hosts:({itemId:e})=>[i,s.settings_edit_fleet_server_hosts.replace(":itemId",e.toString())],settings_create_fleet_server_hosts:()=>[i,s.settings_create_fleet_server_hosts],settings_create_fleet_proxy:()=>[i,s.settings_create_fleet_proxy],settings_edit_fleet_proxy:({itemId:e})=>[i,s.settings_edit_fleet_proxy.replace(":itemId",e.toString())],settings_edit_outputs:({outputId:e})=>[i,s.settings_edit_outputs.replace(":outputId",e)],settings_edit_download_sources:({downloadSourceId:e})=>[i,s.settings_edit_download_sources.replace(":downloadSourceId",e)],settings_create_outputs:()=>[i,s.settings_create_outputs],settings_create_download_sources:()=>[i,s.settings_create_download_sources],debug:()=>[i,s.debug]}},73476:(e,t,a)=>{"use strict";a.d(t,{qfp:()=>H,QOw:()=>l,aOH:()=>G,iGT:()=>se,g4O:()=>u,Fpf:()=>X,Os6:()=>z,K8T:()=>q,tH2:()=>Te,Fjq:()=>g,IDi:()=>k.ID,DGx:()=>k.DG,PTz:()=>k.PT,iF6:()=>k.iF,kJl:()=>k.kJ,AtM:()=>k.At,H_o:()=>k.H_,IsF:()=>k.Is,DWH:()=>k.DW,A$L:()=>k.A$,taj:()=>k.t,mwZ:()=>k.mw,D7A:()=>k.D7,TOj:()=>k.TO,pE1:()=>k.pE,Ot1:()=>k.Ot,cjL:()=>k.cj,RYf:()=>k.RY,AUm:()=>k.AU,cnO:()=>k.cn,Wwg:()=>k.Ww,n_W:()=>k.n_,uWX:()=>k.uW,voy:()=>k.vo,vKr:()=>k.vK,nFK:()=>me,Alm:()=>k.Al,gc9:()=>k.gc,d1z:()=>k.d1,eK3:()=>k.eK,hgW:()=>k.hg,Ag1:()=>k.Ag,F3v:()=>k.F3,aGY:()=>k.aG,PCk:()=>k.PC,W1E:()=>k.W1,IaD:()=>k.I,BoF:()=>k.Bo,TR6:()=>k.TR,OQl:()=>k.OQ,nXS:()=>k.nX,WAz:()=>k.WA,Q8y:()=>k.Q8,wtt:()=>k.wt,q34:()=>k.q3,$n5:()=>k.$n,_Zd:()=>k._Z,Iq8:()=>k.Iq,yX1:()=>k.yX,h_h:()=>k.h_,QUw:()=>k.QU,aJz:()=>k.aJ,DRU:()=>k.DR,YLO:()=>k.YL,nJY:()=>k.nJ,SBA:()=>k.SB,RUT:()=>k.RU,waY:()=>k.w,S6i:()=>k.S6,o6X:()=>k.o6,DTC:()=>k.DT,FA$:()=>k.FA,liT:()=>k.li,aCR:()=>k.aC,lAN:()=>k.lA,xEL:()=>k.xE,Jip:()=>k.Ji,w$b:()=>k.w$,w4G:()=>k.w4,njX:()=>k.nj,Vg9:()=>k.Vg,W$e:()=>k.W$,i0:()=>k.i0,Bs_:()=>k.Bs,E7K:()=>k.E7,VPR:()=>k.VP,uf$:()=>ie,kTZ:()=>k.kT,gCF:()=>Z,JhS:()=>fe,iO7:()=>n.i,jfP:()=>k.jf,whI:()=>U,U6y:()=>D,nhr:()=>k.nh,UKg:()=>c,e3j:()=>ge.e3,OmG:()=>k.Om,z1:()=>k.z1,Dc7:()=>pe,GER:()=>de,YI3:()=>V,Wdf:()=>oe,$sk:()=>k.$s,BOQ:()=>k.BO,VmO:()=>k.Vm,QMF:()=>k.QM,ETA:()=>k.ET,Wm7:()=>k.Wm,DEc:()=>k.DE,FM:()=>k.FM,SFz:()=>k.SF,c3w:()=>k.c3,lse:()=>k.ls,ML2:()=>k.ML,qyb:()=>k.qy,OVZ:()=>k.OV,uaq:()=>k.u,rXq:()=>k.rX,ZJQ:()=>k.ZJ,M4K:()=>k.M4,LUs:()=>k.LU,ASl:()=>k.AS,SZy:()=>k.SZ,Eiq:()=>k.Ei,E1o:()=>k.E1,UyQ:()=>k.Uy,Ia$:()=>k.pP,Fx9:()=>k.Fx,HcE:()=>k.Hc,VIh:()=>k.VI,jUL:()=>k.jU,il9:()=>k.il,qCO:()=>k.qC,ZwD:()=>k.Zw,TMF:()=>k.TM,Gez:()=>L,pmP:()=>k.pm,g7J:()=>W,df5:()=>ue,hhZ:()=>ne,kt3:()=>C,Q14:()=>p,RR_:()=>_,iEg:()=>m,phy:()=>he,hp:()=>M,d6W:()=>P,WQC:()=>A,B6B:()=>k.B6,XaG:()=>k.X,Vj6:()=>J,Zd9:()=>k.Zd,RIP:()=>w,YZM:()=>O,aOf:()=>F,KEg:()=>R,WeA:()=>i.W,MbH:()=>$,fWy:()=>K,MRH:()=>k.MR,PVg:()=>k.PV,gtb:()=>k.gt,zmo:()=>S,C11:()=>N});var n=a(7817),i=a(35146),r=a(84286),s=a.n(r),o=a(43721);const l=s().createContext(null);function c(){const{fleet:e}=(0,i.W)(),t=(0,r.useContext)(l),a=null==e?void 0:e.config,n=t||a||null;if(null===t&&a&&o.warn("Fleet ConfigContext not initialized, using from plugin context"),!n)throw new Error("Fleet ConfigContext not initialized");return n}const u=s().createContext(null);function p(){const e=(0,r.useContext)(u);if(null===e)throw new Error("KibanaVersionContext is not initialized");return e}var d=a(7975);const g=new d.XU;function _(){return g}var E=a(46048);const f=(e,t={})=>t?E.tn[e](t):E.tn[e](),m=()=>{const e=(0,i.W)();return{getPath:(e,t={})=>f(e,t)[1],getAbsolutePath:t=>e.http.basePath.prepend(`${t}`),getAssetsPath:t=>e.http.basePath.prepend(`/plugins/${E.s_}/assets/${t}`),getHref:(t,a)=>{const[n,i]=f(t,a);return e.http.basePath.prepend(`${n}${i}`)}}};var v=a(81319),h=a(29720);const T=new Map,P=({packageName:e,integrationName:t,version:a,icons:n,tryApi:i=!1})=>{var s;const{toPackageImage:o}=(0,h.J)(),[l,c]=(0,r.useState)(),[u,p]=(0,r.useState)(""),d=`${e}-${a}${t?`-${t}`:""}`;return(0,r.useEffect)((()=>{var t;if(T.has(d))return void p(T.get(d)||"");const r=null===(t=n&&n.length?n:l)||void 0===t?void 0:t.filter((e=>"image/svg+xml"===e.type)),s=Array.isArray(r)&&o(r[0],e,a);if(s)return T.set(d,s),void p(T.get(d)||"");const u=v.ICON_TYPES.find((t=>t.toLowerCase()===`logo${e}`));if(u)return T.set(d,u),void p(u);!i||n||l||(0,k.Bo)(e,a).catch((e=>{})).then((e=>{var t,a;T.delete(d),c(null==e||null===(t=e.data)||void 0===t||null===(a=t.item)||void 0===a?void 0:a.icons)})),T.set(d,"package"),p("package")}),[n,d,o,l,e,u,i,a]),""!==u?u:null!==(s=T.get(d))&&void 0!==s?s:u},y=[5,20,50];function A(e={currentPage:1,pageSize:20}){const[t,a]=(0,r.useState)(e);return{pagination:t,setPagination:a,pageSizeOptions:(0,r.useMemo)((()=>[...y]),[])}}var I=a(1493),b=a(20151);function S(){const{search:e}=(0,I.useLocation)(),[t,a]=(0,r.useState)((()=>(0,b.parse)(e))),n=(0,r.useCallback)(((e=t)=>(0,b.stringify)(e)),[t]);return(0,r.useEffect)((()=>{a((0,b.parse)(e))}),[e]),{urlParams:t,toUrlParams:n}}function R(e){const[t,a]=(0,r.useState)(e);return{sorting:t,setSorting:a}}var k=a(71230);function N(e){return Object.values(e).reduce(((e,t)=>{const a=t.validate();return!1===e?e:a}),!0)}function L(e="",t,a=!1){const[n,i]=(0,r.useState)(e),[s,o]=(0,r.useState)(),[l,c]=(0,r.useState)(!1),u=(0,r.useCallback)((e=>{const a=e.target.value;i(a),s&&t&&void 0===t(a)&&o(void 0)}),[s,t]);(0,r.useEffect)((()=>{l||n!==e&&c(!0)}),[l,n,e]);const p=void 0!==s;return{value:n,errors:s,props:{onChange:u,value:n,isInvalid:p,disabled:a},formRowProps:{error:s,isInvalid:p},clear:()=>{i("")},validate:()=>{if(t){const e=t(n);return o(e),void 0===e}return!0},setValue:i,hasChanged:l}}function O(e,t,a=!1){const[n,i]=(0,r.useState)(e),[s,o]=(0,r.useState)(),[l,c]=(0,r.useState)(!1),u=(0,r.useCallback)((e=>{const a=e.target.value;i(a),s&&t&&void 0===t(a)&&o(void 0)}),[s,t]);(0,r.useEffect)((()=>{l||n!==e&&c(!0)}),[l,n,e]);const p=void 0!==s;return{value:n,errors:s,props:{onChange:u,value:"string"==typeof n?n:"",isInvalid:p,disabled:a},formRowProps:{error:s,isInvalid:p,initialValue:e,disabled:a,clear:()=>{i("")}},cancelEdit:()=>{i(e||"")},validate:()=>{if(t){const e=t(n);return o(e),void 0===e}return!0},setValue:i,hasChanged:l}}function w(e,t=!1){const[a,n]=(0,r.useState)(e),[i,s]=(0,r.useState)(!1);(0,r.useEffect)((()=>{i||a!==e&&s(!0)}),[i,a,e]);const o=(0,r.useCallback)(n,[n]);return{props:{idSelected:a,onChange:o,disabled:t},setValue:n,value:a,hasChanged:i}}function $(e=!1,t=!1){const[a,n]=(0,r.useState)(e),[i,s]=(0,r.useState)(!1);(0,r.useEffect)((()=>{i||a!==e&&s(!0)}),[i,a,e]);const o=(0,r.useCallback)((()=>!0),[]);return{value:a,props:{onChange:e=>{const t=e.target.checked;n(t)},checked:a,disabled:t},validate:o,formRowProps:{},setValue:n,hasChanged:i}}function x(e,t,a,n=!1){const[i,s]=(0,r.useState)(t),[o,l]=(0,r.useState)(),[c,u]=(0,r.useState)(!1);(0,r.useEffect)((()=>{c||JSON.stringify(i)!==JSON.stringify(t)&&u(!0)}),[c,i,t]);const p=void 0!==o,d=(0,r.useCallback)((()=>{if(a){const e=a(i);return l(e),void 0===e}return!0}),[a,i]),g=(0,r.useCallback)((e=>{s(e),o&&a&&l(a(e))}),[a,o]);return{props:{id:e,value:i,onChange:g,errors:o,isInvalid:p,disabled:n},formRowProps:{error:o,isInvalid:p},value:i,clear:()=>{s(t)},setValue:s,validate:d,hasChanged:c}}function D(e,t=[],a,n=!1){return x(e,t,a,n)}function C(e,t=[],a,n=!1){return x(e,t,a,n)}function M(e,t,a=!1){const[n,i]=(0,r.useState)(e),[s,o]=(0,r.useState)(),[l,c]=(0,r.useState)(!1),u=(0,r.useCallback)((e=>{const a=e.target.value?Number(e.target.value):void 0;i(a),a&&s&&t&&void 0===t(a)&&o(void 0)}),[s,t]);(0,r.useEffect)((()=>{l||n!==e&&c(!0)}),[l,n,e]);const p=void 0!==s;return{value:n,errors:s,props:{onChange:u,value:n,isInvalid:p,disabled:a},formRowProps:{error:s,isInvalid:p},clear:()=>{i(void 0)},validate:()=>{if(t&&n){const e=t(n);return o(e),void 0===e}return!0},setValue:i,hasChanged:l}}function F(e,t="",a=!1){const[n,i]=(0,r.useState)(t);return{props:{options:e,value:n,onChange:(0,r.useCallback)((e=>{i(e.target.value)}),[]),disabled:a},value:n,clear:()=>{i("")},setValue:i}}function U(e,t=[],a,n=!1){var i;const[s,o]=(0,r.useState)(t),[l,c]=(0,r.useState)(),u=(0,r.useCallback)((e=>{o(e),l&&a&&c(a(e))}),[a,l]),p=(0,r.useCallback)((()=>{if(a){const e=a(s);return c(e),void 0===e}return!0}),[a,s]),d=s.length>0?null===(i=s[0])||void 0===i?void 0:i.value:"",g=void 0!==l;return{props:{id:e,onChange:u,onCreateOption:e=>{const t=e.trim(),n={label:t,value:t};o([n]),a&&c(a([n]))},errors:l,isInvalid:g,disabled:n,selectedOptions:s},formRowProps:{error:l,isInvalid:g},value:d,clear:()=>{o(t)},setSelected:o,validate:p}}var B=a(96791);const j=s().createContext(void 0),G=({defaultFleetStatus:e,children:t})=>{var a,n;const s=c(),{spaces:o}=(0,i.W)(),[l,u]=(0,r.useState)(),[p,d]=(0,r.useState)(!1),{data:g,isLoading:_,refetch:E}=(0,k._J)();(0,r.useEffect)((()=>{(async()=>{if(o){const e=await o.getActiveSpace();u(e.id)}})()}),[o]);const f={...e,enabled:s.agents.enabled,isLoading:_,isReady:null!==(a=null!==(n=!_&&(null==g?void 0:g.isReady))&&void 0!==n?n:null==e?void 0:e.isReady)&&void 0!==a&&a,missingRequirements:null==g?void 0:g.missing_requirements,missingOptionalFeatures:null==g?void 0:g.missing_optional_features,isSecretsStorageEnabled:null==g?void 0:g.is_secrets_storage_enabled,isSpaceAwarenessEnabled:null==g?void 0:g.is_space_awareness_enabled,spaceId:l};return(0,B.jsx)(j.Provider,{value:{...f,refetch:E,forceDisplayInstructions:p,setForceDisplayInstructions:d}},t)};function V(){const e=(0,r.useContext)(j);if(!e)throw new Error("FleetStatusContext not set");return e}const q=s().createContext({}),K=(e,t)=>{var a;const n=(0,r.useContext)(q);if(!n)throw new Error("useUIExtension called outside of UIExtensionsContext");const i=null==n||null===(a=n[e])||void 0===a?void 0:a[t];if(i)return i};function W(){return(0,I.useLocation)().state}var Q=a(75008);const z=[{id:"linux",label:Q.i18n.translate("xpack.fleet.enrollmentInstructions.platformButtons.linux",{defaultMessage:"Linux Tar"}),"data-test-subj":"platformTypeLinux"},{id:"mac",label:Q.i18n.translate("xpack.fleet.enrollmentInstructions.platformButtons.mac",{defaultMessage:"Mac"}),"data-test-subj":"platformTypeMac"},{id:"windows",label:Q.i18n.translate("xpack.fleet.enrollmentInstructions.platformButtons.windows",{defaultMessage:"Windows"}),"data-test-subj":"platformTypeWindows"},{id:"rpm",label:Q.i18n.translate("xpack.fleet.enrollmentInstructions.platformButtons.linux.rpm",{defaultMessage:"RPM"}),"data-test-subj":"platformTypeLinuxRpm"},{id:"deb",label:Q.i18n.translate("xpack.fleet.enrollmentInstructions.platformButtons.linux.deb",{defaultMessage:"DEB"}),"data-test-subj":"platformTypeLinuxDeb"}],X=[...z,{id:"kubernetes",label:Q.i18n.translate("xpack.fleet.enrollmentInstructions.platformButtons.kubernetes",{defaultMessage:"Kubernetes"}),"data-test-subj":"platformTypeKubernetes"}];function J(e="linux"){const[t,a]=(0,r.useState)(e);return{platform:t,setPlatform:a}}Q.i18n.translate("xpack.fleet.enrollmentInstructions.platformButtons.googleCloudShell",{defaultMessage:"Google Cloud Shell Script"});const H=s().createContext({refresh:()=>{}});function Z(){return s().useContext(H).refresh}var Y=a(2083),ee=a.n(Y),te=a(4408),ae=a(17851);const ne=()=>{const{data:e,isLoading:t}=(0,ae.VI)({prerelease:!0}),a=(0,r.useMemo)((()=>((null==e?void 0:e.items)||[]).filter((e=>e.status===te.lRn.Installed))),[null==e?void 0:e.items]);return{isPackagePolicyUpgradable:(0,r.useCallback)((e=>{var t;if(!e.package)return!1;const{name:n,version:i}=e.package,r=a.find((e=>{var t;return"installationInfo"in e&&(null===(t=e.installationInfo)||void 0===t?void 0:t.name)===n}));return!(null==r||null===(t=r.installationInfo)||void 0===t||!t.version||!ee()(i,r.installationInfo.version))}),[a]),isLoadingPackages:t}};function ie(){var e;const{data:t,isInitialRequest:a,isLoading:n,resendRequest:i}=(0,k.$s)({page:1,perPage:E.W}),{data:s,isInitialRequest:o,isLoading:l,resendRequest:c}=(0,k.ls)();return{agentPolicies:(0,r.useMemo)((()=>{if(!n||!l){var e,a;const n=null==s||null===(e=s.fleet_server)||void 0===e?void 0:e.policies.map((e=>e.id));return(null!==(a=null==t?void 0:t.items)&&void 0!==a?a:[]).filter((e=>!(null!=n&&n.includes(e.id))))}return[]}),[n,l,null==s||null===(e=s.fleet_server)||void 0===e?void 0:e.policies,null==t?void 0:t.items]),refreshAgentPolicies:()=>{i(),c()},isLoadingInitialAgentPolicies:a||o,isLoadingAgentPolicies:n||l}}const re=(0,r.createContext)(void 0),se=({children:e})=>{const[t,a]=(0,r.useState)(!1),[n,i]=(0,r.useState)(!1);return(0,B.jsx)(re.Provider,{value:{isEnrollmentFlyoutOpen:t,openEnrollmentFlyout:()=>{a(!0)},closeEnrollmentFlyout:()=>a(!1),isFleetServerFlyoutOpen:n,openFleetServerFlyout:()=>i(!0),closeFleetServerFlyout:()=>i(!1)}},e)},oe=()=>{const e=(0,r.useContext)(re);if(!e)throw new Error("useFlyoutContext must be used within a FlyoutContextProvider");return e};var le=a(77880),ce=a(80190);const ue=e=>{const[t,a]=(0,r.useState)(!1),{guidedOnboarding:n}=(0,i.W)(),s=(0,le.A)(null!=n&&n.guidedOnboardingApi?n.guidedOnboardingApi.isGuidedOnboardingActiveForIntegration$(e):(0,ce.of)(!1));return(0,r.useEffect)((()=>{a(!!s)}),[s]),t};function pe(e){const{isLoading:t,isInitialRequest:a,data:n}=(0,k.ls)({agentPolicyId:null==e?void 0:e.id});return(0,r.useMemo)((()=>{var e;return{isLoadingInitialRequest:t&&a,fleetServerHost:(null==n||null===(e=n.fleet_server.host)||void 0===e?void 0:e.host_urls[0])||"",fleetProxy:null==n?void 0:n.fleet_server.host_proxy,esOutput:null==n?void 0:n.fleet_server.es_output,esOutputProxy:null==n?void 0:n.fleet_server.es_output_proxy,downloadSource:null==n?void 0:n.download_source,downloadSourceProxy:null==n?void 0:n.download_source_proxy}}),[t,a,null==n?void 0:n.fleet_server.host,null==n?void 0:n.fleet_server.host_proxy,null==n?void 0:n.fleet_server.es_output,null==n?void 0:n.fleet_server.es_output_proxy,null==n?void 0:n.download_source,null==n?void 0:n.download_source_proxy])}function de(){var e,t;return{isFleetServerStandalone:null!==(e=null===(t=c().internal)||void 0===t?void 0:t.fleetServerStandalone)&&void 0!==e&&e}}var ge=a(98183),_e=a(27618),Ee=a.n(_e);const fe=()=>{const e=p(),[t,a]=(0,r.useState)(void 0);return(0,r.useEffect)((()=>{(async()=>{try{var t;const n=await(0,k.vK)(),i=null==n||null===(t=n.data)||void 0===t?void 0:t.items;let r;null==i||i.sort(Ee()),r=i&&i.length>0&&0!==i.indexOf(e)?i.find((t=>ee()(t,e)||(0,d.LO)(t,e)))||i[0]:e,a(r)}catch(t){a(e)}})()}),[e]),t};async function me(e=!1){var t,a,n,i,r;const s=await(0,k.TR)({page:1,perPage:E.W,kuery:`${E.f$}.package.name:${E.k7}`}),o=[...new Set(null!==(t=null==s||null===(a=s.data)||void 0===a?void 0:a.items.flatMap((e=>e.policy_ids)))&&void 0!==t?t:[])];if(0===o.length)return{allFleetServerAgents:[]};const l=`${E.Ah}.policy_id:(${o.map((e=>`"${e}"`)).join(" or ")})`,c=await(0,k.vo)({kuery:l,perPage:e?0:E.W,showInactive:!1});return{allFleetServerAgents:(null===(n=c.data)||void 0===n?void 0:n.items)||[],fleetServerAgentsCount:null!==(i=null===(r=c.data)||void 0===r?void 0:r.total)&&void 0!==i?i:0}}var ve=a(74892);function he(){return{canUseMultipleAgentPolicies:Te()}}function Te(){const{enableReusableIntegrationPolicies:e}=ve.ZX.get(),t=g.hasAtLeast(te.gIc);return Boolean(e&&t)}},7817:(e,t,a)=>{"use strict";a.d(t,{i:()=>i});var n=a(35146);function i(){return(0,n.W)().authz}},35146:(e,t,a)=>{"use strict";a.d(t,{W:()=>i});var n=a(20409);function i(){const{services:e}=(0,n.useKibana)();if(null===e)throw new Error("KibanaContextProvider not initialized");return e}},98183:(e,t,a)=>{"use strict";a.d(t,{e3:()=>s,qN:()=>r});var n=a(46048),i=a(35146);function r(e){return(0,i.W)().share.url.locators.get(e)}function s(){return r(n.DY.DASHBOARD_APP)}},17851:(e,t,a)=>{"use strict";a.d(t,{Al:()=>k,Bo:()=>h,DG:()=>A,E1:()=>f,ET:()=>u,Fx:()=>m,Hc:()=>v,Ji:()=>I,ML:()=>T,MR:()=>S,OQ:()=>E,Q8:()=>y,VI:()=>g,Wm:()=>d,hg:()=>P,jU:()=>_,nj:()=>b,pm:()=>R,qC:()=>p,u:()=>N});var n=a(13530),i=a(84286),r=a(74892),s=a(4408),o=a(64972),l=a(75483),c=a(14366);function u(){return(0,n.useQuery)(["get-append-custom-integrations"],(()=>(0,o.TG)().getAppendCustomIntegrations()))}function p(){return(0,n.useQuery)(["get-replacemenet-custom-integrations"],(()=>(0,o.TG)().getReplacementCustomIntegrations()))}function d(e={}){return(0,n.useQuery)(["categories",e],(()=>(0,c.w4)({path:r.P_.getCategoriesPath(),method:"get",query:e,version:s.BoD.public.v1})),{retry:(e,t)=>!L(t),refetchOnWindowFocus:!1})}const g=(e={})=>(0,c.bP)({path:r.P_.getListPath(),method:"get",version:s.BoD.public.v1,query:e}),_=(e,t)=>(0,n.useQuery)({queryKey:["get-packages",e],queryFn:()=>(0,c.w4)({path:r.P_.getListPath(),method:"get",version:s.BoD.public.v1,query:e}),enabled:null==t?void 0:t.enabled,retry:(e,t)=>!L(t),refetchOnWindowFocus:!1}),E=(e={})=>(0,c.w$)({path:r.P_.getListPath(),method:"get",version:s.BoD.public.v1,query:e}),f=(e,t,a,o={enabled:!0})=>{const u=(0,l.L)(),[p,d]=(0,i.useState)(null==a?void 0:a.ignoreUnverified),g=(0,n.useQuery)([e,t,a],(()=>(0,c.w4)({path:r.P_.getInfoPath(e,t),method:"get",version:s.BoD.public.v1,query:{...a,...p&&{ignoreUnverified:p}}})),{enabled:o.enabled,refetchOnMount:o.refetchOnMount,retry:(e,t)=>!L(t),refetchOnWindowFocus:!1});return null!=g&&g.error&&(0,r.G0)(null==g?void 0:g.error)&&(async()=>{await u(e)&&d(!0)})(),g},m=e=>(0,c.bP)({path:r.P_.getStatsPath(e),method:"get",version:s.BoD.public.v1}),v=()=>{const{data:e,...t}=(0,n.useQuery)(["verification_key_id"],(()=>(0,c.w4)({path:r.P_.getVerificationKeyIdPath(),method:"get",version:s.BoD.public.v1})));return{packageVerificationKeyId:(null==e?void 0:e.id)||void 0,...t}},h=(e,t,a)=>(0,c.w$)({path:r.P_.getInfoPath(e,t),method:"get",version:s.BoD.public.v1,query:a}),T=e=>(0,n.useQuery)(["get-file",e],(()=>(0,c.w$)({path:r.P_.getFilePath(e),method:"get",version:s.BoD.public.v1}))),P=e=>(0,c.w$)({path:r.P_.getFilePath(e),method:"get",version:s.BoD.public.v1}),y=(e,t,a=!1)=>{const n=a?{force:a}:void 0;return(0,c.w$)({path:r.P_.getInstallPath(e,t),method:"post",version:s.BoD.public.v1,body:n})},A=e=>(0,c.w$)({path:r.P_.getBulkInstallPath(),method:"post",version:s.BoD.public.v1,body:{packages:e}}),I=(e,t,a=!1)=>(0,c.w$)({path:r.P_.getRemovePath(e,t),method:"delete",version:s.BoD.public.v1,body:{force:a}}),b=(e,t,a)=>(0,c.w$)({path:r.P_.getReauthorizeTransformsPath(e,t),method:"post",version:s.BoD.public.v1,body:{transforms:a}}),S=()=>(0,n.useMutation)((({pkgName:e,pkgVersion:t,body:a})=>(0,c.w4)({path:r.P_.getUpdatePath(e,t),method:"put",version:s.BoD.public.v1,body:a}))),R=()=>{const e=(0,n.useQueryClient)();return(0,n.useMutation)({mutationFn:({pkgName:e,pkgVersion:t})=>(0,c.w4)({path:r.P_.getInstallKibanaAssetsPath(e,t),method:"post",version:s.BoD.public.v1}),onSuccess:(t,{pkgName:a,pkgVersion:n})=>e.invalidateQueries([a,n])})},k=e=>(0,c.w$)({path:r.P_.getBulkAssetsPath(),method:"post",version:s.BoD.public.v1,body:e});function N({pkgName:e,pkgVersion:t},a){return(0,n.useQuery)(["inputsTemplates",e,t,a],(()=>(0,c.w4)({path:r.P_.getInputsTemplatesPath(e,t),method:"get",query:a,version:s.BoD.public.v1})))}function L(e){return 502===e.statusCode}},71230:(e,t,a)=>{"use strict";a.d(t,{ID:()=>u,DG:()=>Ee.DG,PT:()=>h,iF:()=>m,kJ:()=>f,At:()=>_e,H_:()=>I,Is:()=>fe,DW:()=>T,A$:()=>Y,t:()=>Ve,mw:()=>Je,D7:()=>We,TO:()=>pe,pE:()=>ye,Ot:()=>S,cj:()=>De,RY:()=>ae,AU:()=>G,cn:()=>p,Ww:()=>V,n_:()=>q,uW:()=>Z,vo:()=>j,vK:()=>oe,Al:()=>Ee.Al,gc:()=>F,d1:()=>de,eK:()=>Oe,hg:()=>Ee.hg,Ag:()=>E,F3:()=>_,aG:()=>ue,PC:()=>w,W1:()=>C,I:()=>Ae,Bo:()=>Ee.Bo,TR:()=>N,OQ:()=>Ee.OQ,nX:()=>xe,WA:()=>Re,Q8:()=>Ee.Q8,wt:()=>ee,q3:()=>K,$n:()=>Q,_Z:()=>X,Iq:()=>W,yX:()=>se,h_:()=>z,QU:()=>te,aJ:()=>H,DR:()=>ne,YL:()=>Ge,nJ:()=>He,SB:()=>ze,RU:()=>Ye,w:()=>Te,S6:()=>Pe,o6:()=>J,DT:()=>ie,FA:()=>re,li:()=>je,aC:()=>Ze,lA:()=>Qe,xE:()=>he,Ji:()=>Ee.Ji,w$:()=>n.w$,w4:()=>n.w4,nj:()=>Ee.nj,Vg:()=>A,W$:()=>y,i0:()=>we,Bs:()=>v,E7:()=>b,VP:()=>x,Oo:()=>n.Oo,kT:()=>tt,jf:()=>c,nh:()=>n.nh,Om:()=>ve,z1:()=>P,$s:()=>o,BO:()=>l,Vm:()=>le,QM:()=>B,ET:()=>Ee.ET,Wm:()=>Ee.Wm,DE:()=>Ue,FM:()=>M,SF:()=>Be,c3:()=>ge,ls:()=>Le,ML:()=>Ee.ML,qy:()=>Xe,OV:()=>Ke,_J:()=>$e,u:()=>Ee.u,rX:()=>U,ZJ:()=>d,M4:()=>g,LU:()=>ce,AS:()=>O,SZ:()=>L,Ei:()=>me,E1:()=>Ee.E1,Uy:()=>k,pP:()=>R,Fx:()=>Ee.Fx,Hc:()=>Ee.Hc,VI:()=>Ee.VI,jU:()=>Ee.jU,il:()=>Fe,qC:()=>Ee.qC,Zw:()=>be,TM:()=>Ie,nI:()=>Se,pm:()=>Ee.pm,B6:()=>Me,X:()=>Ce,Zd:()=>ke,MR:()=>Ee.MR,PV:()=>D,gt:()=>$});var n=a(14366),i=a(13530),r=a(74892),s=a(4408);const o=e=>(0,n.bP)({path:r.M5.getListPath(),method:"get",query:{...null!=e?e:{},noAgentCount:!1!==(null==e?void 0:e.noAgentCount)},version:s.BoD.public.v1}),l=(e,t)=>(0,i.useQuery)({queryKey:["agentPolicies",e],queryFn:()=>(0,n.w4)({path:r.M5.getListPath(),method:"get",query:{...null!=e?e:{},noAgentCount:!1!==(null==e?void 0:e.noAgentCount)},version:s.BoD.public.v1}),enabled:null==t?void 0:t.enabled}),c=(e,t)=>(0,i.useQuery)(["agentPolicies",e],(()=>(0,n.w4)({path:r.M5.getBulkGetPath(),method:"post",body:JSON.stringify({ids:e,full:null==t?void 0:t.full}),version:s.BoD.public.v1}))),u=(e,t)=>(0,n.w$)({path:r.M5.getBulkGetPath(),method:"post",body:JSON.stringify({ids:e,full:null==t?void 0:t.full,ignoreMissing:null==t?void 0:t.ignoreMissing}),version:s.BoD.public.v1}),p=e=>(0,n.w$)({path:r.M5.getListPath(),method:"get",query:e,version:s.BoD.public.v1}),d=e=>(0,n.nh)({path:e?r.M5.getInfoPath(e):void 0,method:"get",shouldSendRequest:!!e,version:s.BoD.public.v1}),g=e=>(0,n.bP)({path:r.M5.getInfoFullPath(e),method:"get",version:s.BoD.public.v1}),_=(e,t={})=>(0,n.w$)({path:r.M5.getInfoFullPath(e),method:"get",query:t,version:s.BoD.public.v1}),E=e=>(0,n.w$)({path:r.M5.getInfoPath(e),method:"get",version:s.BoD.public.v1}),f=(e,{withSysMonitoring:t}={withSysMonitoring:!1})=>(0,n.w4)({path:r.M5.getCreatePath(),method:"post",body:JSON.stringify(e),query:t?{sys_monitoring:!0}:{},version:s.BoD.public.v1}),m=(e,{withSysMonitoring:t}={withSysMonitoring:!1})=>(0,n.w$)({path:r.M5.getCreatePath(),method:"post",body:JSON.stringify(e),query:t?{sys_monitoring:!0}:{},version:s.BoD.public.v1}),v=(e,t)=>(0,n.w$)({path:r.M5.getUpdatePath(e),method:"put",body:JSON.stringify(t),version:s.BoD.public.v1}),h=(e,t)=>(0,n.w$)({path:r.M5.getCopyPath(e),method:"post",body:JSON.stringify(t)}),T=e=>(0,n.w$)({path:r.M5.getDeletePath(),method:"post",body:JSON.stringify(e),version:s.BoD.public.v1});function P(){const e=(0,i.useQueryClient)();return(0,i.useMutation)({mutationFn:T,onSuccess:()=>e.invalidateQueries(["agentPolicies"])})}const y=e=>(0,n.w$)({path:r.M5.getResetOnePreconfiguredAgentPolicyPath(e),method:"post",body:JSON.stringify({}),version:s.BoD.internal.v1}),A=()=>(0,n.w$)({path:r.M5.getResetAllPreconfiguredAgentPolicyPath(),method:"post",body:JSON.stringify({}),version:s.BoD.internal.v1}),I=e=>(0,n.w$)({path:r.Jg.getCreatePath(),method:"post",version:s.BoD.public.v1,body:JSON.stringify(e)}),b=(e,t)=>(0,n.w$)({path:r.Jg.getUpdatePath(e),method:"put",version:s.BoD.public.v1,body:JSON.stringify(t)}),S=e=>(0,n.w$)({path:r.Jg.getDeletePath(),method:"post",version:s.BoD.public.v1,body:JSON.stringify(e)});function R(e,t={}){return(0,i.useQuery)(["packagePolicies"],(()=>(0,n.w4)({method:"get",version:s.BoD.public.v1,path:r.Jg.getListPath(),query:e})),t)}function k(e){return(0,n.bP)({method:"get",version:s.BoD.public.v1,path:r.Jg.getListPath(),query:e})}const N=e=>(0,n.w$)({method:"get",version:s.BoD.public.v1,path:r.Jg.getListPath(),query:e}),L=e=>(0,i.useQuery)(["packagePolicy",e],(()=>(0,n.w4)({method:"get",version:s.BoD.public.v1,path:r.Jg.getInfoPath(e)}))),O=e=>(0,n.bP)({path:r.Jg.getInfoPath(e),method:"get",version:s.BoD.public.v1}),w=e=>(0,n.w$)({path:r.Jg.getInfoPath(e),method:"get",version:s.BoD.public.v1});function $(e,t,{enabled:a}={}){const o={packagePolicyIds:e};return t&&(o.packageVersion=t),(0,i.useQuery)(["upgradePackagePolicyDryRun",e,t],(()=>(0,n.w4)({path:r.Jg.getDryRunPath(),method:"post",version:s.BoD.public.v1,body:JSON.stringify(o)})),{enabled:a})}function x(e,t){const a={packagePolicyIds:e};return t&&(a.packageVersion=t),(0,n.w$)({path:r.Jg.getDryRunPath(),method:"post",version:s.BoD.public.v1,body:JSON.stringify(a)})}function D(){return(0,i.useMutation)((({packagePolicyIds:e})=>(0,n.w4)({path:r.Jg.getUpgradePath(),method:"post",version:s.BoD.public.v1,body:JSON.stringify({packagePolicyIds:e})})),{retry:!1})}function C(){return(0,n.w$)({path:r.Jg.getOrphanedIntegrationPoliciesPath(),method:"get",version:s.BoD.public.v1})}const M=()=>(0,n.bP)({path:r.nB.getListPath(),method:"get",version:s.BoD.public.v1}),F=async()=>{const e=await(0,n.w$)({path:r.nB.getListPath(),method:"get"});if(e.error)throw e.error;return e.data};function U(e,t){return(0,n.bP)({path:r.AQ.getInfoPath(e),method:"get",version:s.BoD.public.v1,...t})}function B(e,t={}){return(0,i.useQuery)(["agents",e],(()=>j(e)),{enabled:t.enabled})}function j(e,t){return(0,n.w$)({method:"get",path:r.AQ.getListPath(),version:s.BoD.public.v1,query:e,...t})}function G(e){return(0,n.w$)({method:"get",path:r.AQ.getIncomingDataPath(),query:e,version:s.BoD.public.v1})}function V(e,t){return(0,n.w$)({method:"get",path:r.AQ.getStatusPath(),query:e,version:s.BoD.public.v1,...t})}function q(e,t){return(0,n.w$)({method:"get",path:r.AQ.getListTagsPath(),query:e,version:s.BoD.public.v1,...t})}function K(e,t,a){return(0,n.w$)({method:"post",path:r.AQ.getReassignPath(e),body:t,version:s.BoD.public.v1,...a})}function W(e,t){return(0,n.w$)({method:"post",path:r.AQ.getBulkReassignPath(),body:e,version:s.BoD.public.v1,...t})}function Q(e,t,a){return(0,n.w$)({path:r.AQ.getUnenrollPath(e),method:"post",body:t,version:s.BoD.public.v1,...a})}function z(e,t){return(0,n.w$)({path:r.AQ.getBulkUnenrollPath(),method:"post",body:e,version:s.BoD.public.v1,...t})}function X(e,t,a){return(0,n.w$)({path:r.AQ.getUpgradePath(e),method:"post",body:t,version:s.BoD.public.v1,...a})}function J(e,t,a){return(0,n.w$)({path:r.AQ.getRequestDiagnosticsPath(e),method:"post",body:t,version:s.BoD.public.v1,...a})}function H(e,t){return(0,n.w$)({path:r.AQ.getBulkRequestDiagnosticsPath(),method:"post",body:e,version:s.BoD.public.v1,...t})}function Z(e,t){return(0,n.w$)({path:r.AQ.getListAgentUploads(e),method:"get",version:s.BoD.public.v1,...t})}function Y(e,t){return(0,n.w$)({path:r.AQ.getAgentFileDeletePath(e),method:"delete",version:s.BoD.public.v1,...t})}function ee(e,t,a){return(0,n.w$)({path:r.AQ.getCreateActionPath(e),method:"post",body:t,version:s.BoD.public.v1,...a})}function te(e,t){return(0,n.w$)({path:r.AQ.getBulkUpgradePath(),method:"post",body:e,version:s.BoD.public.v1,...t})}function ae(e={}){return(0,n.w$)({path:r.AQ.getActionStatusPath(),method:"get",version:s.BoD.public.v1,query:e})}function ne(e){return(0,n.w$)({path:r.AQ.getCancelActionPath(e),method:"post",version:s.BoD.public.v1})}function ie(e){return(0,n.w$)({path:r.AQ.getAgentsByActionsPath(),method:"post",version:s.BoD.public.v1,body:e})}function re(e,t,a){return(0,n.w$)({method:"put",path:r.AQ.getUpdatePath(e),body:t,version:s.BoD.public.v1,...a})}function se(e,t){return(0,n.w$)({method:"post",path:r.AQ.getBulkUpdateTagsPath(),body:e,version:s.BoD.public.v1,...t})}function oe(){return(0,n.w$)({method:"get",path:r.AQ.getAvailableVersionsPath(),version:s.BoD.public.v1})}function le(e={}){return(0,i.useQuery)(["status_runtime_field"],(()=>(0,n.w4)({method:"get",path:"/internal/fleet/agents/status_runtime_field",version:s.BoD.internal.v1})),{enabled:e.enabled})}function ce(e){return(0,n.nh)({method:"get",path:e?r.ed.getInfoPath(e):void 0,shouldSendRequest:!!e,version:s.BoD.public.v1})}function ue(e,t){return(0,n.w$)({method:"get",path:r.ed.getInfoPath(e),version:s.BoD.public.v1,...t})}function pe(e,t){return(0,n.w$)({method:"delete",path:r.ed.getDeletePath(e),version:s.BoD.public.v1,...t})}function de(e,t){return(0,n.w$)({method:"get",path:r.ed.getListPath(),version:s.BoD.public.v1,query:e,...t})}function ge(e,t){return(0,n.bP)({method:"get",path:r.ed.getListPath(),version:s.BoD.public.v1,query:e,...t})}function _e(e){return(0,n.w$)({method:"post",path:r.ed.getCreatePath(),version:s.BoD.public.v1,body:e})}var Ee=a(17851);function fe(e){return(0,n.w4)({method:"post",path:s.G3l,version:s.BoD.internal.v1,body:e})}function me(){return(0,n.bP)({method:"get",path:r.jj.getListPath(),version:s.BoD.public.v1})}function ve(){var e;const t=me();return{output:null===(e=t.data)||void 0===e?void 0:e.items.find((e=>e.is_default)),refresh:t.resendRequest}}function he(e,t){return(0,n.w$)({method:"put",path:r.jj.getUpdatePath(e),version:s.BoD.public.v1,body:t})}function Te(){return(0,n.w$)({method:"post",path:r.jj.getCreateLogstashApiKeyPath(),version:s.BoD.public.v1})}function Pe(e){return(0,n.w$)({method:"post",path:r.jj.getCreatePath(),version:s.BoD.public.v1,body:e})}function ye(e){return(0,n.w$)({method:"delete",path:r.jj.getDeletePath(e),version:s.BoD.public.v1})}function Ae(e){return(0,n.w$)({method:"get",path:r.jj.getOutputHealthPath(e),version:s.BoD.public.v1})}function Ie(e){return(0,i.useQuery)({queryKey:["settings"],enabled:null==e?void 0:e.enabled,queryFn:()=>(0,n.w4)({method:"get",path:r.B4.getInfoPath(),version:s.BoD.public.v1})})}function be(){return(0,n.bP)({method:"get",path:r.B4.getInfoPath(),version:s.BoD.public.v1})}function Se({enabled:e}){return(0,i.useQuery)({queryKey:["space_settings"],enabled:e,queryFn:()=>(0,n.w4)({method:"get",path:r.B4.getSpaceInfoPath(),version:s.BoD.public.v1})})}function Re(){return(0,n.w$)({method:"get",path:r.B4.getInfoPath(),version:s.BoD.public.v1})}function ke(){const e=(0,i.useQueryClient)();return(0,i.useMutation)({mutationFn:Ne,onSuccess:()=>{e.invalidateQueries(["settings"])}})}function Ne(e){return(0,n.w$)({method:"put",path:r.B4.getUpdatePath(),version:s.BoD.public.v1,body:e})}function Le(e){return(0,n.bP)({method:"get",path:r.B4.getEnrollmentInfoPath(),version:s.BoD.public.v1,query:e})}function Oe(e){return(0,n.w$)({method:"get",path:r.B4.getEnrollmentInfoPath(),version:s.BoD.public.v1,query:e})}const we=()=>(0,n.w$)({path:r.Sx.getSetupPath(),method:"post",version:s.BoD.public.v1}),$e=()=>(0,i.useQuery)(["fleetStatus"],(()=>(0,n.w4)({path:r.Gg.getFleetSetupPath(),method:"get",version:s.BoD.public.v1}))),xe=e=>(0,n.w$)({path:r.RI.getCheckPermissionsPath(),method:"get",query:{fleetServerSetup:e},version:s.BoD.public.v1}),De=e=>(0,n.w$)({path:r.RI.getRegenerateServiceTokenPath(),method:"post",query:{remote:e},version:s.BoD.public.v1}),Ce=()=>(0,i.useQuery)(["permissionsCheck"],(()=>(0,n.w4)({path:r.RI.getCheckPermissionsPath(),method:"get",version:s.BoD.public.v1}))),Me=()=>(0,n.bP)({path:r.RI.getCheckPermissionsPath(),method:"get",version:s.BoD.public.v1}),Fe=e=>(0,n.bP)({path:`/api/ingest_pipelines/${e}`,method:"get"}),Ue=e=>(0,i.useQuery)({queryKey:["component_templates",e],queryFn:async()=>{const{data:t,error:a}=await(0,n.w$)({path:`/api/index_management/component_templates/${e}`,method:"get"});if(a)throw a;return t},retry:(e,t)=>!(e>3||t&&404===t.statusCode)});function Be(){return(0,n.bP)({method:"get",path:r.f$.getListPath(),version:s.BoD.public.v1})}function je(e,t){return(0,n.w$)({method:"put",path:r.f$.getUpdatePath(e),version:s.BoD.public.v1,body:t})}function Ge(e){return(0,n.w$)({method:"post",path:r.f$.getCreatePath(),version:s.BoD.public.v1,body:e})}function Ve(e){return(0,n.w$)({method:"delete",path:r.f$.getDeletePath(e),version:s.BoD.public.v1})}var qe=a(7975);function Ke(){return(0,n.bP)({method:"get",path:qe.i2.getListPath(),version:s.BoD.public.v1})}function We(e){return(0,n.w$)({method:"delete",path:qe.i2.getDeletePath(e),version:s.BoD.public.v1})}function Qe(e,t){return(0,n.w$)({method:"put",path:qe.i2.getUpdatePath(e),version:s.BoD.public.v1,body:t})}function ze(e){return(0,n.w$)({method:"post",path:qe.i2.getCreatePath(),version:s.BoD.public.v1,body:e})}function Xe(){return(0,n.bP)({method:"get",path:qe.II.getListPath(),version:s.BoD.public.v1})}function Je(e){return(0,n.w$)({method:"delete",path:qe.II.getDeletePath(e),version:s.BoD.public.v1})}function He(e){return(0,n.w$)({method:"post",path:qe.II.getCreatePath(),body:e,version:s.BoD.public.v1})}function Ze(e,t){return(0,n.w$)({method:"put",path:qe.II.getUpdatePath(e),version:s.BoD.public.v1,body:t})}function Ye(e){return(0,n.w$)({method:"post",path:r.RI.postHealthCheckPath(),version:s.BoD.public.v1,body:e})}var et=a(5850);function tt(){return(0,i.useQuery)(["fleet-get-spaces"],(async()=>(0,n.w4)({method:"get",path:et.appRoutesService.getAgentPoliciesSpacesPath(),version:et.API_VERSIONS.internal.v1})))}},14366:(e,t,a)=>{"use strict";a.d(t,{Oo:()=>s,bP:()=>c,nh:()=>u,w$:()=>o,w4:()=>l});var n=a(84286),i=a(18744);let r;const s=e=>{r=e},o=e=>{if(!r)throw new Error("sendRequest has no http client set");return(0,i.sendRequest)(r,e)},l=async e=>{if(!r)throw new Error("sendRequest has no http client set");const t=await(0,i.sendRequest)(r,e);if(t.error)throw t.error;return t.data},c=e=>{if(!r)throw new Error("sendRequest has no http client set");return(0,i.useRequest)(r,e)},u=e=>{const[t,a]=(0,n.useState)({error:null,data:null,isLoading:!1}),{path:i,method:r,shouldSendRequest:s,query:l,body:c}=e;async function u(){if(e.shouldSendRequest)try{a({data:null,isLoading:!0,error:null});const t=await o({method:e.method,path:e.path,query:e.query,body:e.body,version:e.version});if(t.error)throw t.error;return a({data:t.data,isLoading:!1,error:null}),t}catch(e){a({data:null,isLoading:!1,error:e})}else a({data:null,isLoading:!1,error:null})}return(0,n.useEffect)((()=>{u()}),[i,r,s,JSON.stringify(l),JSON.stringify(c)]),{...t,sendRequest:u}}},13540:(e,t,a)=>{"use strict";a.r(t),a.d(t,{AvailablePackagesHook:()=>Z,CustomAssetsAccordion:()=>M,EPM_API_ROUTES:()=>T.LW,LazyPackagePolicyInputVarField:()=>J,PackageIcon:()=>W.q,PackageList:()=>H,PackagePolicyEditorDatastreamMappings:()=>z.T,PackagePolicyEditorDatastreamPipelines:()=>Q.L,SetupTechnology:()=>q.SS,installationStatuses:()=>g.lRn,pagePathGetters:()=>T.tn,pkgKeyFromPackageInfo:()=>K.Ku,plugin:()=>X});var n=a(84286),i=a.n(n),r=a(68915),s=a(64390),o=a(75008),l=a(47400),c=a(30770),u=a(61215),p=a(80190),d=a(5850),g=a(4408);const _=({fleet:e,integrations:t,subfeatureEnabled:a})=>{var n,i,r,s,o,l,c,u,p,d,g,_,E,f,m,v,h,T,P,y,A,I,b,S,R,k,N,L,O,w,$,x,D,C,M,F,U,B,j;const G=a?!!(null!==(n=e.agents)&&void 0!==n&&n.all&&null!==(i=e.agentPolicies)&&void 0!==i&&i.all&&null!==(r=e.settings)&&void 0!==r&&r.all):e.all,V=a?null!==(s=(null===(o=e.agentPolicies)||void 0===o?void 0:o.all)&&t.all)&&void 0!==s&&s:null!==(l=e.all||(null===(c=e.agentPolicies)||void 0===c?void 0:c.all))&&void 0!==l&&l&&t.all,q=a?null!==(u=(null===(p=e.agentPolicies)||void 0===p?void 0:p.read)&&(t.all||t.read))&&void 0!==u&&u:null!==(d=e.all||e.read||(null===(g=e.agentPolicies)||void 0===g?void 0:g.read))&&void 0!==d&&d&&(t.all||t.read);return{fleet:a?{all:G&&(t.all||t.read),readAgents:null!==(_=(null===(E=e.agents)||void 0===E?void 0:E.read)||(null===(f=e.agents)||void 0===f?void 0:f.all))&&void 0!==_&&_,allAgents:null!==(m=null===(v=e.agents)||void 0===v?void 0:v.all)&&void 0!==m&&m,readSettings:null!==(h=(null===(T=e.settings)||void 0===T?void 0:T.read)||(null===(P=e.settings)||void 0===P?void 0:P.all))&&void 0!==h&&h,allSettings:null!==(y=null===(A=e.settings)||void 0===A?void 0:A.all)&&void 0!==y&&y,allAgentPolicies:null!==(I=null===(b=e.agentPolicies)||void 0===b?void 0:b.all)&&void 0!==I&&I,addAgents:null!==(S=null===(R=e.agents)||void 0===R?void 0:R.all)&&void 0!==S&&S,addFleetServers:null!==(k=(null===(N=e.agents)||void 0===N?void 0:N.all)&&(null===(L=e.agentPolicies)||void 0===L?void 0:L.all)&&(null===(O=e.settings)||void 0===O?void 0:O.all))&&void 0!==k&&k,setup:G||e.read||(null===(w=e.agents)||void 0===w?void 0:w.read)||(null===($=e.agentPolicies)||void 0===$?void 0:$.read)||(null===(x=e.settings)||void 0===x?void 0:x.read)||e.setup,readEnrollmentTokens:null!==(D=e.setup||(null===(C=e.agents)||void 0===C?void 0:C.all))&&void 0!==D&&D,readAgentPolicies:null!==(M=e.setup||(null===(F=e.agentPolicies)||void 0===F?void 0:F.read))&&void 0!==M&&M}:{all:e.all&&(t.all||t.read),readAgents:e.all&&(t.all||t.read),allAgents:e.all&&(t.all||t.read),readSettings:e.all&&(t.all||t.read),allSettings:e.all&&(t.all||t.read),allAgentPolicies:e.all&&(t.all||t.read),addAgents:e.all&&(t.all||t.read),addFleetServers:e.all&&(t.all||t.read),setup:e.all||e.setup,readEnrollmentTokens:null!==(U=e.all||e.setup||(null===(B=e.agents)||void 0===B?void 0:B.all))&&void 0!==U&&U,readAgentPolicies:null!==(j=e.all||e.setup)&&void 0!==j&&j},integrations:{readPackageInfo:G||e.setup||t.all||t.read,readInstalledPackages:t.all||t.read,installPackages:V&&t.all,upgradePackages:V&&t.all,removePackages:V&&t.all,uploadPackages:V&&t.all,readPackageSettings:t.read,writePackageSettings:V&&t.all,readIntegrationPolicies:q,writeIntegrationPolicies:V}}};function E(e){return e?{endpoint:{actions:Object.entries(g.PBo).reduce(((t,[a,{privilegeName:n}])=>(t[a]={executePackageAction:e.siemV2&&e.siemV2[n]||!1},t)),{})},transform:{actions:Object.keys(e.transform).reduce(((t,a)=>(t[a]={executePackageAction:e.transform[a]||!1},t)),{})}}:{}}function f(e){if(e&&e.siemV2)return{actions:Object.keys(g.Adt).reduce(((t,a)=>(t[a]=e.siemV2[a]||!1,t)),{})}}const m=Object.freeze({createPackagePolicyMultiPageLayout:!0,packageVerification:!0,diagnosticFileUploadEnabled:!0,displayAgentMetrics:!0,showIntegrationsSubcategories:!0,agentFqdnMode:!0,showExperimentalShipperOptions:!1,agentTamperProtectionEnabled:!0,secretsStorage:!0,kafkaOutput:!0,outputSecretsStorage:!0,remoteESOutput:!0,enableStrictKQLValidation:!0,subfeaturePrivileges:!0,advancedPolicySettings:!0,useSpaceAwareness:!1,enableReusableIntegrationPolicies:!0,asyncDeployPolicies:!0,enableExportCSV:!0,enabledUpgradeAgentlessDeploymentsTask:!1}),v=Object.keys(m),h=e=>v.includes(e);var T=a(46048),P=a(73476),y=a(71230),A=a(7975),I=a(10885);const b="integration",S=(e,t,a)=>{var n;const i={id:e.name,type:b,title:e.title,score:80,icon:(0,I.d)(e,a),url:{path:`${t.getUrlForApp(d.INTEGRATIONS_PLUGIN_ID)}${T.tn.integration_details_overview({pkgkey:e.name})[1]}`,prependBasePath:!1}},r=null===(n=e.policy_templates)||void 0===n?void 0:n.map((n=>({id:n.name,type:b,title:n.title,score:80,icon:(0,I.d)(e,a,n),url:{path:`${t.getUrlForApp(d.INTEGRATIONS_PLUGIN_ID)}${T.tn.integration_details_overview({pkgkey:e.name,integration:n.name})[1]}`,prependBasePath:!1}})));return[...(0,A.Je)(e.policy_templates_behavior,i,r||[])]};var R=a(81319),k=a(96791);const N=i().lazy((()=>a.e(309).then(a.bind(a,28309)))),L=()=>(0,k.jsx)(i().Suspense,{fallback:(0,k.jsx)(R.EuiLoadingSpinner,null)},(0,k.jsx)(N,null)),O=i().lazy((()=>a.e(420).then(a.bind(a,43420)))),w=({moduleName:e})=>(0,k.jsx)(i().Suspense,{fallback:(0,k.jsx)(R.EuiLoadingSpinner,null)},(0,k.jsx)(O,{moduleName:e}));var $=a(83211),x=a(66764),D=a(15006),C=a(5475);const M=({views:e,initialIsOpen:t=!1,title:a})=>{const{application:r}=(0,P.WeA)();return(0,k.jsx)(R.EuiAccordion,{initialIsOpen:t,buttonContent:(0,k.jsx)(R.EuiFlexGroup,{justifyContent:"center",alignItems:"center",gutterSize:"s",responsive:!1},(0,k.jsx)(R.EuiFlexItem,{grow:!1},(0,k.jsx)(R.EuiText,{size:"m"},(0,k.jsx)("h3",null,null!=a?a:C.To.view))),(0,k.jsx)(R.EuiFlexItem,{grow:!1},(0,k.jsx)(R.EuiNotificationBadge,{color:"subdued",size:"m"},(0,k.jsx)("h3",null,e.length)))),id:"custom-assets"},(0,k.jsx)(i().Fragment,null,(0,k.jsx)(R.EuiSpacer,{size:"m"}),(0,k.jsx)(R.EuiSplitPanel.Outer,{hasBorder:!0,hasShadow:!1},e.map(((t,a)=>(0,k.jsx)(n.Fragment,{key:a},(0,k.jsx)(R.EuiSplitPanel.Inner,{grow:!1,key:a},(0,k.jsx)(R.EuiText,{size:"m"},(0,k.jsx)("p",null,(0,k.jsx)(D.V,{coreStart:{application:r}},(0,k.jsx)(R.EuiLink,{href:t.url},t.name)))),(0,k.jsx)(R.EuiSpacer,{size:"s"}),(0,k.jsx)(R.EuiText,{size:"s",color:"subdued"},(0,k.jsx)("p",null,t.description))),a+1<e.length&&(0,k.jsx)(R.EuiHorizontalRule,{margin:"none"})))))))},F=()=>{const{share:{url:e}}=(0,P.WeA)(),{logsLocator:t}=(0,x.getLogsLocatorsFromUrlService)(e),a=[{name:o.i18n.translate("xpack.fleet.assets.customLogs.name",{defaultMessage:"Logs"}),url:t.getRedirectUrl({}),description:o.i18n.translate("xpack.fleet.assets.customLogs.description",{defaultMessage:"View Custom logs data in Logs Explorer"})}];return(0,k.jsx)(M,{views:a,initialIsOpen:!0})},U=(0,n.lazy)((async()=>({default:F})));var B=a(64972),j=a(34294);let G=function(e){return e.agents="agents",e.policies="policies",e.enrollmentTokens="enrollment_tokens",e.uninstallTokens="uninstall_tokens",e.dataStreams="data_streams",e.settings="settings",e}({});const V=(e,t)=>[{id:G.agents,title:o.i18n.translate("xpack.fleet.deepLinks.agents.title",{defaultMessage:"Agents"}),path:j.X5.agents,visibleIn:null!=t&&t.fleet.readAgents?["globalSearch"]:[]},{id:G.policies,title:o.i18n.translate("xpack.fleet.deepLinks.policies.title",{defaultMessage:"Agent policies"}),path:j.X5.policies,visibleIn:null!=t&&t.fleet.readAgentPolicies?["globalSearch"]:[]},{id:G.enrollmentTokens,title:o.i18n.translate("xpack.fleet.deepLinks.enrollmentTokens.title",{defaultMessage:"Enrollment tokens"}),path:j.X5.enrollment_tokens,visibleIn:null!=t&&t.fleet.allAgents?["globalSearch"]:[]},...e.agentTamperProtectionEnabled?[{id:G.uninstallTokens,title:o.i18n.translate("xpack.fleet.deepLinks.uninstallTokens.title",{defaultMessage:"Uninstall tokens"}),path:j.X5.uninstall_tokens,visibleIn:null!=t&&t.fleet.allAgents?["globalSearch"]:[]}]:[],{id:G.dataStreams,title:o.i18n.translate("xpack.fleet.deepLinks.dataStreams.title",{defaultMessage:"Data streams"}),path:j.X5.data_streams},{id:G.settings,title:o.i18n.translate("xpack.fleet.deepLinks.settings.title",{defaultMessage:"Settings"}),path:j.X5.settings,visibleIn:null!=t&&t.fleet.readSettings?["globalSearch"]:[]}];class FleetPlugin{constructor(e){(0,r.default)(this,"config",void 0),(0,r.default)(this,"kibanaVersion",void 0),(0,r.default)(this,"extensions",{}),(0,r.default)(this,"experimentalFeatures",void 0),(0,r.default)(this,"storage",new u.Storage(localStorage)),(0,r.default)(this,"appUpdater$",new p.Subject),this.initializerContext=e,this.config=this.initializerContext.config.get(),this.experimentalFeatures=(e=>{const t={...m};for(const a of e)h(a)&&(t[a]=!0);return{...m,...t}})(this.config.enableExperimental||[]),this.kibanaVersion=e.env.packageInfo.version}setup(e,t){const n=this.config,r=this.kibanaVersion,l=this.extensions;return(0,B.$E)(t.customIntegrations),(0,y.Oo)(e.http),e.application.register({id:d.INTEGRATIONS_PLUGIN_ID,category:s.DEFAULT_APP_CATEGORIES.management,appRoute:"/app/integrations",title:o.i18n.translate("xpack.fleet.integrationsAppTitle",{defaultMessage:"Integrations"}),order:9019,euiIconType:"logoElastic",mount:async s=>{var o,c;const[u,p,d]=await e.getStartServices(),g=t.cloud&&p.cloud?{...t.cloud,...p.cloud}:void 0,_={...u,...p,storage:this.storage,cloud:g,authz:d.authz},{renderApp:E,teardownIntegrations:f}=await Promise.all([a.e(377),a.e(720),a.e(427),a.e(109),a.e(92),a.e(69)]).then(a.bind(a,96646)),m=null!==(o=null===(c=t.usageCollection)||void 0===c?void 0:c.components.ApplicationUsageTrackingProvider)&&void 0!==o?o:i().Fragment,v=E(_,s,n,r,l,m);return()=>{v(),f(_)}}}),e.application.register({id:d.PLUGIN_ID,category:s.DEFAULT_APP_CATEGORIES.management,title:o.i18n.translate("xpack.fleet.appTitle",{defaultMessage:"Fleet"}),order:9020,euiIconType:"logoElastic",appRoute:"/app/fleet",updater$:this.appUpdater$,deepLinks:V(this.experimentalFeatures),mount:async i=>{const[s,o,c]=await e.getStartServices(),u=t.cloud&&o.cloud?{...t.cloud,...o.cloud}:void 0,p={...s,...o,storage:this.storage,cloud:u,authz:c.authz},{renderApp:d,teardownFleet:g}=await Promise.all([a.e(377),a.e(720),a.e(109),a.e(686)]).then(a.bind(a,48686)),_=d(p,i,n,r,l);return()=>{_(),g(p)}}}),e.application.register({id:"ingestManager",category:s.DEFAULT_APP_CATEGORIES.management,visibleIn:[],title:o.i18n.translate("xpack.fleet.oldAppTitle",{defaultMessage:"Ingest Manager"}),async mount(t){const[a]=await e.getStartServices();return a.application.navigateToApp("fleet",{path:t.history.location.hash}),()=>{}}}),t.home&&(t.home.tutorials.registerDirectoryHeaderLink(d.PLUGIN_ID,L),t.home.tutorials.registerModuleNotice(d.PLUGIN_ID,w),t.home.featureCatalogue.register({id:"fleet",title:o.i18n.translate("xpack.fleet.featureCatalogueTitle",{defaultMessage:"Add Elastic Agent integrations"}),description:o.i18n.translate("xpack.fleet.featureCatalogueDescription",{defaultMessage:"Add and manage integrations with Elastic Agent"}),icon:"indexManagementApp",showOnHomePage:!0,path:T.o7,category:"data",order:510})),t.globalSearch&&t.globalSearch.registerResultProvider((e=>{const t=(0,p.from)(e.getStartServices()).pipe((0,p.map)((([e])=>e)),(0,p.shareReplay)(1));let a;return{id:"integrations",getSearchableTypes:()=>[b],find:({term:e,types:n},{maxResults:i,aborted$:r})=>{if(!1===(null==n?void 0:n.includes(b)))return(0,p.of)([]);const s=Boolean(n)&&n.includes(b),o=!e,l=s&&o;return!l&&o?(0,p.of)([]):(e&&(e=e.toLowerCase()),(0,p.combineLatest)([t,(a||(a=(0,p.from)((0,P.OQl)()).pipe((0,p.map)((({error:e,data:t})=>{var a;if(e)throw e;return null!==(a=null==t?void 0:t.response)&&void 0!==a?a:[]})),(0,p.shareReplay)(1))),a)]).pipe((0,p.takeUntil)(r),(0,p.map)((([t,a])=>a?((t,a)=>a.flatMap(l?e=>S(e,t.application,t.http.basePath):a=>e?S(a,t.application,t.http.basePath).filter((t=>e&&t.title.toLowerCase().includes(e))):[]).slice(0,i))(t,a):[]))))}}})(e)),{}}start(e,t){var a;$.Z.init(this.experimentalFeatures);const n=(i=this.extensions,e=>{var t;const{package:a,view:n}=e;if(i[a]||(i[a]={}),null!==(t=i[a])&&void 0!==t&&t[n])throw new Error(`Extension point has already been registered: [${a}][${n}]`);i[a][n]=e});var i;const r=(0,c.once)((()=>e.http.fetch(d.appRoutesService.getCheckPermissionsPath(),{headers:{[l.aN]:g.BoD.public.v1},version:g.BoD.public.v1})));P.Fjq.start(t.licensing.license$);const{capabilities:s}=e.application,o={..._({fleet:{all:s.fleetv2.all,setup:!1,agents:{read:s.fleetv2.agents_read,all:s.fleetv2.agents_all},agentPolicies:{read:s.fleetv2.agent_policies_read,all:s.fleetv2.agent_policies_all},settings:{read:s.fleetv2.settings_read,all:s.fleetv2.settings_all}},integrations:{all:s.fleet.all,read:s.fleet.read},subfeatureEnabled:null!==(a=this.experimentalFeatures.subfeaturePrivileges)&&void 0!==a&&a}),packagePrivileges:E(s),endpointExceptionsPrivileges:f(s)};return this.appUpdater$.next((()=>({deepLinks:V(this.experimentalFeatures,o)}))),n({package:T.Ve,view:"package-detail-assets",Component:U}),(0,B.hI)(t.customIntegrations),{authz:o,config:this.config,isInitialized:(0,c.once)((async()=>{const t=await r();if(null!=t&&t.success){const{isInitialized:t}=await e.http.post(d.setupRouteService.getSetupPath(),{version:g.BoD.public.v1});if(!t)throw new Error("Unknown setup error");return!0}throw new Error((null==t?void 0:t.error)||"Unknown permissions error")})),registerExtension:n,hooks:{epm:{getBulkAssets:P.Alm}}}}stop(){}}var q=a(67088),K=a(74892),W=a(4593),Q=a(84089),z=a(42679);const X=e=>new FleetPlugin(e),J=(0,n.lazy)((()=>a.e(377).then(a.bind(a,82377)).then((e=>({default:e.PackagePolicyInputVarField}))))),H=()=>Promise.all([a.e(377),a.e(720),a.e(427)]).then(a.bind(a,29427)),Z=()=>Promise.all([a.e(377),a.e(720),a.e(427),a.e(92)]).then(a.bind(a,61372))},64972:(e,t,a)=>{"use strict";let n,i;function r(e){n=e}function s(){return n}function o(e){i=e}function l(){return i}a.d(t,{$E:()=>r,TG:()=>s,hI:()=>o,nJ:()=>l})},83211:(e,t,a)=>{"use strict";a.d(t,{Z:()=>ExperimentalFeaturesService});var n=a(68915);class ExperimentalFeaturesService{static init(e){this.experimentalFeatures=e}static get(){return this.experimentalFeatures||this.throwUninitializedError(),this.experimentalFeatures}static throwUninitializedError(){throw new Error("Experimental features services not initialized")}}(0,n.default)(ExperimentalFeaturesService,"experimentalFeatures",void 0)},10885:(e,t,a)=>{"use strict";a.d(t,{d:()=>r});var n=a(81319),i=a(53684);const r=(e,t,a)=>{var r;const s=null===(r=(a||e).icons)||void 0===r?void 0:r.find((e=>"image/svg+xml"===e.type));return s?t.prepend(i.P_.getFilePath(`/package/${e.name}/${e.version}${s.src}`)):n.ICON_TYPES.find((t=>t.toLowerCase()===`logo${e.name}`))}},74892:(e,t,a)=>{"use strict";a.d(t,{ir:()=>i.ir,ZX:()=>n.Z,M5:()=>i.M5,AQ:()=>i.AQ,RI:()=>i.RI,W_:()=>i.W_,nB:()=>i.nB,tE:()=>i.tE,zh:()=>i.zh,f$:()=>i.f$,ed:()=>i.ed,P_:()=>i.P_,Gg:()=>i.Gg,T9:()=>i.T9,Zb:()=>p,_3:()=>i._3,Rh:()=>i.Rh,OO:()=>r,Bp:()=>c,i2:()=>i.RE,G0:()=>s,jj:()=>i.jj,Jg:()=>i.Jg,eE:()=>i.eE,Ku:()=>u,ob:()=>i.ob,B4:()=>i.B4,Sx:()=>i.Sx,bS:()=>i.bS,nb:()=>i.nb,nt:()=>i.nt}),a(69433);var n=a(83211),i=a(7975);function r(e,t){if(!("installationInfo"in e)||!e.installationInfo)return!1;const{verification_status:a,verification_key_id:i}=null==e?void 0:e.installationInfo,{packageVerification:r}=n.Z.get();return r&&("unverified"===a||"verified"===a&&!!i&&i!==t)}const s=e=>{var t;return e&&"attributes"in e&&"verification_failed"===(null===(t=e.attributes)||void 0===t?void 0:t.type)};var o=a(2083),l=a.n(o);const c=e=>{var t,a;return!(!("installationInfo"in e)||null===(t=e.installationInfo)||void 0===t||!t.version)&&l()(null===(a=e.installationInfo)||void 0===a?void 0:a.version,e.version)},u=e=>`${e.name}-${e.version}`;function p(e,t){const a=e.map((e=>e.name)).map((e=>{const a=e.match(t?/Fleet Server policy (\d+)/:/Agent policy (\d+)/);return a?parseInt(a[1],10):0}));return`${t?"Fleet Server":"Agent"} policy ${Math.max(...a,0)+1}`}},67088:(e,t,a)=>{"use strict";a.d(t,{Ip:()=>n.Ip,SS:()=>n.SS,bg:()=>n.bg,jO:()=>n.jO,qP:()=>n.qP});var n=a(19573)},86214:e=>{"use strict";var t="%[a-f0-9]{2}",a=new RegExp("("+t+")|([^%]+?)","gi"),n=new RegExp("("+t+")+","gi");function i(e,t){try{return[decodeURIComponent(e.join(""))]}catch(e){}if(1===e.length)return e;t=t||1;var a=e.slice(0,t),n=e.slice(t);return Array.prototype.concat.call([],i(a),i(n))}function r(e){try{return decodeURIComponent(e)}catch(r){for(var t=e.match(a)||[],n=1;n<t.length;n++)t=(e=i(t,n).join("")).match(a)||[];return e}}e.exports=function(e){if("string"!=typeof e)throw new TypeError("Expected `encodedURI` to be of type `string`, got `"+typeof e+"`");try{return e=e.replace(/\+/g," "),decodeURIComponent(e)}catch(t){return function(e){for(var t={"%FE%FF":"","%FF%FE":""},a=n.exec(e);a;){try{t[a[0]]=decodeURIComponent(a[0])}catch(e){var i=r(a[0]);i!==a[0]&&(t[a[0]]=i)}a=n.exec(e)}t["%C2"]="";for(var s=Object.keys(t),o=0;o<s.length;o++){var l=s[o];e=e.replace(new RegExp(l,"g"),t[l])}return e}(e)}}},20151:(e,t,a)=>{"use strict";const n=a(28136),i=a(86214),r=a(41536);function s(e){if("string"!=typeof e||1!==e.length)throw new TypeError("arrayFormatSeparator must be single character string")}function o(e,t){return t.encode?t.strict?n(e):encodeURIComponent(e):e}function l(e,t){return t.decode?i(e):e}function c(e){return Array.isArray(e)?e.sort():"object"==typeof e?c(Object.keys(e)).sort(((e,t)=>Number(e)-Number(t))).map((t=>e[t])):e}function u(e){const t=e.indexOf("#");return-1!==t&&(e=e.slice(0,t)),e}function p(e){const t=(e=u(e)).indexOf("?");return-1===t?"":e.slice(t+1)}function d(e,t){return t.parseNumbers&&!Number.isNaN(Number(e))&&"string"==typeof e&&""!==e.trim()?e=Number(e):!t.parseBooleans||null===e||"true"!==e.toLowerCase()&&"false"!==e.toLowerCase()||(e="true"===e.toLowerCase()),e}function g(e,t){s((t=Object.assign({decode:!0,sort:!0,arrayFormat:"none",arrayFormatSeparator:",",parseNumbers:!1,parseBooleans:!1},t)).arrayFormatSeparator);const a=function(e){let t;switch(e.arrayFormat){case"index":return(e,a,n)=>{t=/\[(\d*)\]$/.exec(e),e=e.replace(/\[\d*\]$/,""),t?(void 0===n[e]&&(n[e]={}),n[e][t[1]]=a):n[e]=a};case"bracket":return(e,a,n)=>{t=/(\[\])$/.exec(e),e=e.replace(/\[\]$/,""),t?void 0!==n[e]?n[e]=[].concat(n[e],a):n[e]=[a]:n[e]=a};case"comma":case"separator":return(t,a,n)=>{const i="string"==typeof a&&a.split("").indexOf(e.arrayFormatSeparator)>-1?a.split(e.arrayFormatSeparator).map((t=>l(t,e))):null===a?a:l(a,e);n[t]=i};default:return(e,t,a)=>{void 0!==a[e]?a[e]=[].concat(a[e],t):a[e]=t}}}(t),n=Object.create(null);if("string"!=typeof e)return n;if(!(e=e.trim().replace(/^[?#&]/,"")))return n;for(const i of e.split("&")){let[e,s]=r(t.decode?i.replace(/\+/g," "):i,"=");s=void 0===s?null:["comma","separator"].includes(t.arrayFormat)?s:l(s,t),a(l(e,t),s,n)}for(const e of Object.keys(n)){const a=n[e];if("object"==typeof a&&null!==a)for(const e of Object.keys(a))a[e]=d(a[e],t);else n[e]=d(a,t)}return!1===t.sort?n:(!0===t.sort?Object.keys(n).sort():Object.keys(n).sort(t.sort)).reduce(((e,t)=>{const a=n[t];return Boolean(a)&&"object"==typeof a&&!Array.isArray(a)?e[t]=c(a):e[t]=a,e}),Object.create(null))}t.extract=p,t.parse=g,t.stringify=(e,t)=>{if(!e)return"";s((t=Object.assign({encode:!0,strict:!0,arrayFormat:"none",arrayFormatSeparator:","},t)).arrayFormatSeparator);const a=a=>t.skipNull&&null==e[a]||t.skipEmptyString&&""===e[a],n=function(e){switch(e.arrayFormat){case"index":return t=>(a,n)=>{const i=a.length;return void 0===n||e.skipNull&&null===n||e.skipEmptyString&&""===n?a:null===n?[...a,[o(t,e),"[",i,"]"].join("")]:[...a,[o(t,e),"[",o(i,e),"]=",o(n,e)].join("")]};case"bracket":return t=>(a,n)=>void 0===n||e.skipNull&&null===n||e.skipEmptyString&&""===n?a:null===n?[...a,[o(t,e),"[]"].join("")]:[...a,[o(t,e),"[]=",o(n,e)].join("")];case"comma":case"separator":return t=>(a,n)=>null==n||0===n.length?a:0===a.length?[[o(t,e),"=",o(n,e)].join("")]:[[a,o(n,e)].join(e.arrayFormatSeparator)];default:return t=>(a,n)=>void 0===n||e.skipNull&&null===n||e.skipEmptyString&&""===n?a:null===n?[...a,o(t,e)]:[...a,[o(t,e),"=",o(n,e)].join("")]}}(t),i={};for(const t of Object.keys(e))a(t)||(i[t]=e[t]);const r=Object.keys(i);return!1!==t.sort&&r.sort(t.sort),r.map((a=>{const i=e[a];return void 0===i?"":null===i?o(a,t):Array.isArray(i)?i.reduce(n(a),[]).join("&"):o(a,t)+"="+o(i,t)})).filter((e=>e.length>0)).join("&")},t.parseUrl=(e,t)=>{t=Object.assign({decode:!0},t);const[a,n]=r(e,"#");return Object.assign({url:a.split("?")[0]||"",query:g(p(e),t)},t&&t.parseFragmentIdentifier&&n?{fragmentIdentifier:l(n,t)}:{})},t.stringifyUrl=(e,a)=>{a=Object.assign({encode:!0,strict:!0},a);const n=u(e.url).split("?")[0]||"",i=t.extract(e.url),r=t.parse(i,{sort:!1}),s=Object.assign(r,e.query);let l=t.stringify(s,a);l&&(l=`?${l}`);let c=function(e){let t="";const a=e.indexOf("#");return-1!==a&&(t=e.slice(a)),t}(e.url);return e.fragmentIdentifier&&(c=`#${o(e.fragmentIdentifier,a)}`),`${n}${l}${c}`}},61777:(e,t,a)=>{"use strict";var n=a(1941),i=a(84286),r=n.__importDefault(a(45053));t.A=function(e,t){void 0===t&&(t=[]);var a=r.default(e,t,{loading:!0}),n=a[0],s=a[1];return i.useEffect((function(){s()}),[s]),n}},45053:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(1941),i=a(84286),r=n.__importDefault(a(59812));t.default=function(e,t,a){void 0===t&&(t=[]),void 0===a&&(a={loading:!1});var s=i.useRef(0),o=r.default(),l=i.useState(a),c=l[0],u=l[1],p=i.useCallback((function(){for(var t=[],a=0;a<arguments.length;a++)t[a]=arguments[a];var i=++s.current;return u((function(e){return n.__assign(n.__assign({},e),{loading:!0})})),e.apply(void 0,t).then((function(e){return o()&&i===s.current&&u({value:e,loading:!1}),e}),(function(e){return o()&&i===s.current&&u({error:e,loading:!1}),e}))}),t);return[c,p]}},96943:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(84286),i="undefined"!=typeof window?n.useLayoutEffect:n.useEffect;t.default=i},59812:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(84286);t.default=function(){var e=n.useRef(!1),t=n.useCallback((function(){return e.current}),[]);return n.useEffect((function(){return e.current=!0,function(){e.current=!1}})),t}},77880:(e,t,a)=>{"use strict";var n=a(1941),i=a(84286),r=n.__importDefault(a(96943));t.A=function(e,t){var a=i.useState(t),n=a[0],s=a[1];return r.default((function(){var t=e.subscribe(s);return function(){return t.unsubscribe()}}),[e]),n}},44708:(e,t,a)=>{"use strict";const n=a(41064),{MAX_LENGTH:i,MAX_SAFE_INTEGER:r}=a(62074),{safeRe:s,t:o}=a(45750),l=a(89547),{compareIdentifiers:c}=a(61427);class SemVer{constructor(e,t){if(t=l(t),e instanceof SemVer){if(e.loose===!!t.loose&&e.includePrerelease===!!t.includePrerelease)return e;e=e.version}else if("string"!=typeof e)throw new TypeError(`Invalid version. Must be a string. Got type "${typeof e}".`);if(e.length>i)throw new TypeError(`version is longer than ${i} characters`);n("SemVer",e,t),this.options=t,this.loose=!!t.loose,this.includePrerelease=!!t.includePrerelease;const a=e.trim().match(t.loose?s[o.LOOSE]:s[o.FULL]);if(!a)throw new TypeError(`Invalid Version: ${e}`);if(this.raw=e,this.major=+a[1],this.minor=+a[2],this.patch=+a[3],this.major>r||this.major<0)throw new TypeError("Invalid major version");if(this.minor>r||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>r||this.patch<0)throw new TypeError("Invalid patch version");a[4]?this.prerelease=a[4].split(".").map((e=>{if(/^[0-9]+$/.test(e)){const t=+e;if(t>=0&&t<r)return t}return e})):this.prerelease=[],this.build=a[5]?a[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(e){if(n("SemVer.compare",this.version,this.options,e),!(e instanceof SemVer)){if("string"==typeof e&&e===this.version)return 0;e=new SemVer(e,this.options)}return e.version===this.version?0:this.compareMain(e)||this.comparePre(e)}compareMain(e){return e instanceof SemVer||(e=new SemVer(e,this.options)),c(this.major,e.major)||c(this.minor,e.minor)||c(this.patch,e.patch)}comparePre(e){if(e instanceof SemVer||(e=new SemVer(e,this.options)),this.prerelease.length&&!e.prerelease.length)return-1;if(!this.prerelease.length&&e.prerelease.length)return 1;if(!this.prerelease.length&&!e.prerelease.length)return 0;let t=0;do{const a=this.prerelease[t],i=e.prerelease[t];if(n("prerelease compare",t,a,i),void 0===a&&void 0===i)return 0;if(void 0===i)return 1;if(void 0===a)return-1;if(a!==i)return c(a,i)}while(++t)}compareBuild(e){e instanceof SemVer||(e=new SemVer(e,this.options));let t=0;do{const a=this.build[t],i=e.build[t];if(n("build compare",t,a,i),void 0===a&&void 0===i)return 0;if(void 0===i)return 1;if(void 0===a)return-1;if(a!==i)return c(a,i)}while(++t)}inc(e,t,a){if(e.startsWith("pre")){if(!t&&!1===a)throw new Error("invalid increment argument: identifier is empty");if(t){const e=`-${t}`.match(this.options.loose?s[o.PRERELEASELOOSE]:s[o.PRERELEASE]);if(!e||e[1]!==t)throw new Error(`invalid identifier: ${t}`)}}switch(e){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",t,a);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",t,a);break;case"prepatch":this.prerelease.length=0,this.inc("patch",t,a),this.inc("pre",t,a);break;case"prerelease":0===this.prerelease.length&&this.inc("patch",t,a),this.inc("pre",t,a);break;case"release":if(0===this.prerelease.length)throw new Error(`version ${this.raw} is not a prerelease`);this.prerelease.length=0;break;case"major":0===this.minor&&0===this.patch&&0!==this.prerelease.length||this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":0===this.patch&&0!==this.prerelease.length||this.minor++,this.patch=0,this.prerelease=[];break;case"patch":0===this.prerelease.length&&this.patch++,this.prerelease=[];break;case"pre":{const e=Number(a)?1:0;if(0===this.prerelease.length)this.prerelease=[e];else{let n=this.prerelease.length;for(;--n>=0;)"number"==typeof this.prerelease[n]&&(this.prerelease[n]++,n=-2);if(-1===n){if(t===this.prerelease.join(".")&&!1===a)throw new Error("invalid increment argument: identifier already exists");this.prerelease.push(e)}}if(t){let n=[t,e];!1===a&&(n=[t]),0===c(this.prerelease[0],t)?isNaN(this.prerelease[1])&&(this.prerelease=n):this.prerelease=n}break}default:throw new Error(`invalid increment argument: ${e}`)}return this.raw=this.format(),this.build.length&&(this.raw+=`+${this.build.join(".")}`),this}}e.exports=SemVer},60362:(e,t,a)=>{"use strict";const n=a(44708),i=a(94256),{safeRe:r,t:s}=a(45750);e.exports=(e,t)=>{if(e instanceof n)return e;if("number"==typeof e&&(e=String(e)),"string"!=typeof e)return null;let a=null;if((t=t||{}).rtl){const n=t.includePrerelease?r[s.COERCERTLFULL]:r[s.COERCERTL];let i;for(;(i=n.exec(e))&&(!a||a.index+a[0].length!==e.length);)a&&i.index+i[0].length===a.index+a[0].length||(a=i),n.lastIndex=i.index+i[1].length+i[2].length;n.lastIndex=-1}else a=e.match(t.includePrerelease?r[s.COERCEFULL]:r[s.COERCE]);if(null===a)return null;const o=a[2],l=a[3]||"0",c=a[4]||"0",u=t.includePrerelease&&a[5]?`-${a[5]}`:"",p=t.includePrerelease&&a[6]?`+${a[6]}`:"";return i(`${o}.${l}.${c}${u}${p}`,t)}},43440:(e,t,a)=>{"use strict";const n=a(44708);e.exports=(e,t,a)=>new n(e,a).compare(new n(t,a))},81409:(e,t,a)=>{"use strict";const n=a(43440);e.exports=(e,t,a)=>0===n(e,t,a)},99308:(e,t,a)=>{"use strict";const n=a(43440);e.exports=(e,t,a)=>n(e,t,a)>0},23833:(e,t,a)=>{"use strict";const n=a(43440);e.exports=(e,t,a)=>n(e,t,a)>=0},2083:(e,t,a)=>{"use strict";const n=a(43440);e.exports=(e,t,a)=>n(e,t,a)<0},91034:(e,t,a)=>{"use strict";const n=a(44708);e.exports=(e,t)=>new n(e,t).major},69406:(e,t,a)=>{"use strict";const n=a(44708);e.exports=(e,t)=>new n(e,t).minor},94256:(e,t,a)=>{"use strict";const n=a(44708);e.exports=(e,t,a=!1)=>{if(e instanceof n)return e;try{return new n(e,t)}catch(e){if(!a)return null;throw e}}},27618:(e,t,a)=>{"use strict";const n=a(43440);e.exports=(e,t,a)=>n(t,e,a)},79881:(e,t,a)=>{"use strict";const n=a(94256);e.exports=(e,t)=>{const a=n(e,t);return a?a.version:null}},62074:e=>{"use strict";const t=Number.MAX_SAFE_INTEGER||9007199254740991;e.exports={MAX_LENGTH:256,MAX_SAFE_COMPONENT_LENGTH:16,MAX_SAFE_BUILD_LENGTH:250,MAX_SAFE_INTEGER:t,RELEASE_TYPES:["major","premajor","minor","preminor","patch","prepatch","prerelease"],SEMVER_SPEC_VERSION:"2.0.0",FLAG_INCLUDE_PRERELEASE:1,FLAG_LOOSE:2}},41064:(e,t,a)=>{"use strict";var n=a(2502),i=a(43721);const r="object"==typeof n&&{IS_KIBANA_DISTRIBUTABLE:"true"}.NODE_DEBUG&&/\bsemver\b/i.test({IS_KIBANA_DISTRIBUTABLE:"true"}.NODE_DEBUG)?(...e)=>i.error("SEMVER",...e):()=>{};e.exports=r},61427:e=>{"use strict";const t=/^[0-9]+$/,a=(e,a)=>{const n=t.test(e),i=t.test(a);return n&&i&&(e=+e,a=+a),e===a?0:n&&!i?-1:i&&!n?1:e<a?-1:1};e.exports={compareIdentifiers:a,rcompareIdentifiers:(e,t)=>a(t,e)}},89547:e=>{"use strict";const t=Object.freeze({loose:!0}),a=Object.freeze({});e.exports=e=>e?"object"!=typeof e?t:e:a},45750:(e,t,a)=>{"use strict";const{MAX_SAFE_COMPONENT_LENGTH:n,MAX_SAFE_BUILD_LENGTH:i,MAX_LENGTH:r}=a(62074),s=a(41064),o=(t=e.exports={}).re=[],l=t.safeRe=[],c=t.src=[],u=t.safeSrc=[],p=t.t={};let d=0;const g="[a-zA-Z0-9-]",_=[["\\s",1],["\\d",r],[g,i]],E=(e,t,a)=>{const n=(e=>{for(const[t,a]of _)e=e.split(`${t}*`).join(`${t}{0,${a}}`).split(`${t}+`).join(`${t}{1,${a}}`);return e})(t),i=d++;s(e,i,t),p[e]=i,c[i]=t,u[i]=n,o[i]=new RegExp(t,a?"g":void 0),l[i]=new RegExp(n,a?"g":void 0)};E("NUMERICIDENTIFIER","0|[1-9]\\d*"),E("NUMERICIDENTIFIERLOOSE","\\d+"),E("NONNUMERICIDENTIFIER",`\\d*[a-zA-Z-]${g}*`),E("MAINVERSION",`(${c[p.NUMERICIDENTIFIER]})\\.(${c[p.NUMERICIDENTIFIER]})\\.(${c[p.NUMERICIDENTIFIER]})`),E("MAINVERSIONLOOSE",`(${c[p.NUMERICIDENTIFIERLOOSE]})\\.(${c[p.NUMERICIDENTIFIERLOOSE]})\\.(${c[p.NUMERICIDENTIFIERLOOSE]})`),E("PRERELEASEIDENTIFIER",`(?:${c[p.NONNUMERICIDENTIFIER]}|${c[p.NUMERICIDENTIFIER]})`),E("PRERELEASEIDENTIFIERLOOSE",`(?:${c[p.NONNUMERICIDENTIFIER]}|${c[p.NUMERICIDENTIFIERLOOSE]})`),E("PRERELEASE",`(?:-(${c[p.PRERELEASEIDENTIFIER]}(?:\\.${c[p.PRERELEASEIDENTIFIER]})*))`),E("PRERELEASELOOSE",`(?:-?(${c[p.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${c[p.PRERELEASEIDENTIFIERLOOSE]})*))`),E("BUILDIDENTIFIER",`${g}+`),E("BUILD",`(?:\\+(${c[p.BUILDIDENTIFIER]}(?:\\.${c[p.BUILDIDENTIFIER]})*))`),E("FULLPLAIN",`v?${c[p.MAINVERSION]}${c[p.PRERELEASE]}?${c[p.BUILD]}?`),E("FULL",`^${c[p.FULLPLAIN]}$`),E("LOOSEPLAIN",`[v=\\s]*${c[p.MAINVERSIONLOOSE]}${c[p.PRERELEASELOOSE]}?${c[p.BUILD]}?`),E("LOOSE",`^${c[p.LOOSEPLAIN]}$`),E("GTLT","((?:<|>)?=?)"),E("XRANGEIDENTIFIERLOOSE",`${c[p.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`),E("XRANGEIDENTIFIER",`${c[p.NUMERICIDENTIFIER]}|x|X|\\*`),E("XRANGEPLAIN",`[v=\\s]*(${c[p.XRANGEIDENTIFIER]})(?:\\.(${c[p.XRANGEIDENTIFIER]})(?:\\.(${c[p.XRANGEIDENTIFIER]})(?:${c[p.PRERELEASE]})?${c[p.BUILD]}?)?)?`),E("XRANGEPLAINLOOSE",`[v=\\s]*(${c[p.XRANGEIDENTIFIERLOOSE]})(?:\\.(${c[p.XRANGEIDENTIFIERLOOSE]})(?:\\.(${c[p.XRANGEIDENTIFIERLOOSE]})(?:${c[p.PRERELEASELOOSE]})?${c[p.BUILD]}?)?)?`),E("XRANGE",`^${c[p.GTLT]}\\s*${c[p.XRANGEPLAIN]}$`),E("XRANGELOOSE",`^${c[p.GTLT]}\\s*${c[p.XRANGEPLAINLOOSE]}$`),E("COERCEPLAIN",`(^|[^\\d])(\\d{1,${n}})(?:\\.(\\d{1,${n}}))?(?:\\.(\\d{1,${n}}))?`),E("COERCE",`${c[p.COERCEPLAIN]}(?:$|[^\\d])`),E("COERCEFULL",c[p.COERCEPLAIN]+`(?:${c[p.PRERELEASE]})?`+`(?:${c[p.BUILD]})?(?:$|[^\\d])`),E("COERCERTL",c[p.COERCE],!0),E("COERCERTLFULL",c[p.COERCEFULL],!0),E("LONETILDE","(?:~>?)"),E("TILDETRIM",`(\\s*)${c[p.LONETILDE]}\\s+`,!0),t.tildeTrimReplace="$1~",E("TILDE",`^${c[p.LONETILDE]}${c[p.XRANGEPLAIN]}$`),E("TILDELOOSE",`^${c[p.LONETILDE]}${c[p.XRANGEPLAINLOOSE]}$`),E("LONECARET","(?:\\^)"),E("CARETTRIM",`(\\s*)${c[p.LONECARET]}\\s+`,!0),t.caretTrimReplace="$1^",E("CARET",`^${c[p.LONECARET]}${c[p.XRANGEPLAIN]}$`),E("CARETLOOSE",`^${c[p.LONECARET]}${c[p.XRANGEPLAINLOOSE]}$`),E("COMPARATORLOOSE",`^${c[p.GTLT]}\\s*(${c[p.LOOSEPLAIN]})$|^$`),E("COMPARATOR",`^${c[p.GTLT]}\\s*(${c[p.FULLPLAIN]})$|^$`),E("COMPARATORTRIM",`(\\s*)${c[p.GTLT]}\\s*(${c[p.LOOSEPLAIN]}|${c[p.XRANGEPLAIN]})`,!0),t.comparatorTrimReplace="$1$2$3",E("HYPHENRANGE",`^\\s*(${c[p.XRANGEPLAIN]})\\s+-\\s+(${c[p.XRANGEPLAIN]})\\s*$`),E("HYPHENRANGELOOSE",`^\\s*(${c[p.XRANGEPLAINLOOSE]})\\s+-\\s+(${c[p.XRANGEPLAINLOOSE]})\\s*$`),E("STAR","(<|>)?=?\\s*\\*"),E("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$"),E("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")},41536:e=>{"use strict";e.exports=(e,t)=>{if("string"!=typeof e||"string"!=typeof t)throw new TypeError("Expected the arguments to be of type `string`");if(""===t)return[e];const a=e.indexOf(t);return-1===a?[e]:[e.slice(0,a),e.slice(a+t.length)]}},28136:e=>{"use strict";e.exports=e=>encodeURIComponent(e).replace(/[!'()*]/g,(e=>`%${e.charCodeAt(0).toString(16).toUpperCase()}`))},85815:(e,t,a)=>{a.p=window.__kbnPublicPath__.fleet},64390:(e,t,a)=>{a.r(t);var n=__kbnBundles__.get("entry/core/public");Object.defineProperties(t,Object.getOwnPropertyDescriptors(n))},56522:(e,t,a)=>{a.r(t);var n=__kbnBundles__.get("plugin/customIntegrations/common");Object.defineProperties(t,Object.getOwnPropertyDescriptors(n))},83222:(e,t,a)=>{a.r(t);var n=__kbnBundles__.get("plugin/customIntegrations/public");Object.defineProperties(t,Object.getOwnPropertyDescriptors(n))},7195:(e,t,a)=>{a.r(t);var n=__kbnBundles__.get("plugin/data/common");Object.defineProperties(t,Object.getOwnPropertyDescriptors(n))},18744:(e,t,a)=>{a.r(t);var n=__kbnBundles__.get("plugin/esUiShared/public");Object.defineProperties(t,Object.getOwnPropertyDescriptors(n))},52137:(e,t,a)=>{a.r(t);var n=__kbnBundles__.get("plugin/kibanaReact/common");Object.defineProperties(t,Object.getOwnPropertyDescriptors(n))},20409:(e,t,a)=>{a.r(t);var n=__kbnBundles__.get("plugin/kibanaReact/public");Object.defineProperties(t,Object.getOwnPropertyDescriptors(n))},61215:(e,t,a)=>{a.r(t);var n=__kbnBundles__.get("plugin/kibanaUtils/public");Object.defineProperties(t,Object.getOwnPropertyDescriptors(n))},66764:(e,t,a)=>{a.r(t);var n=__kbnBundles__.get("plugin/logsShared/common");Object.defineProperties(t,Object.getOwnPropertyDescriptors(n))},71952:(e,t,a)=>{a.r(t);var n=__kbnBundles__.get("plugin/logsShared/public");Object.defineProperties(t,Object.getOwnPropertyDescriptors(n))},21254:(e,t,a)=>{a.r(t);var n=__kbnBundles__.get("plugin/spaces/common");Object.defineProperties(t,Object.getOwnPropertyDescriptors(n))},11684:(e,t,a)=>{a.r(t);var n=__kbnBundles__.get("plugin/unifiedSearch/public");Object.defineProperties(t,Object.getOwnPropertyDescriptors(n))},24205:(e,t,a)=>{a.r(t);var n=__kbnBundles__.get("plugin/usageCollection/public");Object.defineProperties(t,Object.getOwnPropertyDescriptors(n))},23469:(e,t,a)=>{e.exports=a(52497)(16271)},43721:(e,t,a)=>{e.exports=a(52497)(4971)},3185:(e,t,a)=>{e.exports=a(52497)(51858)},68915:(e,t,a)=>{e.exports=a(52497)(67493)},2502:(e,t,a)=>{e.exports=a(52497)(69849)},81319:e=>{"use strict";e.exports=__kbnSharedDeps__.ElasticEui},96791:e=>{"use strict";e.exports=__kbnSharedDeps__.EmotionReact},9424:e=>{"use strict";e.exports=__kbnSharedDeps__.KbnCodeEditor},55964:e=>{"use strict";e.exports=__kbnSharedDeps__.KbnEsQuery},75008:e=>{"use strict";e.exports=__kbnSharedDeps__.KbnI18n},75879:e=>{"use strict";e.exports=__kbnSharedDeps__.KbnI18nReact},20482:e=>{"use strict";e.exports=__kbnSharedDeps__.KbnReactKibanaContextRender},45995:e=>{"use strict";e.exports=__kbnSharedDeps__.KbnRison},30193:e=>{"use strict";e.exports=__kbnSharedDeps__.KbnSharedUxRouter},69433:e=>{"use strict";e.exports=__kbnSharedDeps__.KbnStd},53803:e=>{"use strict";e.exports=__kbnSharedDeps__.KbnUiTheme},30770:e=>{"use strict";e.exports=__kbnSharedDeps__.Lodash},51783:e=>{"use strict";e.exports=__kbnSharedDeps__.Moment},84286:e=>{"use strict";e.exports=__kbnSharedDeps__.React},22874:e=>{"use strict";e.exports=__kbnSharedDeps__.ReactDom},13530:e=>{"use strict";e.exports=__kbnSharedDeps__.ReactQuery},45692:e=>{"use strict";e.exports=__kbnSharedDeps__.ReactQueryDevtools},1493:e=>{"use strict";e.exports=__kbnSharedDeps__.ReactRouterDom},80190:e=>{"use strict";e.exports=__kbnSharedDeps__.Rxjs},95079:e=>{"use strict";e.exports=__kbnSharedDeps__.SaferLodashSet},26768:e=>{"use strict";e.exports=__kbnSharedDeps__.StyledComponents},1941:e=>{"use strict";e.exports=__kbnSharedDeps__.TsLib},52497:e=>{"use strict";e.exports=__kbnSharedDeps_npm__}},n={};function i(e){var t=n[e];if(void 0!==t)return t.exports;var r=n[e]={id:e,loaded:!1,exports:{}};return a[e].call(r.exports,r,r.exports,i),r.loaded=!0,r.exports}i.m=a,i.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return i.d(t,{a:t}),t},i.d=(e,t)=>{for(var a in t)i.o(t,a)&&!i.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})},i.f={},i.e=e=>Promise.all(Object.keys(i.f).reduce(((t,a)=>(i.f[a](e,t),t)),[])),i.u=e=>"fleet.chunk."+e+".js",i.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),i.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),e={},t="@kbn/fleet-plugin:",i.l=(a,n,r,s)=>{if(e[a])e[a].push(n);else{var o,l;if(void 0!==r)for(var c=document.getElementsByTagName("script"),u=0;u<c.length;u++){var p=c[u];if(p.getAttribute("src")==a||p.getAttribute("data-webpack")==t+r){o=p;break}}o||(l=!0,(o=document.createElement("script")).charset="utf-8",o.timeout=120,i.nc&&o.setAttribute("nonce",i.nc),o.setAttribute("data-webpack",t+r),o.src=a),e[a]=[n];var d=(t,n)=>{o.onerror=o.onload=null,clearTimeout(g);var i=e[a];if(delete e[a],o.parentNode&&o.parentNode.removeChild(o),i&&i.forEach((e=>e(n))),t)return t(n)},g=setTimeout(d.bind(null,void 0,{type:"timeout",target:o}),12e4);o.onerror=d.bind(null,o.onerror),o.onload=d.bind(null,o.onload),l&&document.head.appendChild(o)}},i.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),(()=>{var e;i.g.importScripts&&(e=i.g.location+"");var t=i.g.document;if(!e&&t&&(t.currentScript&&"SCRIPT"===t.currentScript.tagName.toUpperCase()&&(e=t.currentScript.src),!e)){var a=t.getElementsByTagName("script");if(a.length)for(var n=a.length-1;n>-1&&(!e||!/^http(s?):/.test(e));)e=a[n--].src}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),i.p=e})(),(()=>{var e={933:0};i.f.j=(t,a)=>{var n=i.o(e,t)?e[t]:void 0;if(0!==n)if(n)a.push(n[2]);else{var r=new Promise(((a,i)=>n=e[t]=[a,i]));a.push(n[2]=r);var s=i.p+i.u(t),o=new Error;i.l(s,(a=>{if(i.o(e,t)&&(0!==(n=e[t])&&(e[t]=void 0),n)){var r=a&&("load"===a.type?"missing":a.type),s=a&&a.target&&a.target.src;o.message="Loading chunk "+t+" failed.\n("+r+": "+s+")",o.name="ChunkLoadError",o.type=r,o.request=s,n[1](o)}}),"chunk-"+t,t)}};var t=(t,a)=>{var n,r,[s,o,l]=a,c=0;if(s.some((t=>0!==e[t]))){for(n in o)i.o(o,n)&&(i.m[n]=o[n]);l&&l(i)}for(t&&t(a);c<s.length;c++)r=s[c],i.o(e,r)&&e[r]&&e[r][0](),e[r]=0},a=self.fleet_bundle_jsonpfunction=self.fleet_bundle_jsonpfunction||[];a.forEach(t.bind(null,0)),a.push=t.bind(null,a.push.bind(a))})(),i.nc=void 0,i(85815),__kbnBundles__.define("plugin/fleet/public",i,13540),__kbnBundles__.define("plugin/fleet/common",i,5850)})();